(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{177:(Ln,Tt,L)=>{"use strict";L.d(Tt,{AJ:()=>k,Vy:()=>fe,Xr:()=>He});var h=L(2615);const k="browser",$="server";function fe(ye){return ye===$}let He=(()=>{class ye{static \u0275prov=(0,h.jDH)({token:ye,providedIn:"root",factory:()=>new Se((0,h.WQX)(h.qQL),window)})}return ye})();class Se{document;window;offset=()=>[0,0];constructor(Qe,Ae){this.document=Qe,this.window=Ae}setOffset(Qe){this.offset=Array.isArray(Qe)?()=>Qe:Qe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Qe,Ae){this.window.scrollTo({...Ae,left:Qe[0],top:Qe[1]})}scrollToAnchor(Qe,Ae){const at=function le(ye,Qe){const Ae=ye.getElementById(Qe)||ye.getElementsByName(Qe)[0];if(Ae)return Ae;if("function"==typeof ye.createTreeWalker&&ye.body&&"function"==typeof ye.body.attachShadow){const at=ye.createTreeWalker(ye.body,NodeFilter.SHOW_ELEMENT);let Qt=at.currentNode;for(;Qt;){const Un=Qt.shadowRoot;if(Un){const tr=Un.getElementById(Qe)||Un.querySelector(`[name="${Qe}"]`);if(tr)return tr}Qt=at.nextNode()}}return null}(this.document,Qe);at&&(this.scrollToElement(at,Ae),at.focus())}setHistoryScrollRestoration(Qe){try{this.window.history.scrollRestoration=Qe}catch{console.warn((0,h.OsK)(2400,!1))}}scrollToElement(Qe,Ae){const at=Qe.getBoundingClientRect(),Qt=at.left+this.window.pageXOffset,Un=at.top+this.window.pageYOffset,tr=this.offset();this.window.scrollTo({...Ae,left:Qt-tr[0],top:Un-tr[1]})}}},274:(Ln,Tt,L)=>{"use strict";L.d(Tt,{H:()=>k});var h=L(1397),u=L(8071);function k($,Te){return(0,u.T)(Te)?(0,h.Z)($,Te,1):(0,h.Z)($,1)}},324:(Ln,Tt,L)=>{"use strict";var h=L(467),u=L(9574),k=L(2979),$=L(1401),Te=L(5398),fe=L(1635),Ce=L(8779);const We=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},st=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new $.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new Te.Vy("@firebase/auth");function Fe(E,...p){vt.logLevel<=Te.$b.ERROR&&vt.error(`Auth (${k.SDK_VERSION}): ${E}`,...p)}function dt(E,...p){throw ct(E,...p)}function ke(E,...p){return ct(E,...p)}function Ve(E,p,m){const T=Object.assign(Object.assign({},st()),{[p]:m});return new $.FA("auth","Firebase",T).create(p,{appName:E.name})}function Ze(E){return Ve(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _t(E,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&dt(E,"argument-error"),Ve(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(E,...p){if("string"!=typeof E){const m=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(m,...T)}return it.create(E,...p)}function Oe(E,p,...m){if(!E)throw ct(p,...m)}function ln(E){const p="INTERNAL ASSERTION FAILED: "+E;throw Fe(p),new Error(p)}function ut(E,p){E||ln(p)}function Mn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function zt(){return"http:"===kt()||"https:"===kt()}function kt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,ut(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,$.jZ)()||(0,$.lV)()}get(){return function ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,$.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dn(E,p){ut(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class re{static initialize(p,m,T){this.fetchImpl=p,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ue=new tn(3e4,6e4);function we(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function tt(E,p,m,T){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.A)(function*(E,p,m,T,B={}){return Gt(E,B,(0,h.A)(function*(){let se={},qe={};T&&("GET"===p?qe=T:se={body:JSON.stringify(T)});const Ct=(0,$.Am)(Object.assign({key:E.config.apiKey},qe)).slice(1),gn=yield E._getAdditionalHeaders();gn["Content-Type"]="application/json",E.languageCode&&(gn["X-Firebase-Locale"]=E.languageCode);const Yn=Object.assign({method:p,headers:gn},se);return(0,$.c1)()||(Yn.referrerPolicy="no-referrer"),re.fetch()(In(E,E.config.apiHost,m,Ct),Yn)}))})).apply(this,arguments)}function Gt(E,p,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,h.A)(function*(E,p,m){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},_e),p);try{const B=new Tn(E),se=yield Promise.race([m(),B.promise]);B.clearNetworkTimeout();const qe=yield se.json();if("needConfirmation"in qe)throw an(E,"account-exists-with-different-credential",qe);if(se.ok&&!("errorMessage"in qe))return qe;{const Ct=se.ok?qe.errorMessage:qe.error.message,[gn,Yn]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gn)throw an(E,"credential-already-in-use",qe);if("EMAIL_EXISTS"===gn)throw an(E,"email-already-in-use",qe);if("USER_DISABLED"===gn)throw an(E,"user-disabled",qe);const Ar=T[gn]||gn.toLowerCase().replace(/[_\s]+/g,"-");if(Yn)throw Ve(E,Ar,Yn);dt(E,Ar)}}catch(B){if(B instanceof $.g)throw B;dt(E,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function yn(E,p,m,T){return lt.apply(this,arguments)}function lt(){return(lt=(0,h.A)(function*(E,p,m,T,B={}){const se=yield tt(E,p,m,T,B);return"mfaPendingCredential"in se&&dt(E,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function In(E,p,m,T){const B=`${p}${m}?${T}`;return E.config.emulator?dn(E.config,B):`${E.config.apiScheme}://${B}`}function yt(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(ke(this.auth,"network-request-failed")),Ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function an(E,p,m){const T={appName:E.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const B=ke(E,p,T);return B.customData._tokenResponse=m,B}function Pt(E){return void 0!==E&&void 0!==E.getResponse}function rt(E){return void 0!==E&&void 0!==E.enterprise}class Bt{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===p)return yt(m.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function ar(){return(ar=(0,h.A)(function*(E){return(yield tt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sr(){return(Sr=(0,h.A)(function*(E,p){return tt(E,"GET","/v2/recaptchaConfig",we(E,p))})).apply(this,arguments)}function Gn(){return(Gn=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function cr(){return(cr=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xt(E,p){return on.apply(this,arguments)}function on(){return(on=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function On(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Mr(){return(Mr=(0,h.A)(function*(E,p=!1){const m=(0,$.Ku)(E),T=yield m.getIdToken(p),B=ai(T);Oe(B&&B.exp&&B.auth_time&&B.iat,m.auth,"internal-error");const se="object"==typeof B.firebase?B.firebase:void 0,qe=se?.sign_in_provider;return{claims:B,token:T,authTime:On(Er(B.auth_time)),issuedAtTime:On(Er(B.iat)),expirationTime:On(Er(B.exp)),signInProvider:qe||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Er(E){return 1e3*Number(E)}function ai(E){const[p,m,T]=E.split(".");if(void 0===p||void 0===m||void 0===T)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,$.u)(m);return B?JSON.parse(B):(Fe("Failed to decode base64 JWT payload"),null)}catch(B){return Fe("Caught error parsing JWT payload as JSON",B?.toString()),null}}function Jr(E){const p=ai(E);return Oe(p,"internal-error"),Oe(typeof p.exp<"u","internal-error"),Oe(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Ur(E,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,h.A)(function*(E,p,m=!1){if(m)return p;try{return yield p}catch(T){throw T instanceof $.g&&function Ii({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}class Fn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const B=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,h.A)(function*(){yield m.iteration()}),T)}iteration(){var p=this;return(0,h.A)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class ni{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jr(E){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.A)(function*(E){var p;const m=E.auth,T=yield E.getIdToken(),B=yield Ur(E,Xt(m,{idToken:T}));Oe(B?.users.length,m,"internal-error");const se=B.users[0];E._notifyReloadListener(se);const qe=null!==(p=se.providerUserInfo)&&void 0!==p&&p.length?$i(se.providerUserInfo):[],Ct=function ii(E,p){return[...E.filter(T=>!p.some(B=>B.providerId===T.providerId)),...p]}(E.providerData,qe),Ar=!!E.isAnonymous&&!(E.email&&se.passwordHash||Ct?.length),Jn={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Ct,metadata:new ni(se.createdAt,se.lastLoginAt),isAnonymous:Ar};Object.assign(E,Jn)})).apply(this,arguments)}function si(){return(si=(0,h.A)(function*(E){const p=(0,$.Ku)(E);yield jr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function $i(E){return E.map(p=>{var{providerId:m}=p,T=(0,fe.Tt)(p,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Wr(){return(Wr=(0,h.A)(function*(E,p){const m=yield Gt(E,{},(0,h.A)(function*(){const T=(0,$.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:B,apiKey:se}=E.config,qe=In(E,B,"/v1/token",`key=${se}`),Ct=yield E._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",re.fetch()(qe,{method:"POST",headers:Ct,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function $e(){return($e=(0,h.A)(function*(E,p){return tt(E,"POST","/v2/accounts:revokeToken",we(E,p))})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Oe(p.idToken,"internal-error"),Oe(typeof p.idToken<"u","internal-error"),Oe(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Jr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}updateFromIdToken(p){Oe(0!==p.length,"internal-error");const m=Jr(p);this.updateTokensAndExpiration(p,null,m)}getToken(p){var m=this;return(0,h.A)(function*(T,B=!1){return B||!m.accessToken||m.isExpired?(Oe(m.refreshToken,T,"user-token-expired"),m.refreshToken?(yield m.refresh(T,m.refreshToken),m.accessToken):null):m.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var T=this;return(0,h.A)(function*(){const{accessToken:B,refreshToken:se,expiresIn:qe}=yield function Ti(E,p){return Wr.apply(this,arguments)}(p,m);T.updateTokensAndExpiration(B,se,Number(qe))})()}updateTokensAndExpiration(p,m,T){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,m){const{refreshToken:T,accessToken:B,expirationTime:se}=m,qe=new nt;return T&&(Oe("string"==typeof T,"internal-error",{appName:p}),qe.refreshToken=T),B&&(Oe("string"==typeof B,"internal-error",{appName:p}),qe.accessToken=B),se&&(Oe("number"==typeof se,"internal-error",{appName:p}),qe.expirationTime=se),qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return ln("not implemented")}}function Kt(E,p){Oe("string"==typeof E||typeof E>"u","internal-error",{appName:p})}class bt{constructor(p){var{uid:m,auth:T,stsTokenManager:B}=p,se=(0,fe.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new ni(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.A)(function*(){const T=yield Ur(m,m.stsTokenManager.getToken(m.auth,p));return Oe(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(p){return function gr(E){return Mr.apply(this,arguments)}(this,p)}reload(){return function Pi(E){return si.apply(this,arguments)}(this)}_assign(p){this!==p&&(Oe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new bt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p){var m=this;return(0,h.A)(function*(T,B=!1){let se=!1;T.idToken&&T.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(T),se=!0),B&&(yield jr(m)),yield m.auth._persistUserIfCurrent(m),se&&m.auth._notifyListenersIfCurrent(m)}).apply(this,arguments)}delete(){var p=this;return(0,h.A)(function*(){if((0,k._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ze(p.auth));const m=yield p.getIdToken();return yield Ur(p,function fr(E,p){return Gn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var T,B,se,qe,Ct,gn,Yn,Ar;const Jn=null!==(T=m.displayName)&&void 0!==T?T:void 0,Ai=null!==(B=m.email)&&void 0!==B?B:void 0,Ns=null!==(se=m.phoneNumber)&&void 0!==se?se:void 0,qs=null!==(qe=m.photoURL)&&void 0!==qe?qe:void 0,bl=null!==(Ct=m.tenantId)&&void 0!==Ct?Ct:void 0,df=null!==(gn=m._redirectEventId)&&void 0!==gn?gn:void 0,Oo=null!==(Yn=m.createdAt)&&void 0!==Yn?Yn:void 0,Fp=null!==(Ar=m.lastLoginAt)&&void 0!==Ar?Ar:void 0,{uid:Gd,emailVerified:Vp,isAnonymous:Lu,providerData:Bs,stsTokenManager:Up}=m;Oe(Gd&&Up,p,"internal-error");const Xd=nt.fromJSON(this.name,Up);Oe("string"==typeof Gd,p,"internal-error"),Kt(Jn,p.name),Kt(Ai,p.name),Oe("boolean"==typeof Vp,p,"internal-error"),Oe("boolean"==typeof Lu,p,"internal-error"),Kt(Ns,p.name),Kt(qs,p.name),Kt(bl,p.name),Kt(df,p.name),Kt(Oo,p.name),Kt(Fp,p.name);const qd=new bt({uid:Gd,auth:p,email:Ai,emailVerified:Vp,displayName:Jn,isAnonymous:Lu,photoURL:qs,phoneNumber:Ns,tenantId:bl,stsTokenManager:Xd,createdAt:Oo,lastLoginAt:Fp});return Bs&&Array.isArray(Bs)&&(qd.providerData=Bs.map(Qd=>Object.assign({},Qd))),df&&(qd._redirectEventId=df),qd}static _fromIdTokenResponse(p,m){return(0,h.A)(function*(T,B,se=!1){const qe=new nt;qe.updateFromServerResponse(B);const Ct=new bt({uid:B.localId,auth:T,stsTokenManager:qe,isAnonymous:se});return yield jr(Ct),Ct}).apply(this,arguments)}static _fromGetAccountInfoResponse(p,m,T){return(0,h.A)(function*(){const B=m.users[0];Oe(void 0!==B.localId,"internal-error");const se=void 0!==B.providerUserInfo?$i(B.providerUserInfo):[],qe=!(B.email&&B.passwordHash||se?.length),Ct=new nt;Ct.updateFromIdToken(T);const gn=new bt({uid:B.localId,auth:p,stsTokenManager:Ct,isAnonymous:qe}),Yn={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:se,metadata:new ni(B.createdAt,B.lastLoginAt),isAnonymous:!(B.email&&B.passwordHash||se?.length)};return Object.assign(gn,Yn),gn})()}}const Vn=new Map;function Kn(E){ut(E instanceof Function,"Expected a class definition");let p=Vn.get(E);return p?(ut(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,Vn.set(E,p),p)}const Lr=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.A)(function*(){return!0})()}_set(m,T){var B=this;return(0,h.A)(function*(){B.storage[m]=T})()}_get(m){var T=this;return(0,h.A)(function*(){const B=T.storage[m];return void 0===B?null:B})()}_remove(m){var T=this;return(0,h.A)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return E.type="NONE",E})();function Rr(E,p,m){return`firebase:${E}:${p}:${m}`}class Pr{constructor(p,m,T){this.persistence=p,this.auth=m,this.userKey=T;const{config:B,name:se}=this.auth;this.fullUserKey=Rr(this.userKey,B.apiKey,se),this.fullPersistenceKey=Rr("persistence",B.apiKey,se),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.A)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?bt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.A)(function*(){if(m.persistence===p)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m){return(0,h.A)(function*(T,B,se="authUser"){if(!B.length)return new Pr(Kn(Lr),T,se);const qe=(yield Promise.all(B.map(function(){var Jn=(0,h.A)(function*(Ai){if(yield Ai._isAvailable())return Ai});return function(Ai){return Jn.apply(this,arguments)}}()))).filter(Jn=>Jn);let Ct=qe[0]||Kn(Lr);const gn=Rr(se,T.config.apiKey,T.name);let Yn=null;for(const Jn of B)try{const Ai=yield Jn._get(gn);if(Ai){const Ns=bt._fromJSON(T,Ai);Jn!==Ct&&(Yn=Ns),Ct=Jn;break}}catch{}const Ar=qe.filter(Jn=>Jn._shouldAllowMigration);return Ct._shouldAllowMigration&&Ar.length?(Ct=Ar[0],Yn&&(yield Ct._set(gn,Yn.toJSON())),yield Promise.all(B.map(function(){var Jn=(0,h.A)(function*(Ai){if(Ai!==Ct)try{yield Ai._remove(gn)}catch{}});return function(Ai){return Jn.apply(this,arguments)}}())),new Pr(Ct,T,se)):new Pr(Ct,T,se)}).apply(this,arguments)}}function Hn(E){const p=E.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Di(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(yr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Gr(p))return"Blackberry";if(Ci(p))return"Webos";if(ui(p))return"Safari";if((p.includes("chrome/")||Dr(p))&&!p.includes("edge/"))return"Chrome";if(pi(p))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function yr(E=(0,$.ZQ)()){return/firefox\//i.test(E)}function ui(E=(0,$.ZQ)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Dr(E=(0,$.ZQ)()){return/crios\//i.test(E)}function Di(E=(0,$.ZQ)()){return/iemobile/i.test(E)}function pi(E=(0,$.ZQ)()){return/android/i.test(E)}function Gr(E=(0,$.ZQ)()){return/blackberry/i.test(E)}function Ci(E=(0,$.ZQ)()){return/webos/i.test(E)}function li(E=(0,$.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function nn(E=(0,$.ZQ)()){return li(E)||pi(E)||Ci(E)||Gr(E)||/windows phone/i.test(E)||Di(E)}function ye(E,p=[]){let m;switch(E){case"Browser":m=Hn((0,$.ZQ)());break;case"Worker":m=`${Hn((0,$.ZQ)())}-${E}`;break;default:m=E}const T=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${k.SDK_VERSION}/${T}`}class Qe{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const T=se=>new Promise((qe,Ct)=>{try{qe(p(se))}catch(gn){Ct(gn)}});T.onAbort=m,this.queue.push(T);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.A)(function*(){if(m.auth.currentUser===p)return;const T=[];try{for(const B of m.queue)yield B(p),B.onAbort&&T.push(B.onAbort)}catch(B){T.reverse();for(const se of T)try{se()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}function at(){return(at=(0,h.A)(function*(E,p={}){return tt(E,"GET","/v2/passwordPolicy",we(E,p))})).apply(this,arguments)}class Un{constructor(p){var m,T,B,se;const qe=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=qe.minPasswordLength)&&void 0!==m?m:6,qe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=qe.maxPasswordLength),void 0!==qe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=qe.containsLowercaseCharacter),void 0!==qe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=qe.containsUppercaseCharacter),void 0!==qe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=qe.containsNumericCharacter),void 0!==qe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=qe.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(B=null===(T=p.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==B?B:"",this.forceUpgradeOnSignin=null!==(se=p.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=p.schemaVersion}validatePassword(p){var m,T,B,se,qe,Ct;const gn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,gn),this.validatePasswordCharacterOptions(p,gn),gn.isValid&&(gn.isValid=null===(m=gn.meetsMinPasswordLength)||void 0===m||m),gn.isValid&&(gn.isValid=null===(T=gn.meetsMaxPasswordLength)||void 0===T||T),gn.isValid&&(gn.isValid=null===(B=gn.containsLowercaseLetter)||void 0===B||B),gn.isValid&&(gn.isValid=null===(se=gn.containsUppercaseLetter)||void 0===se||se),gn.isValid&&(gn.isValid=null===(qe=gn.containsNumericCharacter)||void 0===qe||qe),gn.isValid&&(gn.isValid=null===(Ct=gn.containsNonAlphanumericCharacter)||void 0===Ct||Ct),gn}validatePasswordLengthOptions(p,m){const T=this.customStrengthOptions.minPasswordLength,B=this.customStrengthOptions.maxPasswordLength;T&&(m.meetsMinPasswordLength=p.length>=T),B&&(m.meetsMaxPasswordLength=p.length<=B)}validatePasswordCharacterOptions(p,m){let T;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let B=0;B<p.length;B++)T=p.charAt(B),this.updatePasswordCharacterOptionsStatuses(m,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(p,m,T,B,se){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=B)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=se))}}class tr{constructor(p,m,T,B){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=T,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.beforeStateQueue=new Qe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(p,m){var T=this;return m&&(this._popupRedirectResolver=Kn(m)),this._initializationPromise=this.queue((0,h.A)(function*(){var B,se;if(!T._deleted&&(T.persistenceManager=yield Pr.create(T,p),!T._deleted)){if(null!==(B=T._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(se=T.currentUser)||void 0===se?void 0:se.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.A)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(p){var m=this;return(0,h.A)(function*(){try{const T=yield Xt(m,{idToken:p}),B=yield bt._fromGetAccountInfoResponse(m,T,p);yield m.directlySetCurrentUser(B)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var m=this;return(0,h.A)(function*(){var T;if((0,k._isFirebaseServerApp)(m.app)){const Ct=m.app.settings.authIdToken;return Ct?new Promise(gn=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(Ct).then(gn,gn))}):m.directlySetCurrentUser(null)}const B=yield m.assertedPersistence.getCurrentUser();let se=B,qe=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ct=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,gn=se?._redirectEventId,Yn=yield m.tryRedirectSignIn(p);(!Ct||Ct===gn)&&Yn?.user&&(se=Yn.user,qe=!0)}if(!se)return m.directlySetCurrentUser(null);if(!se._redirectEventId){if(qe)try{yield m.beforeStateQueue.runMiddleware(se)}catch(Ct){se=B,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ct))}return se?m.reloadAndSetCurrentUserOrClear(se):m.directlySetCurrentUser(null)}return Oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===se._redirectEventId?m.directlySetCurrentUser(se):m.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(p){var m=this;return(0,h.A)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.A)(function*(){try{yield jr(p)}catch(T){if("auth/network-request-failed"!==T?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function jt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var p=this;return(0,h.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.A)(function*(){if((0,k._isFirebaseServerApp)(m.app))return Promise.reject(Ze(m));const T=p?(0,$.Ku)(p):null;return T&&Oe(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,h.A)(function*(T,B=!1){if(!m._deleted)return T&&Oe(m.tenantId===T.tenantId,m,"tenant-id-mismatch"),B||(yield m.beforeStateQueue.runMiddleware(T)),m.queue((0,h.A)(function*(){yield m.directlySetCurrentUser(T),m.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var p=this;return(0,h.A)(function*(){return(0,k._isFirebaseServerApp)(p.app)?Promise.reject(Ze(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var m=this;return(0,k._isFirebaseServerApp)(this.app)?Promise.reject(Ze(this)):this.queue((0,h.A)(function*(){yield m.assertedPersistence.setPersistence(Kn(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var m=this;return(0,h.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const T=m._getPasswordPolicyInternal();return T.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,h.A)(function*(){const m=yield function Ae(E){return at.apply(this,arguments)}(p),T=new Un(m);null===p.tenantId?p._projectPasswordPolicy=T:p._tenantPasswordPolicies[p.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new $.FA("auth","Firebase",p())}onAuthStateChanged(p,m,T){return this.registerStateListener(this.authStateSubscription,p,m,T)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,T){return this.registerStateListener(this.idTokenSubscription,p,m,T)}authStateReady(){return new Promise((p,m)=>{if(this.currentUser)p();else{const T=this.onAuthStateChanged(()=>{T(),p()},m)}})}revokeAccessToken(p){var m=this;return(0,h.A)(function*(){if(m.currentUser){const T=yield m.currentUser.getIdToken(),B={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:T};null!=m.tenantId&&(B.tenantId=m.tenantId),yield function Be(E,p){return $e.apply(this,arguments)}(m,B)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var T=this;return(0,h.A)(function*(){const B=yield T.getOrInitRedirectPersistenceManager(m);return null===p?B.removeCurrentUser():B.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.A)(function*(){if(!m.redirectPersistenceManager){const T=p&&Kn(p)||m._popupRedirectResolver;Oe(T,m,"argument-error"),m.redirectPersistenceManager=yield Pr.create(m,[Kn(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.A)(function*(){var T,B;return m._isInitialized&&(yield m.queue((0,h.A)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===p?m._currentUser:(null===(B=m.redirectUser)||void 0===B?void 0:B._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.A)(function*(){if(p===m.currentUser)return m.queue((0,h.A)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,T,B){if(this._deleted)return()=>{};const se="function"==typeof m?m:m.next.bind(m);let qe=!1;const Ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(Ct,this,"internal-error"),Ct.then(()=>{qe||se(this.currentUser)}),"function"==typeof m){const gn=p.addObserver(m,T,B);return()=>{qe=!0,gn()}}{const gn=p.addObserver(m);return()=>{qe=!0,gn()}}}directlySetCurrentUser(p){var m=this;return(0,h.A)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.A)(function*(){var m;const T={"X-Client-Version":p.clientVersion};p.app.options.appId&&(T["X-Firebase-gmpid"]=p.app.options.appId);const B=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();B&&(T["X-Firebase-Client"]=B);const se=yield p._getAppCheckToken();return se&&(T["X-Firebase-AppCheck"]=se),T})()}_getAppCheckToken(){var p=this;return(0,h.A)(function*(){var m;const T=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return T?.error&&function Rt(E,...p){vt.logLevel<=Te.$b.WARN&&vt.warn(`Auth (${k.SDK_VERSION}): ${E}`,...p)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function pr(E){return(0,$.Ku)(E)}class zr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,$.tD)(m=>this.observer=m)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ki={loadJS:()=>(0,h.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function po(E){return Ki.loadJS(E)}function Ao(E){return`__${E}${Math.floor(1e6*Math.random())}`}class oo{constructor(p){this.type="recaptcha-enterprise",this.auth=pr(p)}verify(){var p=this;return(0,h.A)(function*(m="verify",T=!1){function se(){return se=(0,h.A)(function*(Ct){if(!T){if(null==Ct.tenantId&&null!=Ct._agentRecaptchaConfig)return Ct._agentRecaptchaConfig.siteKey;if(null!=Ct.tenantId&&void 0!==Ct._tenantRecaptchaConfigs[Ct.tenantId])return Ct._tenantRecaptchaConfigs[Ct.tenantId].siteKey}return new Promise(function(){var gn=(0,h.A)(function*(Yn,Ar){(function br(E,p){return Sr.apply(this,arguments)})(Ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Jn=>{if(void 0!==Jn.recaptchaKey){const Ai=new Bt(Jn);return null==Ct.tenantId?Ct._agentRecaptchaConfig=Ai:Ct._tenantRecaptchaConfigs[Ct.tenantId]=Ai,Yn(Ai.siteKey)}Ar(new Error("recaptcha Enterprise site key undefined"))}).catch(Jn=>{Ar(Jn)})});return function(Yn,Ar){return gn.apply(this,arguments)}}())}),se.apply(this,arguments)}function qe(Ct,gn,Yn){const Ar=window.grecaptcha;rt(Ar)?Ar.enterprise.ready(()=>{Ar.enterprise.execute(Ct,{action:m}).then(Jn=>{gn(Jn)}).catch(()=>{gn("NO_RECAPTCHA")})}):Yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ct,gn)=>{(function B(Ct){return se.apply(this,arguments)})(p.auth).then(Yn=>{if(!T&&rt(window.grecaptcha))qe(Yn,Ct,gn);else{if(typeof window>"u")return void gn(new Error("RecaptchaVerifier is only supported in browser"));let Ar=function gi(){return Ki.recaptchaEnterpriseScript}();0!==Ar.length&&(Ar+=Yn),po(Ar).then(()=>{qe(Yn,Ct,gn)}).catch(Jn=>{gn(Jn)})}}).catch(Yn=>{gn(Yn)})})}).apply(this,arguments)}}function bo(E,p,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,h.A)(function*(E,p,m,T=!1){const B=new oo(E);let se;try{se=yield B.verify(m)}catch{se=yield B.verify(m,!0)}const qe=Object.assign({},p);return Object.assign(qe,T?{captchaResp:se}:{captchaResponse:se}),Object.assign(qe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(qe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),qe})).apply(this,arguments)}function Li(E,p,m,T){return qi.apply(this,arguments)}function qi(){return qi=(0,h.A)(function*(E,p,m,T){var B;if(null!==(B=E._getRecaptchaConfig())&&void 0!==B&&B.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield bo(E,p,m,"getOobCode"===m);return T(E,se)}return T(E,p).catch(function(){var se=(0,h.A)(function*(qe){if("auth/missing-recaptcha-token"===qe.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ct=yield bo(E,p,m,"getOobCode"===m);return T(E,Ct)}return Promise.reject(qe)});return function(qe){return se.apply(this,arguments)}}())}),qi.apply(this,arguments)}function ne(E){const p=E.indexOf(":");return p<0?"":E.substr(0,p+1)}function ft(E){if(!E)return null;const p=Number(E);return isNaN(p)?null:p}class Sn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ln("not implemented")}_getIdTokenResponse(p){return ln("not implemented")}_linkToIdToken(p,m){return ln("not implemented")}_getReauthenticationResolver(p){return ln("not implemented")}}function F(E,p){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:resetPassword",we(E,p))})).apply(this,arguments)}function ue(){return(ue=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ot(E,p){return un.apply(this,arguments)}function un(){return(un=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function mn(){return(mn=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:update",we(E,p))})).apply(this,arguments)}function xr(E,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signInWithPassword",we(E,p))})).apply(this,arguments)}function kr(E,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:sendOobCode",we(E,p))})).apply(this,arguments)}function Ir(){return(Ir=(0,h.A)(function*(E,p){return kr(E,p)})).apply(this,arguments)}function Xr(E,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.A)(function*(E,p){return kr(E,p)})).apply(this,arguments)}function So(E,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.A)(function*(E,p){return kr(E,p)})).apply(this,arguments)}function Br(){return(Br=(0,h.A)(function*(E,p){return kr(E,p)})).apply(this,arguments)}function N(){return(N=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signInWithEmailLink",we(E,p))})).apply(this,arguments)}function vr(){return(vr=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signInWithEmailLink",we(E,p))})).apply(this,arguments)}class qr extends Sn{constructor(p,m,T,B=null){super("password",T),this._email=p,this._password=m,this._tenantId=B}static _fromEmailAndPassword(p,m){return new qr(p,m,"password")}static _fromEmailAndCode(p,m,T=null){return new qr(p,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.A)(function*(){switch(m.signInMethod){case"password":return Li(p,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",xr);case"emailLink":return function X(E,p){return N.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:dt(p,"internal-error")}})()}_linkToIdToken(p,m){var T=this;return(0,h.A)(function*(){switch(T.signInMethod){case"password":return Li(p,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ot);case"emailLink":return function he(E,p){return vr.apply(this,arguments)}(p,{idToken:m,email:T._email,oobCode:T._password});default:dt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function bi(E,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signInWithIdp",we(E,p))})).apply(this,arguments)}class no extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new no(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):dt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:B}=m,se=(0,fe.Tt)(m,["providerId","signInMethod"]);if(!T||!B)return null;const qe=new no(T,B);return qe.idToken=se.idToken||void 0,qe.accessToken=se.accessToken||void 0,qe.secret=se.secret,qe.nonce=se.nonce,qe.pendingToken=se.pendingToken||null,qe}_getIdTokenResponse(p){return bi(p,this.buildRequest())}_linkToIdToken(p,m){const T=this.buildRequest();return T.idToken=m,bi(p,T)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,bi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,$.Am)(m)}return p}}function ao(){return(ao=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:sendVerificationCode",we(E,p))})).apply(this,arguments)}function Es(){return(Es=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signInWithPhoneNumber",we(E,p))})).apply(this,arguments)}function $s(){return($s=(0,h.A)(function*(E,p){const m=yield yn(E,"POST","/v1/accounts:signInWithPhoneNumber",we(E,p));if(m.temporaryProof)throw an(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const oe={USER_NOT_FOUND:"user-not-found"};function ee(){return(ee=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signInWithPhoneNumber",we(E,Object.assign(Object.assign({},p),{operation:"REAUTH"})),oe)})).apply(this,arguments)}class Re extends Sn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Re({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Re({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Na(E,p){return Es.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function nl(E,p){return $s.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function z(E,p){return ee.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:T,verificationCode:B}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:T,code:B}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:T,phoneNumber:B,temporaryProof:se}=p;return T||m||B||se?new Re({verificationId:m,verificationCode:T,phoneNumber:B,temporaryProof:se}):null}}class _n{constructor(p){var m,T,B,se,qe,Ct;const gn=(0,$.I9)((0,$.hp)(p)),Yn=null!==(m=gn.apiKey)&&void 0!==m?m:null,Ar=null!==(T=gn.oobCode)&&void 0!==T?T:null,Jn=function Et(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=gn.mode)&&void 0!==B?B:null);Oe(Yn&&Ar&&Jn,"argument-error"),this.apiKey=Yn,this.operation=Jn,this.code=Ar,this.continueUrl=null!==(se=gn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(qe=gn.languageCode)&&void 0!==qe?qe:null,this.tenantId=null!==(Ct=gn.tenantId)&&void 0!==Ct?Ct:null}static parseLink(p){const m=function Jt(E){const p=(0,$.I9)((0,$.hp)(E)).link,m=p?(0,$.I9)((0,$.hp)(p)).deep_link_id:null,T=(0,$.I9)((0,$.hp)(E)).deep_link_id;return(T?(0,$.I9)((0,$.hp)(T)).link:null)||T||m||p||E}(p);try{return new _n(m)}catch{return null}}}let or=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,T){return qr._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const B=_n.parseLink(T);return Oe(B,"argument-error"),qr._fromEmailAndCode(m,B.code,B.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ur{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Tr extends ur{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class rr extends Tr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Oe("providerId"in m&&"signInMethod"in m,"argument-error"),no._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Oe(p.idToken||p.accessToken,"argument-error"),no._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return rr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return rr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:B,pendingToken:se,nonce:qe,providerId:Ct}=p;if(!T&&!B&&!m&&!se||!Ct)return null;try{return new rr(Ct)._credential({idToken:m,accessToken:T,nonce:qe,pendingToken:se})}catch{return null}}}let Fi=(()=>{class E extends Tr{constructor(){super("facebook.com")}static credential(m){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),mi=(()=>{class E extends Tr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:B}=m;if(!T&&!B)return null;try{return E.credential(T,B)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Qi=(()=>{class E extends Tr{constructor(){super("github.com")}static credential(m){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Vi extends Sn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return bi(p,this.buildRequest())}_linkToIdToken(p,m){const T=this.buildRequest();return T.idToken=m,bi(p,T)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,bi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:B,pendingToken:se}=m;return T&&B&&se&&T===B?new Vi(T,se):null}static _create(p,m){return new Vi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yi extends ur{constructor(p){Oe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Yi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Yi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Vi.fromJSON(p);return Oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:T}=p;if(!m||!T)return null;try{return Vi._create(T,m)}catch{return null}}}let Fo=(()=>{class E extends Tr{constructor(){super("twitter.com")}static credential(m,T){return no._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:B}=m;if(!T||!B)return null;try{return E.credential(T,B)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Is(E,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signUp",we(E,p))})).apply(this,arguments)}class R{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,T){return(0,h.A)(function*(B,se,qe,Ct=!1){const gn=yield bt._fromIdTokenResponse(B,qe,Ct),Yn=U(qe);return new R({user:gn,providerId:Yn,_tokenResponse:qe,operationType:se})}).apply(this,arguments)}static _forOperation(p,m,T){return(0,h.A)(function*(){yield p._updateTokensIfNecessary(T,!0);const B=U(T);return new R({user:p,providerId:B,_tokenResponse:T,operationType:m})})()}}function U(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function de(){return(de=(0,h.A)(function*(E){var p;if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const m=pr(E);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new R({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield Is(m,{returnSecureToken:!0}),B=yield R._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(B.user),B})).apply(this,arguments)}class Je extends $.g{constructor(p,m,T,B){var se;super(m.code,m.message),this.operationType=T,this.user=B,Object.setPrototypeOf(this,Je.prototype),this.customData={appName:p.name,tenantId:null!==(se=p.tenantId)&&void 0!==se?se:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(p,m,T,B){return new Je(p,m,T,B)}}function Ge(E,p,m,T){return("reauthenticate"===p?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Je._fromErrorAndOperation(E,se,p,T):se})}function Zt(E){return new Set(E.map(({providerId:p})=>p).filter(p=>!!p))}function rn(){return rn=(0,h.A)(function*(E,p){const m=(0,$.Ku)(E);yield Pn(!0,m,p);const{providerUserInfo:T}=yield function cn(E,p){return cr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),B=Zt(T||[]);return m.providerData=m.providerData.filter(se=>B.has(se.providerId)),B.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),rn.apply(this,arguments)}function Lt(E,p){return en.apply(this,arguments)}function en(){return(en=(0,h.A)(function*(E,p,m=!1){const T=yield Ur(E,p._linkToIdToken(E.auth,yield E.getIdToken()),m);return R._forOperation(E,"link",T)})).apply(this,arguments)}function Pn(E,p,m){return An.apply(this,arguments)}function An(){return(An=(0,h.A)(function*(E,p,m){yield jr(p);const B=!1===E?"provider-already-linked":"no-such-provider";Oe(Zt(p.providerData).has(m)===E,p.auth,B)})).apply(this,arguments)}function sr(E,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,h.A)(function*(E,p,m=!1){const{auth:T}=E;if((0,k._isFirebaseServerApp)(T.app))return Promise.reject(Ze(T));const B="reauthenticate";try{const se=yield Ur(E,Ge(T,B,p,E),m);Oe(se.idToken,T,"internal-error");const qe=ai(se.idToken);Oe(qe,T,"internal-error");const{sub:Ct}=qe;return Oe(E.uid===Ct,T,"user-mismatch"),R._forOperation(E,B,se)}catch(se){throw"auth/user-not-found"===se?.code&&dt(T,"user-mismatch"),se}})).apply(this,arguments)}function ei(E,p){return $r.apply(this,arguments)}function $r(){return($r=(0,h.A)(function*(E,p,m=!1){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const T="signIn",B=yield Ge(E,T,p),se=yield R._fromIdTokenResponse(E,T,B);return m||(yield E._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Ji(E,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.A)(function*(E,p){return ei(pr(E),p)})).apply(this,arguments)}function wi(E,p){return K.apply(this,arguments)}function K(){return(K=(0,h.A)(function*(E,p){const m=(0,$.Ku)(E);return yield Pn(!1,m,p.providerId),Lt(m,p)})).apply(this,arguments)}function j(E,p){return P.apply(this,arguments)}function P(){return(P=(0,h.A)(function*(E,p){return sr((0,$.Ku)(E),p)})).apply(this,arguments)}function je(){return(je=(0,h.A)(function*(E,p){return yn(E,"POST","/v1/accounts:signInWithCustomToken",we(E,p))})).apply(this,arguments)}function qn(){return qn=(0,h.A)(function*(E,p){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const m=pr(E),T=yield function ie(E,p){return je.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),B=yield R._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(B.user),B}),qn.apply(this,arguments)}class di{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Go._fromServerResponse(p,m):"totpInfo"in m?es._fromServerResponse(p,m):dt(p,"internal-error")}}class Go extends di{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Go(m)}}class es extends di{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new es(m)}}function vo(E,p,m){var T;Oe((null===(T=m.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),Oe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Oe(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Oe(m.android.packageName.length>0,E,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ds(E){return js.apply(this,arguments)}function js(){return(js=(0,h.A)(function*(E){const p=pr(E);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function xa(){return(xa=(0,h.A)(function*(E,p,m){const T=pr(E),B={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};m&&vo(T,B,m),yield Li(T,B,"getOobCode",Xr)})).apply(this,arguments)}function mc(){return mc=(0,h.A)(function*(E,p,m){yield F((0,$.Ku)(E),{oobCode:p,newPassword:m}).catch(function(){var T=(0,h.A)(function*(B){throw"auth/password-does-not-meet-requirements"===B.code&&ds(E),B});return function(B){return T.apply(this,arguments)}}())}),mc.apply(this,arguments)}function ea(){return ea=(0,h.A)(function*(E,p){yield function Dn(E,p){return mn.apply(this,arguments)}((0,$.Ku)(E),{oobCode:p})}),ea.apply(this,arguments)}function ka(E,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,h.A)(function*(E,p){const m=(0,$.Ku)(E),T=yield F(m,{oobCode:p}),B=T.requestType;switch(Oe(B,m,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(T.mfaInfo,m,"internal-error");default:Oe(T.email,m,"internal-error")}let se=null;return T.mfaInfo&&(se=di._fromServerResponse(pr(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:se},operation:B}})).apply(this,arguments)}function _c(){return(_c=(0,h.A)(function*(E,p){const{data:m}=yield ka((0,$.Ku)(E),p);return m.email})).apply(this,arguments)}function jl(){return(jl=(0,h.A)(function*(E,p,m){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const T=pr(E),qe=yield Li(T,{returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Is).catch(gn=>{throw"auth/password-does-not-meet-requirements"===gn.code&&ds(E),gn}),Ct=yield R._fromIdTokenResponse(T,"signIn",qe);return yield T._updateCurrentUser(Ct.user),Ct})).apply(this,arguments)}function Fa(){return(Fa=(0,h.A)(function*(E,p,m){const T=pr(E),B={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function se(qe,Ct){Oe(Ct.handleCodeInApp,T,"argument-error"),Ct&&vo(T,qe,Ct)})(B,m),yield Li(T,B,"getOobCode",So)})).apply(this,arguments)}function rl(){return(rl=(0,h.A)(function*(E,p,m){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const T=(0,$.Ku)(E),B=or.credentialWithLink(p,m||Mn());return Oe(B._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Ji(T,B)})).apply(this,arguments)}function Kl(){return(Kl=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:createAuthUri",we(E,p))})).apply(this,arguments)}function il(){return il=(0,h.A)(function*(E,p){const T={identifier:p,continueUri:zt()?Mn():"http://localhost"},{signinMethods:B}=yield function bs(E,p){return Kl.apply(this,arguments)}((0,$.Ku)(E),T);return B||[]}),il.apply(this,arguments)}function ma(){return ma=(0,h.A)(function*(E,p){const m=(0,$.Ku)(E),B={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};p&&vo(m.auth,B,p);const{email:se}=yield function Kr(E,p){return Ir.apply(this,arguments)}(m.auth,B);se!==E.email&&(yield E.reload())}),ma.apply(this,arguments)}function _a(){return _a=(0,h.A)(function*(E,p,m){const T=(0,$.Ku)(E),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:p};m&&vo(T.auth,se,m);const{email:qe}=yield function H(E,p){return Br.apply(this,arguments)}(T.auth,se);qe!==E.email&&(yield E.reload())}),_a.apply(this,arguments)}function as(){return(as=(0,h.A)(function*(E,p){return tt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function be(){return be=(0,h.A)(function*(E,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const T=(0,$.Ku)(E),se={idToken:yield T.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},qe=yield Ur(T,function Hl(E,p){return as.apply(this,arguments)}(T.auth,se));T.displayName=qe.displayName||null,T.photoURL=qe.photoUrl||null;const Ct=T.providerData.find(({providerId:gn})=>"password"===gn);Ct&&(Ct.displayName=T.displayName,Ct.photoURL=T.photoURL),yield T._updateTokensIfNecessary(qe)}),be.apply(this,arguments)}function Ks(E,p,m){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,h.A)(function*(E,p,m){const{auth:T}=E,se={idToken:yield E.getIdToken(),returnSecureToken:!0};p&&(se.email=p),m&&(se.password=m);const qe=yield Ur(E,function Z(E,p){return ue.apply(this,arguments)}(T,se));yield E._updateTokensIfNecessary(qe,!0)}),Ua.apply(this,arguments)}class Mo{constructor(p,m,T={}){this.isNewUser=p,this.providerId=m,this.profile=T}}class ya extends Mo{constructor(p,m,T,B){super(p,m,T),this.username=B}}class Or extends Mo{constructor(p,m){super(p,"facebook.com",m)}}class ta extends ya{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ec extends Mo{constructor(p,m){super(p,"google.com",m)}}class al extends ya{constructor(p,m,T){super(p,"twitter.com",m,T)}}function uu(E){const{user:p,_tokenResponse:m}=E;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function sl(E){var p,m;if(!E)return null;const{providerId:T}=E,B=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},se=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&E?.idToken){const qe=null===(m=null===(p=ai(E.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(qe)return new Mo(se,"anonymous"!==qe&&"custom"!==qe?qe:null)}if(!T)return null;switch(T){case"facebook.com":return new Or(se,B);case"github.com":return new ta(se,B);case"google.com":return new Ec(se,B);case"twitter.com":return new al(se,B,E.screenName||null);case"custom":case"anonymous":return new Mo(se,null);default:return new Mo(se,T,B)}}(m)}class zn{constructor(p,m,T){this.type=p,this.credential=m,this.user=T}static _fromIdtoken(p,m){return new zn("enroll",p,m)}static _fromMfaPendingCredential(p){return new zn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,T;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return zn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(T=p.multiFactorSession)&&void 0!==T&&T.idToken)return zn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ir{constructor(p,m,T){this.session=p,this.hints=m,this.signInResolver=T}static _fromError(p,m){const T=pr(p),B=m.customData._serverResponse,se=(B.mfaInfo||[]).map(Ct=>di._fromServerResponse(T,Ct));Oe(B.mfaPendingCredential,T,"internal-error");const qe=zn._fromMfaPendingCredential(B.mfaPendingCredential);return new ir(qe,se,function(){var Ct=(0,h.A)(function*(gn){const Yn=yield gn._process(T,qe);delete B.mfaInfo,delete B.mfaPendingCredential;const Ar=Object.assign(Object.assign({},B),{idToken:Yn.idToken,refreshToken:Yn.refreshToken});switch(m.operationType){case"signIn":const Jn=yield R._fromIdTokenResponse(T,m.operationType,Ar);return yield T._updateCurrentUser(Jn.user),Jn;case"reauthenticate":return Oe(m.user,T,"internal-error"),R._forOperation(m.user,m.operationType,Ar);default:dt(T,"internal-error")}});return function(gn){return Ct.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.A)(function*(){return m.signInResolver(p)})()}}class hl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>di._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new hl(p)}getSession(){var p=this;return(0,h.A)(function*(){return zn._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,m){var T=this;return(0,h.A)(function*(){const B=p,se=yield T.getSession(),qe=yield Ur(T.user,B._process(T.user.auth,se,m));return yield T.user._updateTokensIfNecessary(qe),T.user.reload()})()}unenroll(p){var m=this;return(0,h.A)(function*(){const T="string"==typeof p?p:p.uid,B=yield m.user.getIdToken();try{const se=yield Ur(m.user,function du(E,p){return tt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",we(E,p))}(m.user.auth,{idToken:B,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:qe})=>qe!==T),yield m.user._updateTokensIfNecessary(se),yield m.user.reload()}catch(se){throw se}})()}}const fl=new WeakMap,pl="__sak";class Ic{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gl=(()=>{class E extends Ic{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const B=this.storage.getItem(T),se=this.localCache[T];B!==se&&m(T,se,B)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((Ct,gn,Yn)=>{this.notifyListeners(Ct,Yn)});const B=m.key;T?this.detachListener():this.stopPolling();const se=()=>{const Ct=this.storage.getItem(B);!T&&this.localCache[B]===Ct||this.notifyListeners(B,Ct)},qe=this.storage.getItem(B);!function It(){return(0,$.lT)()&&10===document.documentMode}()||qe===m.newValue||m.newValue===m.oldValue?se():setTimeout(se,10)}notifyListeners(m,T){this.localCache[m]=T;const B=this.listeners[m];if(B)for(const se of Array.from(B))se(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var B=()=>super._set,se=this;return(0,h.A)(function*(){yield B().call(se,m,T),se.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,B=this;return(0,h.A)(function*(){const se=yield T().call(B,m);return B.localCache[m]=JSON.stringify(se),se})()}_remove(m){var T=()=>super._remove,B=this;return(0,h.A)(function*(){yield T().call(B,m),delete B.localCache[m]})()}}return E.type="LOCAL",E})(),Cr=(()=>{class E extends Ic{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return E.type="SESSION",E})();let Cc=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(se=>se.isListeningto(m));if(T)return T;const B=new E(m);return this.receivers.push(B),B}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,h.A)(function*(){const B=m,{eventId:se,eventType:qe,data:Ct}=B.data,gn=T.handlersMap[qe];if(!gn?.size)return;B.ports[0].postMessage({status:"ack",eventId:se,eventType:qe});const Yn=Array.from(gn).map(function(){var Jn=(0,h.A)(function*(Ai){return Ai(B.origin,Ct)});return function(Ai){return Jn.apply(this,arguments)}}()),Ar=yield function gl(E){return Promise.all(E.map(function(){var p=(0,h.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return p.apply(this,arguments)}}()))}(Yn);B.ports[0].postMessage({status:"done",eventId:se,eventType:qe,response:Ar})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function _i(E="",p=10){let m="";for(let T=0;T<p;T++)m+=Math.floor(10*Math.random());return E+m}class mr{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m){var T=this;return(0,h.A)(function*(B,se,qe=50){const Ct=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ct)throw new Error("connection_unavailable");let gn,Yn;return new Promise((Ar,Jn)=>{const Ai=_i("",20);Ct.port1.start();const Ns=setTimeout(()=>{Jn(new Error("unsupported_event"))},qe);Yn={messageChannel:Ct,onMessage(qs){const bl=qs;if(bl.data.eventId===Ai)switch(bl.data.status){case"ack":clearTimeout(Ns),gn=setTimeout(()=>{Jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(gn),Ar(bl.data.response);break;default:clearTimeout(Ns),clearTimeout(gn),Jn(new Error("invalid_response"))}}},T.handlers.add(Yn),Ct.port1.addEventListener("message",Yn.onMessage),T.target.postMessage({eventType:B,eventId:Ai,data:se},[Ct.port2])}).finally(()=>{Yn&&T.removeMessageHandler(Yn)})}).apply(this,arguments)}}function yi(){return window}function Xl(){return typeof yi().WorkerGlobalScope<"u"&&"function"==typeof yi().importScripts}function Wn(){return(Wn=(0,h.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const A="firebaseLocalStorageDb",G="firebaseLocalStorage",ae="fbase_key";class Ne{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Dt(E,p){return E.transaction([G],p?"readwrite":"readonly").objectStore(G)}function Qn(){const E=indexedDB.open(A,1);return new Promise((p,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(G,{keyPath:ae})}catch(B){m(B)}}),E.addEventListener("success",(0,h.A)(function*(){const T=E.result;T.objectStoreNames.contains(G)?p(T):(T.close(),yield function fn(){const E=indexedDB.deleteDatabase(A);return new Ne(E).toPromise()}(),p(yield Qn()))}))})}function ci(E,p,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.A)(function*(E,p,m){const T=Dt(E,!0).put({[ae]:p,value:m});return new Ne(T).toPromise()})).apply(this,arguments)}function Xo(){return(Xo=(0,h.A)(function*(E,p){const m=Dt(E,!1).get(p),T=yield new Ne(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Jo(E,p){const m=Dt(E,!0).delete(p);return new Ne(m).toPromise()}const Ea=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.A)(function*(){return m.db||(m.db=yield Qn()),m.db})()}_withRetries(m){var T=this;return(0,h.A)(function*(){let B=0;for(;;)try{const se=yield T._openDb();return yield m(se)}catch(se){if(B++>3)throw se;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.A)(function*(){return Xl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.A)(function*(){m.receiver=Cc._getInstance(function M(){return Xl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,h.A)(function*(B,se){return{keyProcessed:(yield m._poll()).includes(se.key)}});return function(B,se){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,h.A)(function*(B,se){return["keyChanged"]});return function(B,se){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.A)(function*(){var T,B;if(m.activeServiceWorker=yield function Si(){return Wn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new mr(m.activeServiceWorker);const se=yield m.sender._send("ping",{},800);se&&null!==(T=se[0])&&void 0!==T&&T.fulfilled&&null!==(B=se[0])&&void 0!==B&&B.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,h.A)(function*(){if(T.sender&&T.activeServiceWorker&&function D(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.A)(function*(){try{if(!indexedDB)return!1;const m=yield Qn();return yield ci(m,pl,"1"),yield Jo(m,pl),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,h.A)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var B=this;return(0,h.A)(function*(){return B._withPendingWrite((0,h.A)(function*(){return yield B._withRetries(se=>ci(se,m,T)),B.localCache[m]=T,B.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,h.A)(function*(){const B=yield T._withRetries(se=>function Yo(E,p){return Xo.apply(this,arguments)}(se,m));return T.localCache[m]=B,B})()}_remove(m){var T=this;return(0,h.A)(function*(){return T._withPendingWrite((0,h.A)(function*(){return yield T._withRetries(B=>Jo(B,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.A)(function*(){const T=yield m._withRetries(qe=>{const Ct=Dt(qe,!1).getAll();return new Ne(Ct).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const B=[],se=new Set;if(0!==T.length)for(const{fbase_key:qe,value:Ct}of T)se.add(qe),JSON.stringify(m.localCache[qe])!==JSON.stringify(Ct)&&(m.notifyListeners(qe,Ct),B.push(qe));for(const qe of Object.keys(m.localCache))m.localCache[qe]&&!se.has(qe)&&(m.notifyListeners(qe,null),B.push(qe));return B})()}notifyListeners(m,T){this.localCache[m]=T;const B=this.listeners[m];if(B)for(const se of Array.from(B))se(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Ta=1e12;class Ss{constructor(p){this.auth=p,this.counter=Ta,this._widgets=new Map}render(p,m){const T=this.counter;return this._widgets.set(T,new Ac(p,this.auth.name,m||{})),this.counter++,T}reset(p){var m;const T=p||Ta;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ta))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.A)(function*(){var T;return null===(T=m._widgets.get(p||Ta))||void 0===T||T.execute(),""})()}}class Ac{constructor(p,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const B="string"==typeof p?document.getElementById(p):p;Oe(B,"argument-error",{appName:m}),this.container=B,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bh(E){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<E;T++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fs=Ao("rcb"),_l=new tn(3e4,6e4);class Cd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=yi().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Oe(function fp(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Pt(yi().grecaptcha)?Promise.resolve(yi().grecaptcha):new Promise((T,B)=>{const se=yi().setTimeout(()=>{B(ke(p,"network-request-failed"))},_l.get());yi()[fs]=()=>{yi().clearTimeout(se),delete yi()[fs];const Ct=yi().grecaptcha;if(!Ct||!Pt(Ct))return void B(ke(p,"internal-error"));const gn=Ct.render;Ct.render=(Yn,Ar)=>{const Jn=gn(Yn,Ar);return this.counter++,Jn},this.hostLanguage=m,T(Ct)},po(`${function Zr(){return Ki.recaptchaV2Script}()}?${(0,$.Am)({onload:fs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(se),B(ke(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=yi().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ls{load(p){return(0,h.A)(function*(){return new Ss(p)})()}clearedOneInstance(){}}const fu="recaptcha",pu={theme:"light",type:"image"};class ra{constructor(p,m,T=Object.assign({},pu)){this.parameters=T,this.type=fu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(p),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const B="string"==typeof m?document.getElementById(m):m;Oe(B,this.auth,"argument-error"),this.container=B,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ls:new Cd,this.validateStartingState()}verify(){var p=this;return(0,h.A)(function*(){p.assertNotDestroyed();const m=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(m)||new Promise(se=>{const qe=Ct=>{Ct&&(p.tokenChangeListeners.delete(qe),se(Ct))};p.tokenChangeListeners.add(qe),p.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof p)p(m);else if("string"==typeof p){const T=yi()[p];"function"==typeof T&&T(m)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.A)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.A)(function*(){Oe(zt()&&!Xl(),p.auth,"internal-error"),yield function pp(){let E=null;return new Promise(p=>{"complete"!==document.readyState?(E=()=>p(),window.addEventListener("load",E)):p()}).catch(p=>{throw E&&window.removeEventListener("load",E),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function vn(E){return ar.apply(this,arguments)}(p.auth);Oe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ba{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Re._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ad(){return(Ad=(0,h.A)(function*(E,p,m){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const T=pr(E),B=yield bc(T,p,(0,$.Ku)(m));return new Ba(B,se=>Ji(T,se))})).apply(this,arguments)}function bd(){return(bd=(0,h.A)(function*(E,p,m){const T=(0,$.Ku)(E);yield Pn(!1,T,"phone");const B=yield bc(T.auth,p,(0,$.Ku)(m));return new Ba(B,se=>wi(T,se))})).apply(this,arguments)}function gu(){return(gu=(0,h.A)(function*(E,p,m){const T=(0,$.Ku)(E);if((0,k._isFirebaseServerApp)(T.auth.app))return Promise.reject(Ze(T.auth));const B=yield bc(T.auth,p,(0,$.Ku)(m));return new Ba(B,se=>j(T,se))})).apply(this,arguments)}function bc(E,p,m){return wd.apply(this,arguments)}function wd(){return wd=(0,h.A)(function*(E,p,m){var T;const B=yield m.verify();try{let se;if(Oe("string"==typeof B,E,"argument-error"),Oe(m.type===fu,E,"argument-error"),se="string"==typeof p?{phoneNumber:p}:p,"session"in se){const qe=se.session;if("phoneNumber"in se)return Oe("enroll"===qe.type,E,"internal-error"),(yield function $n(E,p){return tt(E,"POST","/v2/accounts/mfaEnrollment:start",we(E,p))}(E,{idToken:qe.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:B}})).phoneSessionInfo.sessionInfo;{Oe("signin"===qe.type,E,"internal-error");const Ct=(null===(T=se.multiFactorHint)||void 0===T?void 0:T.uid)||se.multiFactorUid;return Oe(Ct,E,"missing-multi-factor-info"),(yield function Ia(E,p){return tt(E,"POST","/v2/accounts/mfaSignIn:start",we(E,p))}(E,{mfaPendingCredential:qe.credential,mfaEnrollmentId:Ct,phoneSignInInfo:{recaptchaToken:B}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:qe}=yield function ss(E,p){return ao.apply(this,arguments)}(E,{phoneNumber:se.phoneNumber,recaptchaToken:B});return qe}}finally{m._reset()}}),wd.apply(this,arguments)}function S(){return(S=(0,h.A)(function*(E,p){const m=(0,$.Ku)(E);if((0,k._isFirebaseServerApp)(m.auth.app))return Promise.reject(Ze(m.auth));yield Lt(m,p)})).apply(this,arguments)}let Y=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=pr(m)}verifyPhoneNumber(m,T){return bc(this.auth,m,(0,$.Ku)(T))}static credential(m,T){return Re._fromVerification(m,T)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:B}=m;return T&&B?Re._fromTokenResponse(T,B):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function De(E,p){return p?Kn(p):(Oe(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class $t extends Sn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return bi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return bi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return bi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function En(E){return ei(E.auth,new $t(E),E.bypassAuthState)}function lr(E){const{auth:p,user:m}=E;return Oe(m,p,"internal-error"),sr(m,new $t(E),E.bypassAuthState)}function Zi(E){return cs.apply(this,arguments)}function cs(){return(cs=(0,h.A)(function*(E){const{auth:p,user:m}=E;return Oe(m,p,"internal-error"),Lt(m,new $t(E),E.bypassAuthState)})).apply(this,arguments)}class Uo{constructor(p,m,T,B,se=!1){this.auth=p,this.resolver=T,this.user=B,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.A)(function*(T,B){p.pendingPromise={resolve:T,reject:B};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(se){p.reject(se)}});return function(T,B){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.A)(function*(){const{urlResponse:T,sessionId:B,postBody:se,tenantId:qe,error:Ct,type:gn}=p;if(Ct)return void m.reject(Ct);const Yn={auth:m.auth,requestUri:T,sessionId:B,tenantId:qe||void 0,postBody:se||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(gn)(Yn))}catch(Ar){m.reject(Ar)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return En;case"linkViaPopup":case"linkViaRedirect":return Zi;case"reauthViaPopup":case"reauthViaRedirect":return lr;default:dt(this.auth,"internal-error")}}resolve(p){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const co=new tn(2e3,1e4);function Sd(){return(Sd=(0,h.A)(function*(E,p,m){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(ke(E,"operation-not-supported-in-this-environment"));const T=pr(E);_t(E,p,ur);const B=De(T,m);return new yp(T,"signInViaPopup",p,B).executeNotNull()})).apply(this,arguments)}function _p(){return(_p=(0,h.A)(function*(E,p,m){const T=(0,$.Ku)(E);if((0,k._isFirebaseServerApp)(T.auth.app))return Promise.reject(ke(T.auth,"operation-not-supported-in-this-environment"));_t(T.auth,p,ur);const B=De(T.auth,m);return new yp(T.auth,"reauthViaPopup",p,B,T).executeNotNull()})).apply(this,arguments)}function Zo(){return(Zo=(0,h.A)(function*(E,p,m){const T=(0,$.Ku)(E);_t(T.auth,p,ur);const B=De(T.auth,m);return new yp(T.auth,"linkViaPopup",p,B,T).executeNotNull()})).apply(this,arguments)}let yp=(()=>{class E extends Uo{constructor(m,T,B,se,qe){super(m,T,se,qe),this.provider=B,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.A)(function*(){const T=yield m.execute();return Oe(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,h.A)(function*(){ut(1===m.filter.length,"Popup operations only handle one event");const T=_i();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(B=>{m.reject(B)}),m.resolver._isIframeWebStorageSupported(m.auth,B=>{B||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,B;this.pollId=null!==(B=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==B&&B.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,co.get())};m()}}return E.currentPopupAction=null,E})();const mu=new Map;class hm extends Uo{constructor(p,m,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.A)(function*(){let T=mu.get(m.auth._key());if(!T){try{const se=(yield function uo(E,p){return wc.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;T=()=>Promise.resolve(se)}catch(B){T=()=>Promise.reject(B)}mu.set(m.auth._key(),T)}return m.bypassAuthState||mu.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,T=this;return(0,h.A)(function*(){if("signInViaRedirect"===p.type)return m().call(T,p);if("unknown"!==p.type){if(p.eventId){const B=yield T.auth._redirectUserForId(p.eventId);if(B)return T.user=B,m().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,h.A)(function*(){})()}cleanUp(){}}function wc(){return(wc=(0,h.A)(function*(E,p){const m=vp(p),T=Rs(E);if(!(yield T._isAvailable()))return!1;const B="true"===(yield T._get(m));return yield T._remove(m),B})).apply(this,arguments)}function ns(E,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.A)(function*(E,p){return Rs(E)._set(vp(p),"true")})).apply(this,arguments)}function Ql(E,p){mu.set(E._key(),p)}function Rs(E){return Kn(E._redirectPersistence)}function vp(E){return Rr("pendingRedirect",E.config.apiKey,E.name)}function Ep(){return(Ep=(0,h.A)(function*(E,p,m){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const T=pr(E);_t(E,p,ur),yield T._initializationPromise;const B=De(T,m);return yield ns(B,T),B._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function ja(){return(ja=(0,h.A)(function*(E,p,m){const T=(0,$.Ku)(E);if(_t(T.auth,p,ur),(0,k._isFirebaseServerApp)(T.auth.app))return Promise.reject(Ze(T.auth));yield T.auth._initializationPromise;const B=De(T.auth,m);yield ns(B,T.auth);const se=yield oa(T);return B._openRedirect(T.auth,p,"reauthViaRedirect",se)})).apply(this,arguments)}function yu(){return(yu=(0,h.A)(function*(E,p,m){const T=(0,$.Ku)(E);_t(T.auth,p,ur),yield T.auth._initializationPromise;const B=De(T.auth,m);yield Pn(!1,T,p.providerId),yield ns(B,T.auth);const se=yield oa(T);return B._openRedirect(T.auth,p,"linkViaRedirect",se)})).apply(this,arguments)}function yl(){return(yl=(0,h.A)(function*(E,p){return yield pr(E)._initializationPromise,Wa(E,p,!1)})).apply(this,arguments)}function Wa(E,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,h.A)(function*(E,p,m=!1){if((0,k._isFirebaseServerApp)(E.app))return Promise.reject(Ze(E));const T=pr(E),B=De(T,p),qe=yield new hm(T,B,m).execute();return qe&&!m&&(delete qe.user._redirectEventId,yield T._persistUserIfCurrent(qe.user),yield T._setRedirectUser(null,p)),qe})).apply(this,arguments)}function oa(E){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,h.A)(function*(E){const p=_i(`${E.uid}:::`);return E._redirectEventId=p,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),p})).apply(this,arguments)}class Ka{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(m=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Iu(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hh(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var T;if(p.error&&!Hh(p)){const B=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,B))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const T=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kh(p))}saveEventToCache(p){this.cachedEventUids.add(Kh(p)),this.lastProcessedEventTime=Date.now()}}function Kh(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function Hh({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===p?.code}function Rd(E){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,h.A)(function*(E,p={}){return tt(E,"GET","/v1/projects",p)})).apply(this,arguments)}const Ts=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zh=/^https?/;function Md(){return(Md=(0,h.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield Rd(E);for(const m of p)try{if(Vy(m))return}catch{}dt(E,"unauthorized-domain")})).apply(this,arguments)}function Vy(E){const p=Mn(),{protocol:m,hostname:T}=new URL(p);if(E.startsWith("chrome-extension://")){const qe=new URL(E);return""===qe.hostname&&""===T?"chrome-extension:"===m&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&qe.hostname===T}if(!zh.test(m))return!1;if(Ts.test(E))return T===E;const B=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(T)}const Tp=new tn(3e4,6e4);function Tu(){const E=yi().___jsl;if(E?.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Xh=null;const pm=new tn(5e3,15e3),gm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ps=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sa(E){const p=E.config;Oe(p.authDomain,E,"auth-domain-config-required");const m=p.emulator?dn(p,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,T={apiKey:p.apiKey,appName:E.name,v:k.SDK_VERSION},B=ps.get(E.config.apiHost);B&&(T.eid=B);const se=E._getFrameworks();return se.length&&(T.fw=se.join(",")),`${m}?${(0,$.Am)(T).slice(1)}`}function Aa(){return Aa=(0,h.A)(function*(E){const p=yield function fm(E){return Xh=Xh||function Du(E){return new Promise((p,m)=>{var T,B,se;function qe(){Tu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Tu(),m(ke(E,"network-request-failed"))},timeout:Tp.get()})}if(null!==(B=null===(T=yi().gapi)||void 0===T?void 0:T.iframes)&&void 0!==B&&B.Iframe)p(gapi.iframes.getContext());else{if(null===(se=yi().gapi)||void 0===se||!se.load){const Ct=Ao("iframefcb");return yi()[Ct]=()=>{gapi.load?qe():m(ke(E,"network-request-failed"))},po(`${function io(){return Ki.gapiScript}()}?onload=${Ct}`).catch(gn=>m(gn))}qe()}}).catch(p=>{throw Xh=null,p})}(E),Xh}(E),m=yi().gapi;return Oe(m,E,"internal-error"),p.open({where:document.body,url:sa(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gm,dontclear:!0},T=>new Promise(function(){var B=(0,h.A)(function*(se,qe){yield T.restyle({setHideOnLeave:!1});const Ct=ke(E,"network-request-failed"),gn=yi().setTimeout(()=>{qe(Ct)},pm.get());function Yn(){yi().clearTimeout(gn),se(T)}T.ping(Yn).then(Yn,()=>{qe(Ct)})});return function(se,qe){return B.apply(this,arguments)}}()))}),Aa.apply(this,arguments)}const mm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hi{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cp=encodeURIComponent("fac");function Sc(E,p,m,T,B,se){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,h.A)(function*(E,p,m,T,B,se){Oe(E.config.authDomain,E,"auth-domain-config-required"),Oe(E.config.apiKey,E,"invalid-api-key");const qe={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:T,v:k.SDK_VERSION,eventId:B};if(p instanceof ur){p.setDefaultLanguage(E.languageCode),qe.providerId=p.providerId||"",(0,$.Im)(p.getCustomParameters())||(qe.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ar,Jn]of Object.entries(se||{}))qe[Ar]=Jn}if(p instanceof Tr){const Ar=p.getScopes().filter(Jn=>""!==Jn);Ar.length>0&&(qe.scopes=Ar.join(","))}E.tenantId&&(qe.tid=E.tenantId);const Ct=qe;for(const Ar of Object.keys(Ct))void 0===Ct[Ar]&&delete Ct[Ar];const gn=yield E._getAppCheckToken(),Yn=gn?`#${Cp}=${encodeURIComponent(gn)}`:"";return`${function Yl({config:E}){return E.emulator?dn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,$.Am)(Ct).slice(1)}${Yn}`})).apply(this,arguments)}const Nd="webStorageSupport",Au=class ym{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cr,this._completeRedirectFn=Wa,this._overrideRedirectResult=Ql}_openPopup(p,m,T,B){var se=this;return(0,h.A)(function*(){var qe;ut(null===(qe=se.eventManagers[p._key()])||void 0===qe?void 0:qe.manager,"_initialize() not called before _openPopup()");const Ct=yield Sc(p,m,T,Mn(),B);return function Gi(E,p,m,T=500,B=600){const se=Math.max((window.screen.availHeight-B)/2,0).toString(),qe=Math.max((window.screen.availWidth-T)/2,0).toString();let Ct="";const gn=Object.assign(Object.assign({},mm),{width:T.toString(),height:B.toString(),top:se,left:qe}),Yn=(0,$.ZQ)().toLowerCase();m&&(Ct=Dr(Yn)?"_blank":m),yr(Yn)&&(p=p||"http://localhost",gn.scrollbars="yes");const Ar=Object.entries(gn).reduce((Ai,[Ns,qs])=>`${Ai}${Ns}=${qs},`,"");if(function xt(E=(0,$.ZQ)()){var p;return li(E)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Yn)&&"_self"!==Ct)return function Cu(E,p){const m=document.createElement("a");m.href=E,m.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(p||"",Ct),new hi(null);const Jn=window.open(p||"",Ct,Ar);Oe(Jn,E,"popup-blocked");try{Jn.focus()}catch{}return new hi(Jn)}(p,Ct,_i())})()}_openRedirect(p,m,T,B){var se=this;return(0,h.A)(function*(){return yield se._originValidation(p),function Qr(E){yi().location.href=E}(yield Sc(p,m,T,Mn(),B)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:B,promise:se}=this.eventManagers[m];return B?Promise.resolve(B):(ut(se,"If manager is not set, promise should be"),se)}const T=this.initAndGetManager(p);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(p){var m=this;return(0,h.A)(function*(){const T=yield function go(E){return Aa.apply(this,arguments)}(p),B=new Ka(p);return T.register("authEvent",se=>(Oe(se?.authEvent,p,"invalid-auth-event"),{status:B.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:B},m.iframes[p._key()]=T,B})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Nd,{type:Nd},B=>{var se;const qe=null===(se=B?.[0])||void 0===se?void 0:se[Nd];void 0!==qe&&m(!!qe),dt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gh(E){return Md.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return nn()||ui()||li()}};class Ap{constructor(p){this.factorId=p}_process(p,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,T);case"signin":return this._finalizeSignIn(p,m.credential);default:return ln("unexpected MultiFactorSessionType")}}}class Qh extends Ap{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Qh(p)}_finalizeEnroll(p,m,T){return function Yt(E,p){return tt(E,"POST","/v2/accounts/mfaEnrollment:finalize",we(E,p))}(p,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ql(E,p){return tt(E,"POST","/v2/accounts/mfaSignIn:finalize",we(E,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $y=(()=>{class E{constructor(){}static assertion(m){return Qh._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var Mc="@firebase/auth";class Pc{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(T=>{p(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ba(){return window}function vl(){return vl=(0,h.A)(function*(E,p,m){var T;const{BuildInfo:B}=ba();ut(p.sessionId,"AuthEvent did not contain a session ID");const se=yield function Vd(E){return El.apply(this,arguments)}(p.sessionId),qe={};return li()?qe.ibi=B.packageName:pi()?qe.apn=B.packageName:dt(E,"operation-not-supported-in-this-environment"),B.displayName&&(qe.appDisplayName=B.displayName),qe.sessionId=se,Sc(E,m,p.type,void 0,null!==(T=p.eventId)&&void 0!==T?T:void 0,qe)}),vl.apply(this,arguments)}function Ld(){return(Ld=(0,h.A)(function*(E){const{BuildInfo:p}=ba(),m={};li()?m.iosBundleId=p.packageName:pi()?m.androidPackageName=p.packageName:dt(E,"operation-not-supported-in-this-environment"),yield Rd(E,m)})).apply(this,arguments)}function Jh(){return(Jh=(0,h.A)(function*(E,p,m){const{cordova:T}=ba();let B=()=>{};try{yield new Promise((se,qe)=>{let Ct=null;function gn(){var Jn;se();const Ai=null===(Jn=T.plugins.browsertab)||void 0===Jn?void 0:Jn.close;"function"==typeof Ai&&Ai(),"function"==typeof m?.close&&m.close()}function Yn(){Ct||(Ct=window.setTimeout(()=>{qe(ke(E,"redirect-cancelled-by-user"))},2e3))}function Ar(){"visible"===document?.visibilityState&&Yn()}p.addPassiveListener(gn),document.addEventListener("resume",Yn,!1),pi()&&document.addEventListener("visibilitychange",Ar,!1),B=()=>{p.removePassiveListener(gn),document.removeEventListener("resume",Yn,!1),document.removeEventListener("visibilitychange",Ar,!1),Ct&&window.clearTimeout(Ct)}})}finally{B()}})).apply(this,arguments)}function El(){return(El=(0,h.A)(function*(E){const p=function Zh(E){if(ut(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const p=new ArrayBuffer(E.length),m=new Uint8Array(p);for(let T=0;T<E.length;T++)m[T]=E.charCodeAt(T);return m}(E),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(B=>B.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(0,$.XA)("authIdTokenMaxAge"),function xo(E){Ki=E}({loadJS:E=>new Promise((p,m)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=p,T.onerror=B=>{const se=ke("internal-error");se.customData=B,m(se)},T.type="text/javascript",T.charset="UTF-8",function Yh(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bu(E){(0,k._registerComponent)(new Ce.uA("auth",(p,{options:m})=>{const T=p.getProvider("app").getImmediate(),B=p.getProvider("heartbeat"),se=p.getProvider("app-check-internal"),{apiKey:qe,authDomain:Ct}=T.options;Oe(qe&&!qe.includes(":"),"invalid-api-key",{appName:T.name});const gn={apiKey:qe,authDomain:Ct,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(E)},Yn=new tr(T,B,se,gn);return function ve(E,p){const m=p?.persistence||[],T=(Array.isArray(m)?m:[m]).map(Kn);p?.errorMap&&E._updateErrorMap(p.errorMap),E._initializeWithPersistence(T,p?.popupRedirectResolver)}(Yn,m),Yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,T)=>{p.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Ce.uA("auth-internal",p=>{const m=pr(p.getProvider("auth").getImmediate());return new Pc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Mc,"1.7.9",function Zl(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,k.registerVersion)(Mc,"1.7.9","esm2017")}("Browser");class Ha extends Ka{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInitialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInitialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,h.A)(function*(){yield p.initPromise})()}}function wp(E){return Os.apply(this,arguments)}function Os(){return(Os=(0,h.A)(function*(E){const p=yield Rp()._get(Il(E));return p&&(yield Rp()._remove(Il(E))),p})).apply(this,arguments)}function wa(){const E=[];for(let m=0;m<20;m++){const T=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(T))}return E.join("")}function Rp(){return Kn(Gl)}function Il(E){return Rr("authEvent",E.config.apiKey,E.name)}function dr(E){if(!E?.includes("?"))return{};const[p,...m]=E.split("?");return(0,$.I9)(m.join("?"))}const Mp=class Bd{constructor(){this._redirectPersistence=Cr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wa,this._overrideRedirectResult=Ql}_initialize(p){var m=this;return(0,h.A)(function*(){const T=p._key();let B=m.eventManagers.get(T);return B||(B=new Ha(p),m.eventManagers.set(T,B),m.attachCallbackListeners(p,B)),B})()}_openPopup(p){dt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,T,B){var se=this;return(0,h.A)(function*(){!function Oc(E){var p,m,T,B,se,qe,Ct,gn,Yn,Ar;const Jn=ba();Oe("function"==typeof(null===(p=Jn?.universalLinks)||void 0===p?void 0:p.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(typeof(null===(m=Jn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(se=null===(B=null===(T=Jn?.cordova)||void 0===T?void 0:T.plugins)||void 0===B?void 0:B.browsertab)||void 0===se?void 0:se.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(gn=null===(Ct=null===(qe=Jn?.cordova)||void 0===qe?void 0:qe.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===gn?void 0:gn.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(Ar=null===(Yn=Jn?.cordova)||void 0===Yn?void 0:Yn.InAppBrowser)||void 0===Ar?void 0:Ar.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const qe=yield se._initialize(p);yield qe.initialized(),qe.resetRedirect(),function Ly(){mu.clear()}(),yield se._originValidation(p);const Ct=function gs(E,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:wa(),postBody:null,tenantId:E.tenantId,error:ke(E,"no-auth-event")}}(p,T,B);yield function Ps(E,p){return Rp()._set(Il(E),p)}(p,Ct);const gn=yield function rs(E,p,m){return vl.apply(this,arguments)}(p,Ct,m),Yn=yield function Fd(E){const{cordova:p}=ba();return new Promise(m=>{p.plugins.browsertab.isAvailable(T=>{let B=null;T?p.plugins.browsertab.openUrl(E):B=p.InAppBrowser.open(E,function ki(E=(0,$.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),m(B)})})}(gn);return function Ru(E,p,m){return Jh.apply(this,arguments)}(p,qe,Yn)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Tm(E){return Ld.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:T,handleOpenURL:B,BuildInfo:se}=ba(),qe=setTimeout((0,h.A)(function*(){yield wp(p),m.onEvent(Pp())}),500),Ct=function(){var Ar=(0,h.A)(function*(Jn){clearTimeout(qe);const Ai=yield wp(p);let Ns=null;Ai&&Jn?.url&&(Ns=function Sp(E,p){var m,T;const B=function jy(E){const p=dr(E),m=p.link?decodeURIComponent(p.link):void 0,T=dr(m).link,B=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return dr(B).link||B||T||m||E}(p);if(B.includes("/__/auth/callback")){const se=dr(B),qe=se.firebaseError?function ef(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(se.firebaseError)):null,Ct=null===(T=null===(m=qe?.code)||void 0===m?void 0:m.split("auth/"))||void 0===T?void 0:T[1],gn=Ct?ke(Ct):null;return gn?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:gn,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:B,postBody:null}}return null}(Ai,Jn.url)),m.onEvent(Ns||Pp())});return function(Ai){return Ar.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Ct);const gn=B,Yn=`${se.packageName.toLowerCase()}://`;ba().handleOpenURL=function(){var Ar=(0,h.A)(function*(Jn){if(Jn.toLowerCase().startsWith(Yn)&&Ct({url:Jn}),"function"==typeof gn)try{gn(Jn)}catch(Ai){console.error(Ai)}});return function(Jn){return Ar.apply(this,arguments)}}()}};function Pp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function Mu(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Tl(E=(0,$.ZQ)()){return!("file:"!==Mu()&&"ionic:"!==Mu()&&"capacitor:"!==Mu()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function nf(){try{const E=self.localStorage,p=_i();if(E)return E.setItem(p,"1"),E.removeItem(p),!function Ou(E=(0,$.ZQ)()){return function tc(){return(0,$.lT)()&&11===document?.documentMode}()||function Np(E=(0,$.ZQ)()){return/Edge\/\d+/.test(E)}(E)}()||(0,$.zW)()}catch{return rf()&&(0,$.zW)()}return!1}function rf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dl(){return(function Pu(){return"http:"===Mu()||"https:"===Mu()}()||(0,$.sr)()||Tl())&&!function Cm(){return(0,$.lV)()||(0,$.Ll)()}()&&nf()&&!rf()}function Am(){return Tl()&&typeof document<"u"}function mo(){return(mo=(0,h.A)(function*(){return!!Am()&&new Promise(E=>{const p=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),E(!0)})})})).apply(this,arguments)}const ms={LOCAL:"local",NONE:"none",SESSION:"session"},xu=Oe,jd="persistence";function sf(E){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.A)(function*(E){yield E._initializationPromise;const p=za(),m=Rr(jd,E.config.apiKey,E.name);p&&p.setItem(m,E._getPersistence())})).apply(this,arguments)}function za(){var E;try{return(null===(E=function Nu(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const xp=Oe;class Al{constructor(){this.browserResolver=Kn(Au),this.cordovaResolver=Kn(Mp),this.underlyingResolver=null,this._redirectPersistence=Cr,this._completeRedirectFn=Wa,this._overrideRedirectResult=Ql}_initialize(p){var m=this;return(0,h.A)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,T,B){var se=this;return(0,h.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(p,m,T,B)})()}_openRedirect(p,m,T,B){var se=this;return(0,h.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(p,m,T,B)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Am()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,h.A)(function*(){if(p.underlyingResolver)return;const m=yield function bm(){return mo.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Wd(E){return E.unwrap()}function Kd(E){return lf(E)}function lf(E){const{_tokenResponse:p}=E instanceof $.g?E.customData:E;if(!p)return null;if(!(E instanceof $.g)&&"temporaryProof"in p&&"phoneNumber"in p)return Y.credentialFromResult(E);const m=p.providerId;if(!m||"password"===m)return null;let T;switch(m){case"google.com":T=mi;break;case"facebook.com":T=Fi;break;case"github.com":T=Qi;break;case"twitter.com":T=Fo;break;default:const{oauthIdToken:B,oauthAccessToken:se,oauthTokenSecret:qe,pendingToken:Ct,nonce:gn}=p;return se||qe||B||Ct?Ct?m.startsWith("saml.")?Vi._create(m,Ct):no._fromParams({providerId:m,signInMethod:m,pendingToken:Ct,idToken:B,accessToken:se}):new rr(m).credential({idToken:B,accessToken:se,rawNonce:gn}):null}return E instanceof $.g?T.credentialFromError(E):T.credentialFromResult(E)}function Ds(E,p){return p.catch(m=>{throw m instanceof $.g&&function af(E,p){var m;const T=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new qo(E,function va(E,p){var m;const T=(0,$.Ku)(E),B=p;return Oe(p.customData.operationType,T,"argument-error"),Oe(null===(m=B.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),ir._fromError(T,B)}(E,p));else if(T){const B=lf(p),se=p;B&&(se.credential=B,se.tenantId=T.tenantId||void 0,se.email=T.email||void 0,se.phoneNumber=T.phoneNumber||void 0)}}(E,m),m}).then(m=>{const B=m.user;return{operationType:m.operationType,credential:Kd(m),additionalUserInfo:uu(m),user:Yr.getOrCreate(B)}})}function cf(E,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,h.A)(function*(E,p){const m=yield p;return{verificationId:m.verificationId,confirm:T=>Ds(E,m.confirm(T))}})).apply(this,arguments)}class qo{constructor(p,m){this.resolver=m,this.auth=function Ga(E){return E.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ds(Wd(this.auth),this.resolver.resolveSignIn(p))}}class Yr{constructor(p){this._delegate=p,this.multiFactor=function Fh(E){const p=(0,$.Ku)(E);return fl.has(p)||fl.set(p,hl._fromUser(p)),fl.get(p)}(p)}static getOrCreate(p){return Yr.USER_MAP.has(p)||Yr.USER_MAP.set(p,new Yr(p)),Yr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,h.A)(function*(){return Ds(m.auth,wi(m._delegate,p))})()}linkWithPhoneNumber(p,m){var T=this;return(0,h.A)(function*(){return cf(T.auth,function gp(E,p,m){return bd.apply(this,arguments)}(T._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,h.A)(function*(){return Ds(m.auth,function Wh(E,p,m){return Zo.apply(this,arguments)}(m._delegate,p,Al))})()}linkWithRedirect(p){var m=this;return(0,h.A)(function*(){return yield sf(pr(m.auth)),function _u(E,p,m){return function Ip(E,p,m){return yu.apply(this,arguments)}(E,p,m)}(m._delegate,p,Al)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,h.A)(function*(){return Ds(m.auth,j(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return cf(this.auth,function jh(E,p,m){return gu.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ds(this.auth,function ky(E,p,m){return _p.apply(this,arguments)}(this._delegate,p,Al))}reauthenticateWithRedirect(p){var m=this;return(0,h.A)(function*(){return yield sf(pr(m.auth)),function Da(E,p,m){return function Po(E,p,m){return ja.apply(this,arguments)}(E,p,m)}(m._delegate,p,Al)})()}sendEmailVerification(p){return function Us(E,p){return ma.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,h.A)(function*(){return yield function Ot(E,p){return rn.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function vc(E,p){const m=(0,$.Ku)(E);return(0,k._isFirebaseServerApp)(m.auth.app)?Promise.reject(Ze(m.auth)):Ks(m,p,null)}(this._delegate,p)}updatePassword(p){return function ol(E,p){return Ks((0,$.Ku)(E),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function mp(E,p){return S.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ts(E,p){return be.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Va(E,p,m){return _a.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yr.USER_MAP=new WeakMap;const kc=Oe;let uf=(()=>{class E{constructor(m,T){if(this.app=m,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:B}=m.options;kc(B,"invalid-api-key",{appName:m.name}),kc(B,"invalid-api-key",{appName:m.name});const se=typeof window<"u"?Al:void 0;this._delegate=T.initialize({options:{persistence:kp(B,m.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,T){!function xe(E,p,m){const T=pr(E);Oe(T._canInitEmulator,T,"emulator-config-failed"),Oe(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const B=!!m?.disableWarnings,se=ne(p),{host:qe,port:Ct}=function ge(E){const p=ne(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(p.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(T);if(B){const se=B[1];return{host:se,port:ft(T.substr(se.length+1))}}{const[se,qe]=T.split(":");return{host:se,port:ft(qe)}}}(p);T.config.emulator={url:`${se}//${qe}${null===Ct?"":`:${Ct}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:qe,port:Ct,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function hn(){function E(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,m,T)}applyActionCode(m){return function $l(E,p){return ea.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ka(this._delegate,m)}confirmPasswordReset(m,T){return function gc(E,p,m){return mc.apply(this,arguments)}(this._delegate,m,T)}createUserWithEmailAndPassword(m,T){var B=this;return(0,h.A)(function*(){return Ds(B._delegate,function Td(E,p,m){return jl.apply(this,arguments)}(B._delegate,m,T))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ws(E,p){return il.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Wl(E,p){const m=_n.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,h.A)(function*(){kc(Dl(),m._delegate,"operation-not-supported-in-this-environment");const T=yield function pI(E,p){return yl.apply(this,arguments)}(m._delegate,Al);return T?Ds(m._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function tf(E,p){pr(E)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,T,B){const{next:se,error:qe,complete:Ct}=Lc(m,T,B);return this._delegate.onAuthStateChanged(se,qe,Ct)}onIdTokenChanged(m,T,B){const{next:se,error:qe,complete:Ct}=Lc(m,T,B);return this._delegate.onIdTokenChanged(se,qe,Ct)}sendSignInLinkToEmail(m,T){return function cu(E,p,m){return Fa.apply(this,arguments)}(this._delegate,m,T)}sendPasswordResetEmail(m,T){return function lu(E,p,m){return xa.apply(this,arguments)}(this._delegate,m,T||void 0)}setPersistence(m){var T=this;return(0,h.A)(function*(){let B;switch(function Nc(E,p){xu(Object.values(ms).includes(p),E,"invalid-persistence-type"),(0,$.lV)()?xu(p!==ms.SESSION,E,"unsupported-persistence-type"):(0,$.Ll)()?xu(p===ms.NONE,E,"unsupported-persistence-type"):rf()?xu(p===ms.NONE||p===ms.LOCAL&&(0,$.zW)(),E,"unsupported-persistence-type"):xu(p===ms.NONE||nf(),E,"unsupported-persistence-type")}(T._delegate,m),m){case ms.SESSION:B=Cr;break;case ms.LOCAL:B=(yield Kn(Ea)._isAvailable())?Ea:Gl;break;case ms.NONE:B=Lr;break;default:return dt("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(B)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ds(this._delegate,function te(E){return de.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ds(this._delegate,Ji(this._delegate,m))}signInWithCustomToken(m){return Ds(this._delegate,function jn(E,p){return qn.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,T){return Ds(this._delegate,function La(E,p,m){return(0,k._isFirebaseServerApp)(E.app)?Promise.reject(Ze(E)):Ji((0,$.Ku)(E),or.credential(p,m)).catch(function(){var T=(0,h.A)(function*(B){throw"auth/password-does-not-meet-requirements"===B.code&&ds(E),B});return function(B){return T.apply(this,arguments)}}())}(this._delegate,m,T))}signInWithEmailLink(m,T){return Ds(this._delegate,function yc(E,p,m){return rl.apply(this,arguments)}(this._delegate,m,T))}signInWithPhoneNumber(m,T){return cf(this._delegate,function $h(E,p,m){return Ad.apply(this,arguments)}(this._delegate,m,T))}signInWithPopup(m){var T=this;return(0,h.A)(function*(){return kc(Dl(),T._delegate,"operation-not-supported-in-this-environment"),Ds(T._delegate,function $a(E,p,m){return Sd.apply(this,arguments)}(T._delegate,m,Al))})()}signInWithRedirect(m){var T=this;return(0,h.A)(function*(){return kc(Dl(),T._delegate,"operation-not-supported-in-this-environment"),yield sf(T._delegate),function Fy(E,p,m){return function Bo(E,p,m){return Ep.apply(this,arguments)}(E,p,m)}(T._delegate,m,Al)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Id(E,p){return _c.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=ms,E})();function Lc(E,p,m){let T=E;"function"!=typeof E&&({next:T,error:p,complete:m}=E);const B=T;return{next:qe=>B(qe&&Yr.getOrCreate(qe)),error:p,complete:m}}function kp(E,p){const m=function xc(E,p){const m=za();if(!m)return[];const T=Rr(jd,E,p);switch(m.getItem(T)){case ms.NONE:return[Lr];case ms.LOCAL:return[Ea,Cr];case ms.SESSION:return[Cr];default:return[]}}(E,p);if(typeof self<"u"&&!m.includes(Ea)&&m.push(Ea),typeof window<"u")for(const T of[Gl,Cr])m.includes(T)||m.push(T);return m.includes(Lr)||m.push(Lr),m}class zd{constructor(){this.providerId="phone",this._delegate=new Y(Wd(u.A.auth()))}static credential(p,m){return Y.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}zd.PHONE_SIGN_IN_METHOD=Y.PHONE_SIGN_IN_METHOD,zd.PROVIDER_ID=Y.PROVIDER_ID;const nc=Oe;class Lp{constructor(p,m,T=u.A.app()){var B;nc(null===(B=T.options)||void 0===B?void 0:B.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new ra(T.auth(),p,m),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fc(E){E.INTERNAL.registerComponent(new Ce.uA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),T=p.getProvider("auth");return new uf(m,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:or,FacebookAuthProvider:Fi,GithubAuthProvider:Qi,GoogleAuthProvider:mi,OAuthProvider:rr,SAMLAuthProvider:Yi,PhoneAuthProvider:zd,PhoneMultiFactorGenerator:$y,RecaptchaVerifier:Lp,TwitterAuthProvider:Fo,Auth:uf,AuthCredential:Sn,Error:$.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.14")}(u.A)},467:(Ln,Tt,L)=>{"use strict";function h(k,$,Te,fe,Ce,He,Se){try{var le=k[He](Se),pe=le.value}catch(Pe){return void Te(Pe)}le.done?$(pe):Promise.resolve(pe).then(fe,Ce)}function u(k){return function(){var $=this,Te=arguments;return new Promise(function(fe,Ce){var He=k.apply($,Te);function Se(pe){h(He,fe,Ce,Se,le,"next",pe)}function le(pe){h(He,fe,Ce,Se,le,"throw",pe)}Se(void 0)})}}L.d(Tt,{A:()=>u})},591:(Ln,Tt,L)=>{"use strict";function h(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Tt,{L:()=>h})},941:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Q:()=>$});var h=L(5225),u=L(9974),k=L(4360);function $(Te,fe=0){return(0,u.N)((Ce,He)=>{Ce.subscribe((0,k._)(He,Se=>(0,h.N)(He,Te,()=>He.next(Se),fe),()=>(0,h.N)(He,Te,()=>He.complete(),fe),Se=>(0,h.N)(He,Te,()=>He.error(Se),fe)))})}},980:(Ln,Tt,L)=>{"use strict";L.d(Tt,{j:()=>u});var h=L(9974);function u(k){return(0,h.N)(($,Te)=>{try{$.subscribe(Te)}finally{Te.add(k)}})}},983:(Ln,Tt,L)=>{"use strict";L.d(Tt,{w:()=>u});const u=new(L(1985).c)(Te=>Te.complete())},1026:(Ln,Tt,L)=>{"use strict";L.d(Tt,{$:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(Ln,Tt,L)=>{"use strict";L.d(Tt,{F:()=>u,m:()=>k});var h=L(3669);function u(...$){return k($)}function k($){return 0===$.length?h.D:1===$.length?$[0]:function(fe){return $.reduce((Ce,He)=>He(Ce),fe)}}},1397:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Z:()=>He});var h=L(6354),u=L(8750),k=L(9974),$=L(5225),Te=L(4360),Ce=L(8071);function He(Se,le,pe=1/0){return(0,Ce.T)(le)?He((Pe,Me)=>(0,h.T)((Le,We)=>le(Pe,Le,Me,We))((0,u.Tg)(Se(Pe,Me))),pe):("number"==typeof le&&(pe=le),(0,k.N)((Pe,Me)=>function fe(Se,le,pe,Pe,Me,Le,We,st){const it=[];let et=0,vt=0,Rt=!1;const Fe=()=>{Rt&&!it.length&&!et&&le.complete()},dt=Ve=>et<Pe?ke(Ve):it.push(Ve),ke=Ve=>{Le&&le.next(Ve),et++;let Ze=!1;(0,u.Tg)(pe(Ve,vt++)).subscribe((0,Te._)(le,_t=>{Me?.(_t),Le?dt(_t):le.next(_t)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(et--;it.length&&et<Pe;){const _t=it.shift();We?(0,$.N)(le,We,()=>ke(_t)):ke(_t)}Fe()}catch(_t){le.error(_t)}}))};return Se.subscribe((0,Te._)(le,dt,()=>{Rt=!0,Fe()})),()=>{st?.()}}(Pe,Me,Se,pe)))}},1401:(Ln,Tt,L)=>{"use strict";L.d(Tt,{$L:()=>yn,$g:()=>tn,A4:()=>pe,Am:()=>Gn,As:()=>lt,Bd:()=>Oe,Cv:()=>an,FA:()=>wt,Fy:()=>Ve,HN:()=>Hr,Hk:()=>k,I9:()=>cn,Im:()=>vn,K3:()=>fe,KA:()=>He,Ku:()=>Wr,Ll:()=>ct,OE:()=>Fn,T9:()=>Fe,Uj:()=>Se,XA:()=>dt,ZQ:()=>Ze,bD:()=>br,c1:()=>ut,cY:()=>ke,dI:()=>ai,eX:()=>_e,g:()=>tt,gR:()=>rt,gz:()=>Xt,hp:()=>cr,jZ:()=>_t,kH:()=>ar,kj:()=>Ii,lT:()=>ht,lV:()=>zt,mS:()=>Le,nr:()=>dn,oD:()=>Ur,od:()=>Er,p7:()=>ln,qc:()=>Pt,sr:()=>Mn,tD:()=>on,u:()=>le,vA:()=>u,yw:()=>Bt,zW:()=>re,zw:()=>Pe});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},u=function(Be,$e){if(!Be)throw k($e)},k=function(Be){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Be)},$=function(Be){const $e=[];let nt=0;for(let Kt=0;Kt<Be.length;Kt++){let bt=Be.charCodeAt(Kt);bt<128?$e[nt++]=bt:bt<2048?($e[nt++]=bt>>6|192,$e[nt++]=63&bt|128):55296==(64512&bt)&&Kt+1<Be.length&&56320==(64512&Be.charCodeAt(Kt+1))?(bt=65536+((1023&bt)<<10)+(1023&Be.charCodeAt(++Kt)),$e[nt++]=bt>>18|240,$e[nt++]=bt>>12&63|128,$e[nt++]=bt>>6&63|128,$e[nt++]=63&bt|128):($e[nt++]=bt>>12|224,$e[nt++]=bt>>6&63|128,$e[nt++]=63&bt|128)}return $e},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Be,$e){if(!Array.isArray(Be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const nt=$e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Kt=[];for(let bt=0;bt<Be.length;bt+=3){const Vn=Be[bt],Kn=bt+1<Be.length,Fr=Kn?Be[bt+1]:0,Lr=bt+2<Be.length,Rr=Lr?Be[bt+2]:0;let yr=(15&Fr)<<2|Rr>>6,ui=63&Rr;Lr||(ui=64,Kn||(yr=64)),Kt.push(nt[Vn>>2],nt[(3&Vn)<<4|Fr>>4],nt[yr],nt[ui])}return Kt.join("")},encodeString(Be,$e){return this.HAS_NATIVE_SUPPORT&&!$e?btoa(Be):this.encodeByteArray($(Be),$e)},decodeString(Be,$e){return this.HAS_NATIVE_SUPPORT&&!$e?atob(Be):function(Be){const $e=[];let nt=0,Kt=0;for(;nt<Be.length;){const bt=Be[nt++];if(bt<128)$e[Kt++]=String.fromCharCode(bt);else if(bt>191&&bt<224){const Vn=Be[nt++];$e[Kt++]=String.fromCharCode((31&bt)<<6|63&Vn)}else if(bt>239&&bt<365){const Lr=((7&bt)<<18|(63&Be[nt++])<<12|(63&Be[nt++])<<6|63&Be[nt++])-65536;$e[Kt++]=String.fromCharCode(55296+(Lr>>10)),$e[Kt++]=String.fromCharCode(56320+(1023&Lr))}else{const Vn=Be[nt++],Kn=Be[nt++];$e[Kt++]=String.fromCharCode((15&bt)<<12|(63&Vn)<<6|63&Kn)}}return $e.join("")}(this.decodeStringToByteArray(Be,$e))},decodeStringToByteArray(Be,$e){this.init_();const nt=$e?this.charToByteMapWebSafe_:this.charToByteMap_,Kt=[];for(let bt=0;bt<Be.length;){const Vn=nt[Be.charAt(bt++)],Fr=bt<Be.length?nt[Be.charAt(bt)]:0;++bt;const Rr=bt<Be.length?nt[Be.charAt(bt)]:64;++bt;const Hn=bt<Be.length?nt[Be.charAt(bt)]:64;if(++bt,null==Vn||null==Fr||null==Rr||null==Hn)throw new Ce;Kt.push(Vn<<2|Fr>>4),64!==Rr&&(Kt.push(Fr<<4&240|Rr>>2),64!==Hn&&Kt.push(Rr<<6&192|Hn))}return Kt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Be=0;Be<this.ENCODED_VALS.length;Be++)this.byteToCharMap_[Be]=this.ENCODED_VALS.charAt(Be),this.charToByteMap_[this.byteToCharMap_[Be]]=Be,this.byteToCharMapWebSafe_[Be]=this.ENCODED_VALS_WEBSAFE.charAt(Be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Be]]=Be,Be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Be)]=Be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Be)]=Be)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(Be){const $e=$(Be);return fe.encodeByteArray($e,!0)},Se=function(Be){return He(Be).replace(/\./g,"")},le=function(Be){try{return fe.decodeString(Be,!0)}catch($e){console.error("base64Decode failed: ",$e)}return null};function pe(Be){return Pe(void 0,Be)}function Pe(Be,$e){if(!($e instanceof Object))return $e;switch($e.constructor){case Date:return new Date($e.getTime());case Object:void 0===Be&&(Be={});break;case Array:Be=[];break;default:return $e}for(const nt in $e)!$e.hasOwnProperty(nt)||!Me(nt)||(Be[nt]=Pe(Be[nt],$e[nt]));return Be}function Me(Be){return"__proto__"!==Be}function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const et=()=>{try{return Le().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Be=process.env.__FIREBASE_DEFAULTS__;return Be?JSON.parse(Be):void 0})()||(()=>{if(typeof document>"u")return;let Be;try{Be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $e=Be&&le(Be[1]);return $e&&JSON.parse($e)})()}catch(Be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Be}`)}},Fe=()=>{var Be;return null===(Be=et())||void 0===Be?void 0:Be.config},dt=Be=>{var $e;return null===($e=et())||void 0===$e?void 0:$e[`_${Be}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($e,nt)=>{this.resolve=$e,this.reject=nt})}wrapCallback($e){return(nt,Kt)=>{nt?this.reject(nt):this.resolve(Kt),"function"==typeof $e&&(this.promise.catch(()=>{}),1===$e.length?$e(nt):$e(nt,Kt))}}}function Ve(Be,$e){if(Be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Kt=$e||"demo-project",bt=Be.iat||0,Vn=Be.sub||Be.user_id;if(!Vn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Kn=Object.assign({iss:`https://securetoken.google.com/${Kt}`,aud:Kt,iat:bt,exp:bt+3600,auth_time:bt,sub:Vn,user_id:Vn,firebase:{sign_in_provider:"custom",identities:{}}},Be);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(Kn)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function ct(){var Be;const $e=null===(Be=et())||void 0===Be?void 0:Be.forceEnvironment;if("node"===$e)return!0;if("browser"===$e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return typeof window<"u"||ln()}function ln(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ut(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Mn(){const Be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Be&&void 0!==Be.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ht(){const Be=Ze();return Be.indexOf("MSIE ")>=0||Be.indexOf("Trident/")>=0}function tn(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function dn(){return!ct()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((Be,$e)=>{try{let nt=!0;const Kt="validate-browser-context-for-indexeddb-analytics-module",bt=self.indexedDB.open(Kt);bt.onsuccess=()=>{bt.result.close(),nt||self.indexedDB.deleteDatabase(Kt),Be(!0)},bt.onupgradeneeded=()=>{nt=!1},bt.onerror=()=>{var Vn;$e((null===(Vn=bt.error)||void 0===Vn?void 0:Vn.message)||"")}}catch(nt){$e(nt)}})}class tt extends Error{constructor($e,nt,Kt){super(nt),this.code=$e,this.customData=Kt,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor($e,nt,Kt){this.service=$e,this.serviceName=nt,this.errors=Kt}create($e,...nt){const Kt=nt[0]||{},bt=`${this.service}/${$e}`,Vn=this.errors[$e],Kn=Vn?function Gt(Be,$e){return Be.replace(Ht,(nt,Kt)=>{const bt=$e[Kt];return null!=bt?String(bt):`<${Kt}?>`})}(Vn,Kt):"Error";return new tt(bt,`${this.serviceName}: ${Kn} (${bt}).`,Kt)}}const Ht=/\{\$([^}]+)}/g;function yn(Be){return JSON.parse(Be)}function lt(Be){return JSON.stringify(Be)}const In=function(Be){let $e={},nt={},Kt={},bt="";try{const Vn=Be.split(".");$e=yn(le(Vn[0])||""),nt=yn(le(Vn[1])||""),bt=Vn[2],Kt=nt.d||{},delete nt.d}catch{}return{header:$e,claims:nt,data:Kt,signature:bt}},an=function(Be){const nt=In(Be).claims;return!!nt&&"object"==typeof nt&&nt.hasOwnProperty("iat")},Pt=function(Be){const $e=In(Be).claims;return"object"==typeof $e&&!0===$e.admin};function rt(Be,$e){return Object.prototype.hasOwnProperty.call(Be,$e)}function Bt(Be,$e){if(Object.prototype.hasOwnProperty.call(Be,$e))return Be[$e]}function vn(Be){for(const $e in Be)if(Object.prototype.hasOwnProperty.call(Be,$e))return!1;return!0}function ar(Be,$e,nt){const Kt={};for(const bt in Be)Object.prototype.hasOwnProperty.call(Be,bt)&&(Kt[bt]=$e.call(nt,Be[bt],bt,Be));return Kt}function br(Be,$e){if(Be===$e)return!0;const nt=Object.keys(Be),Kt=Object.keys($e);for(const bt of nt){if(!Kt.includes(bt))return!1;const Vn=Be[bt],Kn=$e[bt];if(Sr(Vn)&&Sr(Kn)){if(!br(Vn,Kn))return!1}else if(Vn!==Kn)return!1}for(const bt of Kt)if(!nt.includes(bt))return!1;return!0}function Sr(Be){return null!==Be&&"object"==typeof Be}function Gn(Be){const $e=[];for(const[nt,Kt]of Object.entries(Be))Array.isArray(Kt)?Kt.forEach(bt=>{$e.push(encodeURIComponent(nt)+"="+encodeURIComponent(bt))}):$e.push(encodeURIComponent(nt)+"="+encodeURIComponent(Kt));return $e.length?"&"+$e.join("&"):""}function cn(Be){const $e={};return Be.replace(/^\?/,"").split("&").forEach(Kt=>{if(Kt){const[bt,Vn]=Kt.split("=");$e[decodeURIComponent(bt)]=decodeURIComponent(Vn)}}),$e}function cr(Be){const $e=Be.indexOf("?");if(!$e)return"";const nt=Be.indexOf("#",$e);return Be.substring($e,nt>0?nt:void 0)}class Xt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $e=1;$e<this.blockSize;++$e)this.pad_[$e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($e,nt){nt||(nt=0);const Kt=this.W_;if("string"==typeof $e)for(let Hn=0;Hn<16;Hn++)Kt[Hn]=$e.charCodeAt(nt)<<24|$e.charCodeAt(nt+1)<<16|$e.charCodeAt(nt+2)<<8|$e.charCodeAt(nt+3),nt+=4;else for(let Hn=0;Hn<16;Hn++)Kt[Hn]=$e[nt]<<24|$e[nt+1]<<16|$e[nt+2]<<8|$e[nt+3],nt+=4;for(let Hn=16;Hn<80;Hn++){const yr=Kt[Hn-3]^Kt[Hn-8]^Kt[Hn-14]^Kt[Hn-16];Kt[Hn]=4294967295&(yr<<1|yr>>>31)}let Rr,Pr,bt=this.chain_[0],Vn=this.chain_[1],Kn=this.chain_[2],Fr=this.chain_[3],Lr=this.chain_[4];for(let Hn=0;Hn<80;Hn++){Hn<40?Hn<20?(Rr=Fr^Vn&(Kn^Fr),Pr=1518500249):(Rr=Vn^Kn^Fr,Pr=1859775393):Hn<60?(Rr=Vn&Kn|Fr&(Vn|Kn),Pr=2400959708):(Rr=Vn^Kn^Fr,Pr=3395469782);const yr=(bt<<5|bt>>>27)+Rr+Lr+Pr+Kt[Hn]&4294967295;Lr=Fr,Fr=Kn,Kn=4294967295&(Vn<<30|Vn>>>2),Vn=bt,bt=yr}this.chain_[0]=this.chain_[0]+bt&4294967295,this.chain_[1]=this.chain_[1]+Vn&4294967295,this.chain_[2]=this.chain_[2]+Kn&4294967295,this.chain_[3]=this.chain_[3]+Fr&4294967295,this.chain_[4]=this.chain_[4]+Lr&4294967295}update($e,nt){if(null==$e)return;void 0===nt&&(nt=$e.length);const Kt=nt-this.blockSize;let bt=0;const Vn=this.buf_;let Kn=this.inbuf_;for(;bt<nt;){if(0===Kn)for(;bt<=Kt;)this.compress_($e,bt),bt+=this.blockSize;if("string"==typeof $e){for(;bt<nt;)if(Vn[Kn]=$e.charCodeAt(bt),++Kn,++bt,Kn===this.blockSize){this.compress_(Vn),Kn=0;break}}else for(;bt<nt;)if(Vn[Kn]=$e[bt],++Kn,++bt,Kn===this.blockSize){this.compress_(Vn),Kn=0;break}}this.inbuf_=Kn,this.total_+=nt}digest(){const $e=[];let nt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let bt=this.blockSize-1;bt>=56;bt--)this.buf_[bt]=255&nt,nt/=256;this.compress_(this.buf_);let Kt=0;for(let bt=0;bt<5;bt++)for(let Vn=24;Vn>=0;Vn-=8)$e[Kt]=this.chain_[bt]>>Vn&255,++Kt;return $e}}function on(Be,$e){const nt=new On(Be,$e);return nt.subscribe.bind(nt)}class On{constructor($e,nt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=nt,this.task.then(()=>{$e(this)}).catch(Kt=>{this.error(Kt)})}next($e){this.forEachObserver(nt=>{nt.next($e)})}error($e){this.forEachObserver(nt=>{nt.error($e)}),this.close($e)}complete(){this.forEachObserver($e=>{$e.complete()}),this.close()}subscribe($e,nt,Kt){let bt;if(void 0===$e&&void 0===nt&&void 0===Kt)throw new Error("Missing Observer.");bt=function gr(Be,$e){if("object"!=typeof Be||null===Be)return!1;for(const nt of $e)if(nt in Be&&"function"==typeof Be[nt])return!0;return!1}($e,["next","error","complete"])?$e:{next:$e,error:nt,complete:Kt},void 0===bt.next&&(bt.next=Mr),void 0===bt.error&&(bt.error=Mr),void 0===bt.complete&&(bt.complete=Mr);const Vn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?bt.error(this.finalError):bt.complete()}catch{}}),this.observers.push(bt),Vn}unsubscribeOne($e){void 0===this.observers||void 0===this.observers[$e]||(delete this.observers[$e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($e){if(!this.finalized)for(let nt=0;nt<this.observers.length;nt++)this.sendOne(nt,$e)}sendOne($e,nt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$e])try{nt(this.observers[$e])}catch(Kt){typeof console<"u"&&console.error&&console.error(Kt)}})}close($e){this.finalized||(this.finalized=!0,void 0!==$e&&(this.finalError=$e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mr(){}const Er=function(Be,$e,nt,Kt){let bt;if(Kt<$e?bt="at least "+$e:Kt>nt&&(bt=0===nt?"none":"no more than "+nt),bt)throw new Error(Be+" failed: Was called with "+Kt+(1===Kt?" argument.":" arguments.")+" Expects "+bt+".")};function ai(Be,$e){return`${Be} failed: ${$e} argument `}function Ur(Be,$e,nt,Kt){if((!Kt||nt)&&"function"!=typeof nt)throw new Error(ai(Be,$e)+"must be a valid function.")}function Hr(Be,$e,nt,Kt){if((!Kt||nt)&&("object"!=typeof nt||null===nt))throw new Error(ai(Be,$e)+"must be a valid context object.")}const Ii=function(Be){const $e=[];let nt=0;for(let Kt=0;Kt<Be.length;Kt++){let bt=Be.charCodeAt(Kt);if(bt>=55296&&bt<=56319){const Vn=bt-55296;Kt++,u(Kt<Be.length,"Surrogate pair missing trail surrogate."),bt=65536+(Vn<<10)+(Be.charCodeAt(Kt)-56320)}bt<128?$e[nt++]=bt:bt<2048?($e[nt++]=bt>>6|192,$e[nt++]=63&bt|128):bt<65536?($e[nt++]=bt>>12|224,$e[nt++]=bt>>6&63|128,$e[nt++]=63&bt|128):($e[nt++]=bt>>18|240,$e[nt++]=bt>>12&63|128,$e[nt++]=bt>>6&63|128,$e[nt++]=63&bt|128)}return $e},Fn=function(Be){let $e=0;for(let nt=0;nt<Be.length;nt++){const Kt=Be.charCodeAt(nt);Kt<128?$e++:Kt<2048?$e+=2:Kt>=55296&&Kt<=56319?($e+=4,nt++):$e+=3}return $e};function Wr(Be){return Be&&Be._delegate?Be._delegate:Be}},1413:(Ln,Tt,L)=>{"use strict";L.d(Tt,{B:()=>Ce});var h=L(1985),u=L(8359);const $=(0,L(1853).L)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=L(7908),fe=L(9786);let Ce=(()=>{class Se extends h.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Pe=new He(this,this);return Pe.operator=pe,Pe}_throwIfClosed(){if(this.closed)throw new $}next(pe){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(pe)}})}error(pe){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(pe)}})}complete(){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Pe,isStopped:Me,observers:Le}=this;return Pe||Me?u.Kn:(this.currentObservers=null,Le.push(pe),new u.yU(()=>{this.currentObservers=null,(0,Te.o)(Le,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Pe,thrownError:Me,isStopped:Le}=this;Pe?pe.error(Me):Le&&pe.complete()}asObservable(){const pe=new h.c;return pe.source=this,pe}}return Se.create=(le,pe)=>new He(le,pe),Se})();class He extends Ce{constructor(le,pe){super(),this.destination=le,this.source=pe}next(le){var pe,Pe;null===(Pe=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Pe||Pe.call(pe,le)}error(le){var pe,Pe;null===(Pe=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Pe||Pe.call(pe,le)}complete(){var le,pe;null===(pe=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===pe||pe.call(le)}_subscribe(le){var pe,Pe;return null!==(Pe=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(le))&&void 0!==Pe?Pe:u.Kn}}},1580:(Ln,Tt,L)=>{"use strict";L.r(Tt),L.d(Tt,{iosTransitionAnimation:()=>Le,shadow:()=>He});var h=L(2541),u=L(7951);L(5705),L(9596),L(4674);const Ce=st=>document.querySelector(`${st}.ion-cloned-element`),He=st=>st.shadowRoot||st,Se=st=>{const it="ION-TABS"===st.tagName?st:st.querySelector("ion-tabs"),et="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=it){const vt=it.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=vt?vt.querySelector(et):null}return st.querySelector(et)},le=(st,it)=>{const et="ION-TABS"===st.tagName?st:st.querySelector("ion-tabs");let vt=[];if(null!=et){const Rt=et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Rt&&(vt=Rt.querySelectorAll("ion-buttons"))}else vt=st.querySelectorAll("ion-buttons");for(const Rt of vt){const Fe=Rt.closest("ion-header"),dt=Fe&&!Fe.classList.contains("header-collapse-condense-inactive"),ke=Rt.querySelector("ion-back-button"),Ve=Rt.classList.contains("buttons-collapse");if(null!==ke&&("start"===Rt.slot||""===Rt.slot)&&(Ve&&dt&&it||!Ve))return ke}return null},Pe=(st,it,et,vt,Rt,Fe,dt,ke,Ve)=>{var Ze,_t;const ct=it?`calc(100% - ${Rt.right+4}px)`:Rt.left-4+"px",Oe=it?"right":"left",ln=it?"left":"right",ut=it?"right":"left";let Mn=1,zt=1,kt=`scale(${zt})`;const ht="scale(1)";if(Fe&&dt){const ar=(null===(Ze=Fe.textContent)||void 0===Ze?void 0:Ze.trim())===(null===(_t=ke.textContent)||void 0===_t?void 0:_t.trim());Mn=Ve.width/dt.width,zt=(Ve.height-We)/dt.height,kt=ar?`scale(${Mn}, ${zt})`:`scale(${zt})`}const tn=He(vt).querySelector("ion-icon").getBoundingClientRect(),dn=it?tn.width/2-(tn.right-Rt.right)+"px":Rt.left-tn.width/2+"px",re=it?`-${window.innerWidth-Rt.right}px`:`${Rt.left}px`,_e=`${Ve.top}px`,Ue=`${Rt.top}px`,wt=et?[{offset:0,transform:`translate3d(${re}, ${Ue}, 0)`},{offset:1,transform:`translate3d(${dn}, ${_e}, 0)`}]:[{offset:0,transform:`translate3d(${dn}, ${_e}, 0)`},{offset:1,transform:`translate3d(${re}, ${Ue}, 0)`}],yn=et?[{offset:0,opacity:1,transform:ht},{offset:1,opacity:0,transform:kt}]:[{offset:0,opacity:0,transform:kt},{offset:1,opacity:1,transform:ht}],yt=et?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Tn=(0,h.c)(),an=(0,h.c)(),Pt=(0,h.c)(),rt=Ce("ion-back-button"),Bt=He(rt).querySelector(".button-text"),vn=He(rt).querySelector("ion-icon");rt.text=vt.text,rt.mode=vt.mode,rt.icon=vt.icon,rt.color=vt.color,rt.disabled=vt.disabled,rt.style.setProperty("display","block"),rt.style.setProperty("position","fixed"),an.addElement(vn),Tn.addElement(Bt),Pt.addElement(rt),Pt.beforeStyles({position:"absolute",top:"0px",[ut]:"0px"}).beforeAddWrite(()=>{vt.style.setProperty("display","none"),rt.style.setProperty(Oe,ct)}).afterAddWrite(()=>{vt.style.setProperty("display",""),rt.style.setProperty("display","none"),rt.style.removeProperty(Oe)}).keyframes(wt),Tn.beforeStyles({"transform-origin":`${Oe} top`}).keyframes(yn),an.beforeStyles({"transform-origin":`${ln} center`}).keyframes(yt),st.addAnimation([Tn,an,Pt])},Me=(st,it,et,vt,Rt,Fe,dt,ke,Ve)=>{var Ze,_t;const ct=it?"right":"left",Oe=it?`calc(100% - ${Rt.right}px)`:`${Rt.left}px`,ut=`${Rt.top}px`;let zt=it?`-${window.innerWidth-dt.right-8}px`:`${dt.x+8}px`,kt=.5;const ht="scale(1)";let jt=`scale(${kt})`;if(ke&&Ve){zt=it?`-${window.innerWidth-Ve.right-8}px`:Ve.x-8+"px";const Gt=(null===(Ze=ke.textContent)||void 0===Ze?void 0:Ze.trim())===(null===(_t=vt.textContent)||void 0===_t?void 0:_t.trim());kt=Ve.height/(Fe.height-We),jt=Gt?`scale(${Ve.width/Fe.width}, ${kt})`:`scale(${kt})`}const re=dt.top+dt.height/2-Rt.height*kt/2+"px",we=et?[{offset:0,opacity:0,transform:`translate3d(${zt}, ${re}, 0) ${jt}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ut}, 0) ${ht}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ut}, 0) ${ht}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${zt}, ${re}, 0) ${jt}`}],tt=Ce("ion-title"),wt=(0,h.c)();tt.innerText=vt.innerText,tt.size=vt.size,tt.color=vt.color,wt.addElement(tt),wt.beforeStyles({"transform-origin":`${ct} top`,height:`${Rt.height}px`,display:"",position:"relative",[ct]:Oe}).beforeAddWrite(()=>{vt.style.setProperty("opacity","0")}).afterAddWrite(()=>{vt.style.setProperty("opacity",""),tt.style.setProperty("display","none")}).keyframes(we),st.addAnimation(wt)},Le=(st,it)=>{var et;try{const vt="cubic-bezier(0.32,0.72,0,1)",Rt="opacity",Fe="transform",Ve="rtl"===st.ownerDocument.dir,Ze=Ve?"-99.5%":"99.5%",_t=Ve?"33%":"-33%",ct=it.enteringEl,Oe=it.leavingEl,ln="back"===it.direction,ut=ct.querySelector(":scope > ion-content"),Mn=ct.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),zt=ct.querySelectorAll(":scope > ion-header > ion-toolbar"),kt=(0,h.c)(),ht=(0,h.c)();if(kt.addElement(ct).duration((null!==(et=it.duration)&&void 0!==et?et:0)||540).easing(it.easing||vt).fill("both").beforeRemoveClass("ion-page-invisible"),Oe&&null!=st){const re=(0,h.c)();re.addElement(st),kt.addAnimation(re)}if(ut||0!==zt.length||0!==Mn.length?(ht.addElement(ut),ht.addElement(Mn)):ht.addElement(ct.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),kt.addAnimation(ht),ln?ht.beforeClearStyles([Rt]).fromTo("transform",`translateX(${_t})`,"translateX(0%)").fromTo(Rt,.8,1):ht.beforeClearStyles([Rt]).fromTo("transform",`translateX(${Ze})`,"translateX(0%)"),ut){const re=He(ut).querySelector(".transition-effect");if(re){const _e=re.querySelector(".transition-cover"),Ue=re.querySelector(".transition-shadow"),we=(0,h.c)(),tt=(0,h.c)(),wt=(0,h.c)();we.addElement(re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),tt.addElement(_e).beforeClearStyles([Rt]).fromTo(Rt,0,.1),wt.addElement(Ue).beforeClearStyles([Rt]).fromTo(Rt,.03,.7),we.addAnimation([tt,wt]),ht.addAnimation([we])}}const jt=ct.querySelector("ion-header.header-collapse-condense"),{forward:tn,backward:dn}=((st,it,et,vt,Rt)=>{const Fe=le(vt,et),dt=Se(Rt),ke=Se(vt),Ve=le(Rt,et),Ze=null!==Fe&&null!==dt&&!et,_t=null!==ke&&null!==Ve&&et;if(Ze){const ct=dt.getBoundingClientRect(),Oe=Fe.getBoundingClientRect(),ln=He(Fe).querySelector(".button-text"),ut=ln?.getBoundingClientRect(),zt=He(dt).querySelector(".toolbar-title").getBoundingClientRect();Me(st,it,et,dt,ct,zt,Oe,ln,ut),Pe(st,it,et,Fe,Oe,ln,ut,dt,zt)}else if(_t){const ct=ke.getBoundingClientRect(),Oe=Ve.getBoundingClientRect(),ln=He(Ve).querySelector(".button-text"),ut=ln?.getBoundingClientRect(),zt=He(ke).querySelector(".toolbar-title").getBoundingClientRect();Me(st,it,et,ke,ct,zt,Oe,ln,ut),Pe(st,it,et,Ve,Oe,ln,ut,ke,zt)}return{forward:Ze,backward:_t}})(kt,Ve,ln,ct,Oe);if(zt.forEach(re=>{const _e=(0,h.c)();_e.addElement(re),kt.addAnimation(_e);const Ue=(0,h.c)();Ue.addElement(re.querySelector("ion-title"));const we=(0,h.c)(),tt=Array.from(re.querySelectorAll("ion-buttons,[menuToggle]")),wt=re.closest("ion-header"),Gt=wt?.classList.contains("header-collapse-condense-inactive");let Ht;Ht=tt.filter(ln?Tn=>{const an=Tn.classList.contains("buttons-collapse");return an&&!Gt||!an}:Tn=>!Tn.classList.contains("buttons-collapse")),we.addElement(Ht);const yn=(0,h.c)();yn.addElement(re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const lt=(0,h.c)();lt.addElement(He(re).querySelector(".toolbar-background"));const In=(0,h.c)(),yt=re.querySelector("ion-back-button");if(yt&&In.addElement(yt),_e.addAnimation([Ue,we,yn,lt,In]),we.fromTo(Rt,.01,1),yn.fromTo(Rt,.01,1),ln)Gt||Ue.fromTo("transform",`translateX(${_t})`,"translateX(0%)").fromTo(Rt,.01,1),yn.fromTo("transform",`translateX(${_t})`,"translateX(0%)"),In.fromTo(Rt,.01,1);else if(jt||Ue.fromTo("transform",`translateX(${Ze})`,"translateX(0%)").fromTo(Rt,.01,1),yn.fromTo("transform",`translateX(${Ze})`,"translateX(0%)"),lt.beforeClearStyles([Rt,"transform"]),wt?.translucent?lt.fromTo("transform",Ve?"translateX(-100%)":"translateX(100%)","translateX(0px)"):lt.fromTo(Rt,.01,"var(--opacity)"),tn||In.fromTo(Rt,.01,1),yt&&!tn){const an=(0,h.c)();an.addElement(He(yt).querySelector(".button-text")).fromTo("transform",Ve?"translateX(-100px)":"translateX(100px)","translateX(0px)"),_e.addAnimation(an)}}),Oe){const re=(0,h.c)(),_e=Oe.querySelector(":scope > ion-content"),Ue=Oe.querySelectorAll(":scope > ion-header > ion-toolbar"),we=Oe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(_e||0!==Ue.length||0!==we.length?(re.addElement(_e),re.addElement(we)):re.addElement(Oe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),kt.addAnimation(re),ln){re.beforeClearStyles([Rt]).fromTo("transform","translateX(0%)",Ve?"translateX(-100%)":"translateX(100%)");const tt=(0,u.g)(Oe);kt.afterAddWrite(()=>{"normal"===kt.getDirection()&&tt.style.setProperty("display","none")})}else re.fromTo("transform","translateX(0%)",`translateX(${_t})`).fromTo(Rt,1,.8);if(_e){const tt=He(_e).querySelector(".transition-effect");if(tt){const wt=tt.querySelector(".transition-cover"),Gt=tt.querySelector(".transition-shadow"),Ht=(0,h.c)(),yn=(0,h.c)(),lt=(0,h.c)();Ht.addElement(tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),yn.addElement(wt).beforeClearStyles([Rt]).fromTo(Rt,.1,0),lt.addElement(Gt).beforeClearStyles([Rt]).fromTo(Rt,.7,.03),Ht.addAnimation([yn,lt]),re.addAnimation([Ht])}}Ue.forEach(tt=>{const wt=(0,h.c)();wt.addElement(tt);const Gt=(0,h.c)();Gt.addElement(tt.querySelector("ion-title"));const Ht=(0,h.c)(),yn=tt.querySelectorAll("ion-buttons,[menuToggle]"),lt=tt.closest("ion-header"),In=lt?.classList.contains("header-collapse-condense-inactive"),yt=Array.from(yn).filter(vn=>{const ar=vn.classList.contains("buttons-collapse");return ar&&!In||!ar});Ht.addElement(yt);const Tn=(0,h.c)(),an=tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");an.length>0&&Tn.addElement(an);const Pt=(0,h.c)();Pt.addElement(He(tt).querySelector(".toolbar-background"));const rt=(0,h.c)(),Bt=tt.querySelector("ion-back-button");if(Bt&&rt.addElement(Bt),wt.addAnimation([Gt,Ht,Tn,rt,Pt]),kt.addAnimation(wt),rt.fromTo(Rt,.99,0),Ht.fromTo(Rt,.99,0),Tn.fromTo(Rt,.99,0),ln){if(In||Gt.fromTo("transform","translateX(0%)",Ve?"translateX(-100%)":"translateX(100%)").fromTo(Rt,.99,0),Tn.fromTo("transform","translateX(0%)",Ve?"translateX(-100%)":"translateX(100%)"),Pt.beforeClearStyles([Rt,"transform"]),lt?.translucent?Pt.fromTo("transform","translateX(0px)",Ve?"translateX(-100%)":"translateX(100%)"):Pt.fromTo(Rt,"var(--opacity)",0),Bt&&!dn){const ar=(0,h.c)();ar.addElement(He(Bt).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(Ve?-124:124)+"px"})`),wt.addAnimation(ar)}}else In||Gt.fromTo("transform","translateX(0%)",`translateX(${_t})`).fromTo(Rt,.99,0).afterClearStyles([Fe,Rt]),Tn.fromTo("transform","translateX(0%)",`translateX(${_t})`).afterClearStyles([Fe,Rt]),rt.afterClearStyles([Rt]),Gt.afterClearStyles([Rt]),Ht.afterClearStyles([Rt])})}return kt}catch(vt){throw vt}},We=10},1594:(Ln,Tt,L)=>{"use strict";L.d(Tt,{$:()=>Ce});var h=L(9350),u=L(5964),k=L(6697),$=L(9901),Te=L(3774),fe=L(3669);function Ce(He,Se){const le=arguments.length>=2;return pe=>pe.pipe(He?(0,u.p)((Pe,Me)=>He(Pe,Me,pe)):fe.D,(0,k.s)(1),le?(0,$.U)(Se):(0,Te.v)(()=>new h.G))}},1635:(Ln,Tt,L)=>{"use strict";function $(re,_e){var Ue={};for(var we in re)Object.prototype.hasOwnProperty.call(re,we)&&_e.indexOf(we)<0&&(Ue[we]=re[we]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(we=Object.getOwnPropertySymbols(re);tt<we.length;tt++)_e.indexOf(we[tt])<0&&Object.prototype.propertyIsEnumerable.call(re,we[tt])&&(Ue[we[tt]]=re[we[tt]])}return Ue}function Te(re,_e,Ue,we){var Gt,tt=arguments.length,wt=tt<3?_e:null===we?we=Object.getOwnPropertyDescriptor(_e,Ue):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)wt=Reflect.decorate(re,_e,Ue,we);else for(var Ht=re.length-1;Ht>=0;Ht--)(Gt=re[Ht])&&(wt=(tt<3?Gt(wt):tt>3?Gt(_e,Ue,wt):Gt(_e,Ue))||wt);return tt>3&&wt&&Object.defineProperty(_e,Ue,wt),wt}function Pe(re,_e,Ue,we){return new(Ue||(Ue=Promise))(function(wt,Gt){function Ht(In){try{lt(we.next(In))}catch(yt){Gt(yt)}}function yn(In){try{lt(we.throw(In))}catch(yt){Gt(yt)}}function lt(In){In.done?wt(In.value):function tt(wt){return wt instanceof Ue?wt:new Ue(function(Gt){Gt(wt)})}(In.value).then(Ht,yn)}lt((we=we.apply(re,_e||[])).next())})}function Fe(re){return this instanceof Fe?(this.v=re,this):new Fe(re)}function dt(re,_e,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,we=Ue.apply(re,_e||[]),wt=[];return tt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ht("next"),Ht("throw"),Ht("return",function Gt(an){return function(Pt){return Promise.resolve(Pt).then(an,yt)}}),tt[Symbol.asyncIterator]=function(){return this},tt;function Ht(an,Pt){we[an]&&(tt[an]=function(rt){return new Promise(function(Bt,vn){wt.push([an,rt,Bt,vn])>1||yn(an,rt)})},Pt&&(tt[an]=Pt(tt[an])))}function yn(an,Pt){try{!function lt(an){an.value instanceof Fe?Promise.resolve(an.value.v).then(In,yt):Tn(wt[0][2],an)}(we[an](Pt))}catch(rt){Tn(wt[0][3],rt)}}function In(an){yn("next",an)}function yt(an){yn("throw",an)}function Tn(an,Pt){an(Pt),wt.shift(),wt.length&&yn(wt[0][0],wt[0][1])}}function Ve(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,_e=re[Symbol.asyncIterator];return _e?_e.call(re):(re=function st(re){var _e="function"==typeof Symbol&&Symbol.iterator,Ue=_e&&re[_e],we=0;if(Ue)return Ue.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&we>=re.length&&(re=void 0),{value:re&&re[we++],done:!re}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),Ue={},we("next"),we("throw"),we("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function we(wt){Ue[wt]=re[wt]&&function(Gt){return new Promise(function(Ht,yn){!function tt(wt,Gt,Ht,yn){Promise.resolve(yn).then(function(lt){wt({value:lt,done:Ht})},Gt)}(Ht,yn,(Gt=re[wt](Gt)).done,Gt.value)})}}}L.d(Tt,{AQ:()=>dt,Cg:()=>Te,N3:()=>Fe,Tt:()=>$,sH:()=>Pe,xN:()=>Ve}),"function"==typeof SuppressedError&&SuppressedError},1853:(Ln,Tt,L)=>{"use strict";function h(u){const $=u(Te=>{Error.call(Te),Te.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}L.d(Tt,{L:()=>h})},1985:(Ln,Tt,L)=>{"use strict";L.d(Tt,{c:()=>He});var h=L(7707),u=L(8359),k=L(3494),$=L(1203),Te=L(1026),fe=L(8071),Ce=L(9786);let He=(()=>{class Pe{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const We=new Pe;return We.source=this,We.operator=Le,We}subscribe(Le,We,st){const it=function pe(Pe){return Pe&&Pe instanceof h.vU||function le(Pe){return Pe&&(0,fe.T)(Pe.next)&&(0,fe.T)(Pe.error)&&(0,fe.T)(Pe.complete)}(Pe)&&(0,u.Uv)(Pe)}(Le)?Le:new h.Ms(Le,We,st);return(0,Ce.Y)(()=>{const{operator:et,source:vt}=this;it.add(et?et.call(it,vt):vt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Le){try{return this._subscribe(Le)}catch(We){Le.error(We)}}forEach(Le,We){return new(We=Se(We))((st,it)=>{const et=new h.Ms({next:vt=>{try{Le(vt)}catch(Rt){it(Rt),et.unsubscribe()}},error:it,complete:st});this.subscribe(et)})}_subscribe(Le){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Le)}[k.s](){return this}pipe(...Le){return(0,$.m)(Le)(this)}toPromise(Le){return new(Le=Se(Le))((We,st)=>{let it;this.subscribe(et=>it=et,et=>st(et),()=>We(it))})}}return Pe.create=Me=>new Pe(Me),Pe})();function Se(Pe){var Me;return null!==(Me=Pe??Te.$.Promise)&&void 0!==Me?Me:Promise}},2200:(Ln,Tt,L)=>{"use strict";L.d(Tt,{MD:()=>Sn,T3:()=>Ae,bT:()=>Di,fw:()=>fe});var h=L(2615),u=L(3664),Te=(L(7705),L(9295),L(7303));let fe=(()=>{class F extends Te.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(Z,ue){super(),this._platformLocation=Z,null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){const ue=this._platformLocation.hash??"#";return ue.length>0?ue.substring(1):ue}prepareExternalUrl(Z){const ue=(0,Te.om)(this._baseHref,Z);return ue.length>0?"#"+ue:ue}pushState(Z,ue,ot,un){const Dn=this.prepareExternalUrl(ot+(0,Te.Q)(un))||this._platformLocation.pathname;this._platformLocation.pushState(Z,ue,Dn)}replaceState(Z,ue,ot,un){const Dn=this.prepareExternalUrl(ot+(0,Te.Q)(un))||this._platformLocation.pathname;this._platformLocation.replaceState(Z,ue,Dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){this._platformLocation.historyGo?.(Z)}static \u0275fac=function(ue){return new(ue||F)(h.KVO(Te.Vw),h.KVO(Te.kB,8))};static \u0275prov=h.jDH({token:F,factory:F.\u0275fac})}return F})(),Di=(()=>{class F{_viewContainer;_context=new pi;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(Z,ue){this._viewContainer=Z,this._thenTemplateRef=ue}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){Gr(Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){Gr(Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(Z,ue){return!0}static \u0275fac=function(ue){return new(ue||F)(u.rXU(u.c1b),u.rXU(u.C4Q))};static \u0275dir=u.FsC({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return F})();class pi{$implicit=null;ngIf=null}function Gr(F,Ee){if(F&&!F.createEmbeddedView)throw new h.buA(2020,!1)}let Ae=(()=>{class F{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(Z){this._viewContainerRef=Z}ngOnChanges(Z){if(this._shouldRecreateView(Z)){const ue=this._viewContainerRef;if(this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ot=this._createContextForwardProxy();this._viewRef=ue.createEmbeddedView(this.ngTemplateOutlet,ot,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Z){return!!Z.ngTemplateOutlet||!!Z.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Z,ue,ot)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ue,ot),get:(Z,ue,ot)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ue,ot)}})}static \u0275fac=function(ue){return new(ue||F)(u.rXU(u.c1b))};static \u0275dir=u.FsC({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[u.OA$]})}return F})(),Sn=(()=>{class F{static \u0275fac=function(ue){return new(ue||F)};static \u0275mod=u.$C({type:F});static \u0275inj=h.G2t({})}return F})()},2541:(Ln,Tt,L)=>{"use strict";L.d(Tt,{c:()=>Ce});var h=L(5705),u=L(9596);let k;const Te=(He,Se,le)=>{const pe=Se.startsWith("animation")?(He=>(void 0===k&&(k=void 0===He.style.animationName&&void 0!==He.style.webkitAnimationName?"-webkit-":""),k))(He):"";He.style.setProperty(pe+Se,le)},fe=(He=[],Se)=>{if(void 0!==Se){const le=Array.isArray(Se)?Se:[Se];return[...He,...le]}return He},Ce=He=>{let Se,le,pe,Pe,Me,Le,vt,ct,Oe,ln,kt,We=[],st=[],it=[],et=!1,Rt={},Fe=[],dt=[],ke={},Ve=0,Ze=!1,_t=!1,ut=!0,Mn=!1,zt=!0,ht=!1;const jt=He,tn=[],dn=[],re=[],_e=[],Ue=[],we=[],tt=[],wt=[],Gt=[],Ht=[],yn=[],lt="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,In="function"==typeof Element&&"function"==typeof Element.prototype.animate&&lt,yt=()=>yn,Bt=(Ae,at)=>{const Qt=at.findIndex(Un=>Un.c===Ae);Qt>-1&&at.splice(Qt,1)},ar=(Ae,at)=>((at?.oneTimeCallback?dn:tn).push({c:Ae,o:at}),kt),Sr=()=>{In&&(yn.forEach(Ae=>{Ae.cancel()}),yn.length=0)},fr=()=>{we.forEach(Ae=>{Ae?.parentNode&&Ae.parentNode.removeChild(Ae)}),we.length=0},Ur=()=>void 0!==Me?Me:vt?vt.getFill():"both",Hr=()=>void 0!==ct?ct:void 0!==Le?Le:vt?vt.getDirection():"normal",Ii=()=>Ze?"linear":void 0!==pe?pe:vt?vt.getEasing():"linear",Fn=()=>_t?0:void 0!==Oe?Oe:void 0!==le?le:vt?vt.getDuration():0,ni=()=>void 0!==Pe?Pe:vt?vt.getIterations():1,jr=()=>void 0!==ln?ln:void 0!==Se?Se:vt?vt.getDelay():0,Fr=()=>{0!==Ve&&(Ve--,0===Ve&&((()=>{Gt.forEach(tr=>tr()),Ht.forEach(tr=>tr());const Ae=ut?1:0,at=Fe,Qt=dt,Un=ke;_e.forEach(tr=>{const pr=tr.classList;at.forEach(zr=>pr.add(zr)),Qt.forEach(zr=>pr.remove(zr));for(const zr in Un)Un.hasOwnProperty(zr)&&Te(tr,zr,Un[zr])}),Oe=void 0,ct=void 0,ln=void 0,tn.forEach(tr=>tr.c(Ae,kt)),dn.forEach(tr=>tr.c(Ae,kt)),dn.length=0,zt=!0,ut&&(Mn=!0),ut=!0})(),vt&&vt.animationFinish()))},Rr=()=>{(()=>{tt.forEach(Un=>Un()),wt.forEach(Un=>Un());const Ae=st,at=it,Qt=Rt;_e.forEach(Un=>{const tr=Un.classList;Ae.forEach(pr=>tr.add(pr)),at.forEach(pr=>tr.remove(pr));for(const pr in Qt)Qt.hasOwnProperty(pr)&&Te(Un,pr,Qt[pr])})})(),We.length>0&&In&&(_e.forEach(Ae=>{const at=Ae.animate(We,{id:jt,delay:jr(),duration:Fn(),easing:Ii(),iterations:ni(),fill:Ur(),direction:Hr()});at.pause(),yn.push(at)}),yn.length>0&&(yn[0].onfinish=()=>{Fr()})),et=!0},Pr=Ae=>{Ae=Math.min(Math.max(Ae,0),.9999),In&&yn.forEach(at=>{at.currentTime=at.effect.getComputedTiming().delay+Fn()*Ae,at.pause()})},Hn=Ae=>{yn.forEach(at=>{at.effect.updateTiming({delay:jr(),duration:Fn(),easing:Ii(),iterations:ni(),fill:Ur(),direction:Hr()})}),void 0!==Ae&&Pr(Ae)},yr=(Ae=!1,at=!0,Qt)=>(Ae&&Ue.forEach(Un=>{Un.update(Ae,at,Qt)}),In&&Hn(Qt),kt),pi=()=>{et&&(In?yn.forEach(Ae=>{Ae.pause()}):_e.forEach(Ae=>{Te(Ae,"animation-play-state","paused")}),ht=!0)},xt=Ae=>new Promise(at=>{Ae?.sync&&(_t=!0,ar(()=>_t=!1,{oneTimeCallback:!0})),et||Rr(),Mn&&(In&&(Pr(0),Hn()),Mn=!1),zt&&(Ve=Ue.length+1,zt=!1);const Qt=()=>{Bt(Un,dn),at()},Un=()=>{Bt(Qt,re),at()};ar(Un,{oneTimeCallback:!0}),(Ae=>{re.push({c:Ae,o:{oneTimeCallback:!0}})})(Qt),Ue.forEach(tr=>{tr.play()}),In?(yn.forEach(Ae=>{Ae.play()}),(0===We.length||0===_e.length)&&Fr()):Fr(),ht=!1}),nn=(Ae,at)=>{const Qt=We[0];return void 0===Qt||void 0!==Qt.offset&&0!==Qt.offset?We=[{offset:0,[Ae]:at},...We]:Qt[Ae]=at,kt};return kt={parentAnimation:vt,elements:_e,childAnimations:Ue,id:jt,animationFinish:Fr,from:nn,to:(Ae,at)=>{const Qt=We[We.length-1];return void 0===Qt||void 0!==Qt.offset&&1!==Qt.offset?We=[...We,{offset:1,[Ae]:at}]:Qt[Ae]=at,kt},fromTo:(Ae,at,Qt)=>nn(Ae,at).to(Ae,Qt),parent:Ae=>(vt=Ae,kt),play:xt,pause:()=>(Ue.forEach(Ae=>{Ae.pause()}),pi(),kt),stop:()=>{Ue.forEach(Ae=>{Ae.stop()}),et&&(Sr(),et=!1),Ze=!1,_t=!1,zt=!0,ct=void 0,Oe=void 0,ln=void 0,Ve=0,Mn=!1,ut=!0,ht=!1,re.forEach(Ae=>Ae.c(0,kt)),re.length=0},destroy:Ae=>(Ue.forEach(at=>{at.destroy(Ae)}),(Ae=>{Sr(),Ae&&fr()})(Ae),_e.length=0,Ue.length=0,We.length=0,tn.length=0,dn.length=0,et=!1,zt=!0,kt),keyframes:Ae=>{const at=We!==Ae;return We=Ae,at&&(Ae=>{In&&yt().forEach(at=>{const Qt=at.effect;if(Qt.setKeyframes)Qt.setKeyframes(Ae);else{const Un=new KeyframeEffect(Qt.target,Ae,Qt.getTiming());at.effect=Un}})})(We),kt},addAnimation:Ae=>{if(null!=Ae)if(Array.isArray(Ae))for(const at of Ae)at.parent(kt),Ue.push(at);else Ae.parent(kt),Ue.push(Ae);return kt},addElement:Ae=>{if(null!=Ae)if(1===Ae.nodeType)_e.push(Ae);else if(Ae.length>=0)for(let at=0;at<Ae.length;at++)_e.push(Ae[at]);else(0,h.j)("createAnimation - Invalid addElement value.");return kt},update:yr,fill:Ae=>(Me=Ae,yr(!0),kt),direction:Ae=>(Le=Ae,yr(!0),kt),iterations:Ae=>(Pe=Ae,yr(!0),kt),duration:Ae=>(!In&&0===Ae&&(Ae=1),le=Ae,yr(!0),kt),easing:Ae=>(pe=Ae,yr(!0),kt),delay:Ae=>(Se=Ae,yr(!0),kt),getWebAnimations:yt,getKeyframes:()=>We,getFill:Ur,getDirection:Hr,getDelay:jr,getIterations:ni,getEasing:Ii,getDuration:Fn,afterAddRead:Ae=>(Gt.push(Ae),kt),afterAddWrite:Ae=>(Ht.push(Ae),kt),afterClearStyles:(Ae=[])=>{for(const at of Ae)ke[at]="";return kt},afterStyles:(Ae={})=>(ke=Ae,kt),afterRemoveClass:Ae=>(dt=fe(dt,Ae),kt),afterAddClass:Ae=>(Fe=fe(Fe,Ae),kt),beforeAddRead:Ae=>(tt.push(Ae),kt),beforeAddWrite:Ae=>(wt.push(Ae),kt),beforeClearStyles:(Ae=[])=>{for(const at of Ae)Rt[at]="";return kt},beforeStyles:(Ae={})=>(Rt=Ae,kt),beforeRemoveClass:Ae=>(it=fe(it,Ae),kt),beforeAddClass:Ae=>(st=fe(st,Ae),kt),onFinish:ar,isRunning:()=>0!==Ve&&!ht,progressStart:(Ae=!1,at)=>(Ue.forEach(Qt=>{Qt.progressStart(Ae,at)}),pi(),Ze=Ae,et||Rr(),yr(!1,!0,at),kt),progressStep:Ae=>(Ue.forEach(at=>{at.progressStep(Ae)}),Pr(Ae),kt),progressEnd:(Ae,at,Qt)=>(Ze=!1,Ue.forEach(Un=>{Un.progressEnd(Ae,at,Qt)}),void 0!==Qt&&(Oe=Qt),Mn=!1,ut=!0,0===Ae?(ct="reverse"===Hr()?"normal":"reverse","reverse"===ct&&(ut=!1),In?(yr(),Pr(1-at)):(ln=(1-at)*Fn()*-1,yr(!1,!1))):1===Ae&&(In?(yr(),Pr(at)):(ln=at*Fn()*-1,yr(!1,!1))),void 0!==Ae&&!vt&&xt(),kt)}}},2615:(Ln,Tt,L)=>{"use strict";let h;function u(){return h}function k(S){const Y=h;return h=S,Y}L.d(Tt,{JEi:()=>Je,Isx:()=>Ge,EJG:()=>mi,Yrj:()=>Qi,VVG:()=>or,Y20:()=>An,SKP:()=>ur,hk6:()=>Ba,eVN:()=>ta,b5C:()=>Vi,rQE:()=>Ho,X5O:()=>Ni,qFA:()=>rn,qQL:()=>ql,abz:()=>na,tQN:()=>te,pcR:()=>U,oMQ:()=>lo,Mlv:()=>Mi,MZA:()=>qi,M0L:()=>rr,Z63:()=>ji,VML:()=>wd,uvJ:()=>N,zcH:()=>Ta,Wg1:()=>Re,Yw1:()=>Zt,jgP:()=>z,tcA:()=>Nn,ID:()=>Is,YEL:()=>Tr,B9r:()=>ve,GBX:()=>So,ZTf:()=>Ss,nKC:()=>Gn,zZn:()=>Ia,rJ1:()=>jl,nfM:()=>Pn,s6P:()=>Lt,K29:()=>Jt,CQl:()=>ni,p9y:()=>ii,zSs:()=>si,ONQ:()=>fr,hmW:()=>Pi,yAH:()=>Sr,KXn:()=>Uh,oTH:()=>xe,Czx:()=>R,f7T:()=>Et,wVl:()=>Yi,GYQ:()=>Ad,u5s:()=>gu,rev:()=>jh,Ds7:()=>Fo,e5P:()=>he,Iaj:()=>de,GpT:()=>Fi,buA:()=>We,AQb:()=>bd,jNX:()=>Td,eDl:()=>ee,qlT:()=>_n,xvI:()=>Pe,bm_:()=>en,RxE:()=>pe,r4V:()=>ra,ok8:()=>Le,Evm:()=>$h,Jy$:()=>gp,laP:()=>et,EYC:()=>gi,ng7:()=>xo,llW:()=>ko,gsJ:()=>yo,GZS:()=>Go,iYM:()=>wt,PEr:()=>mc,z7f:()=>Ht,LZP:()=>yn,Xln:()=>ht,yzR:()=>xa,TWe:()=>gc,LIA:()=>kt,GWr:()=>Ue,pbo:()=>we,bBq:()=>vo,Af3:()=>oe,zQk:()=>$l,oZy:()=>ea,tF7:()=>lt,ZFY:()=>li,cP4:()=>ds,MdC:()=>lu,XvL:()=>re,KET:()=>es,Tkx:()=>_c,iw4:()=>jt,tdH:()=>pu,pr_:()=>yt,IAh:()=>dn,U45:()=>ut,WrV:()=>Mn,kNT:()=>In,MI:()=>Id,biv:()=>Vs,ZQF:()=>tn,Cv0:()=>zt,W0r:()=>di,R2n:()=>qn,O8q:()=>je,VKj:()=>ie,Rom:()=>jn,z6V:()=>pr,n$e:()=>Ve,hjC:()=>Qt,Pz9:()=>Ea,PQT:()=>Vn,VX4:()=>Kn,_Z$:()=>Be,N79:()=>Dd,xLP:()=>Zr,zuh:()=>Hr,BI7:()=>Ur,U7d:()=>ai,uXy:()=>Jr,nZS:()=>Er,ihb:()=>Si,ID8:()=>Wn,gv8:()=>Ac,dwj:()=>dt,Bqz:()=>po,OsK:()=>it,Rfq:()=>ct,c$7:()=>hu,gxQ:()=>Ic,ckz:()=>cl,kLh:()=>Fe,xUg:()=>ft,KdJ:()=>Ws,db4:()=>Va,VPL:()=>Vo,MT:()=>mr,Z9v:()=>Cc,Ab:()=>va,w7Z:()=>yi,Mx4:()=>zn,veI:()=>ir,HaV:()=>Sn,Agf:()=>hn,znI:()=>uu,wGu:()=>Ki,ebl:()=>br,OAn:()=>bn,_0$:()=>Ua,UaU:()=>Xo,vaC:()=>Fa,d31:()=>Wl,ZRn:()=>yc,phH:()=>ne,WbQ:()=>ge,WB9:()=>X,d_l:()=>sl,vNG:()=>Mo,oyA:()=>F,_px:()=>Ne,CpD:()=>fn,XRZ:()=>rl,klJ:()=>Io,Fje:()=>ll,b$O:()=>Gl,SMZ:()=>Rt,WQX:()=>at,MzJ:()=>Ci,jXY:()=>un,MME:()=>wo,JlV:()=>zo,Qs1:()=>$r,srX:()=>ei,vOT:()=>il,YWB:()=>Yt,EPY:()=>P,yoD:()=>Ji,P3H:()=>hl,Jzi:()=>ln,rFz:()=>du,JjR:()=>Dc,M6u:()=>$s,KtD:()=>ul,muV:()=>Bt,A0l:()=>Xn,q$2:()=>sr,yP_:()=>Fh,EFk:()=>wi,Hps:()=>_l,UhH:()=>Eo,QuC:()=>Ee,Y3W:()=>Xr,n$r:()=>fu,K7h:()=>bo,FRF:()=>Oi,ezK:()=>oo,m7n:()=>Gs,niQ:()=>O,krE:()=>Lh,bll:()=>G,Hh6:()=>bs,EmA:()=>Z,blu:()=>vc,HAh:()=>Hl,WfI:()=>Ao,xbp:()=>Vh,jvu:()=>ae,lQ1:()=>bc,Rc9:()=>Hi,E6O:()=>io,DyX:()=>Ks,eFE:()=>Ti,dMS:()=>ts,HUe:()=>_a,nl4:()=>Oe,N4e:()=>nl,XaM:()=>Ii,Kw3:()=>Tc,vQI:()=>gl,RZ9:()=>_i,GA0:()=>Qr,iMd:()=>$n,Pfq:()=>Cn,xyx:()=>Cr,a2B:()=>Gr,kcM:()=>gr,DFp:()=>Xt,P2g:()=>fl,cBl:()=>pl,ypq:()=>Dt,vPA:()=>fp,HO5:()=>ls,M_e:()=>Kl,B22:()=>ya,ik5:()=>ol,AsM:()=>ke,PP7:()=>Wr,$8:()=>Gt,$Hz:()=>Rr,zAe:()=>cu,IvY:()=>La,_gW:()=>be,F1c:()=>Us,ITl:()=>ma,brz:()=>mn,jRZ:()=>as,SX7:()=>Nt,jDH:()=>Tn,G2t:()=>Pt,fuf:()=>zl,cSN:()=>Hs,KVO:()=>Qe,dmw:()=>Ae,joV:()=>Ui,By9:()=>ci,qSk:()=>Qn,Njj:()=>zs,eBV:()=>hs});const Te=Symbol("NotFound");function Ce(S){return S===Te||"\u0275NotFound"===S?.name}Error;var He=L(8440),Se=L(4412),le=L(1985);class pe{full;major;minor;patch;constructor(Y){this.full=Y;const De=Y.split(".");this.major=De[0],this.minor=De[1],this.patch=De.slice(2).join(".")}}const Pe=new pe("20.3.7"),Le="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class We extends Error{code;constructor(Y,De){super(it(Y,De)),this.code=Y}}function it(S,Y){return`${function st(S){return`NG0${Math.abs(S)}`}(S)}${Y?": "+Y:""}`}const et=globalThis;function Rt(){return!1}function Fe(S){for(let Y in S)if(S[Y]===Fe)return Y;throw Error("")}function dt(S,Y){for(const De in Y)Y.hasOwnProperty(De)&&!S.hasOwnProperty(De)&&(S[De]=Y[De])}function ke(S){if("string"==typeof S)return S;if(Array.isArray(S))return`[${S.map(ke).join(", ")}]`;if(null==S)return""+S;const Y=S.overriddenName||S.name;if(Y)return`${Y}`;const De=S.toString();if(null==De)return""+De;const $t=De.indexOf("\n");return $t>=0?De.slice(0,$t):De}function Ve(S,Y){return S?Y?`${S} ${Y}`:S:Y||""}const _t=Fe({__forward_ref__:Fe});function ct(S){return S.__forward_ref__=ct,S.toString=function(){return ke(this())},S}function Oe(S){return ln(S)?S():S}function ln(S){return"function"==typeof S&&S.hasOwnProperty(_t)&&S.__forward_ref__===ct}function ut(S,Y){"number"!=typeof S&&Gt(Y,typeof S,"number","===")}function Mn(S,Y,De){ut(S,"Expected a number"),function _e(S,Y,De){S<=Y||Gt(De,S,Y,"<=")}(S,De,"Expected number to be less than or equal to"),we(S,Y,"Expected number to be greater than or equal to")}function zt(S,Y){"string"!=typeof S&&Gt(Y,null===S?"null":typeof S,"string","===")}function kt(S,Y){"function"!=typeof S&&Gt(Y,null===S?"null":typeof S,"function","===")}function ht(S,Y,De){S!=Y&&Gt(De,S,Y,"==")}function jt(S,Y,De){S==Y&&Gt(De,S,Y,"!=")}function tn(S,Y,De){S!==Y&&Gt(De,S,Y,"===")}function dn(S,Y,De){S===Y&&Gt(De,S,Y,"!==")}function re(S,Y,De){S<Y||Gt(De,S,Y,"<")}function Ue(S,Y,De){S>Y||Gt(De,S,Y,">")}function we(S,Y,De){S>=Y||Gt(De,S,Y,">=")}function wt(S,Y){null==S&&Gt(Y,S,null,"!=")}function Gt(S,Y,De,$t){throw new Error(`ASSERTION ERROR: ${S}`+(null==$t?"":` [Expected=> ${De} ${$t} ${Y} <=Actual]`))}function Ht(S){S instanceof Node||Gt(`The provided value must be an instance of a DOM Node but got ${ke(S)}`)}function yn(S){S instanceof Element||Gt(`The provided value must be an element but got ${ke(S)}`)}function lt(S,Y){wt(S,"Array must be defined.");const De=S.length;(Y<0||Y>=De)&&Gt(`Index expected to be less than ${De} but got ${Y}`)}function In(S,...Y){if(-1!==Y.indexOf(S))return!0;Gt(`Expected value to be one of ${JSON.stringify(Y)} but was ${JSON.stringify(S)}.`)}function yt(S){null!==(0,He.nR)()&&Gt(`${S}() should never be called in a reactive context.`)}function Tn(S){return{token:S.token,providedIn:S.providedIn||null,factory:S.factory,value:void 0}}function Pt(S){return{providers:S.providers||[],imports:S.imports||[]}}function rt(S){return function vn(S,Y){return S.hasOwnProperty(Y)&&S[Y]||null}(S,Sr)}function Bt(S){return null!==rt(S)}function br(S){return S&&S.hasOwnProperty(fr)?S[fr]:null}const Sr=Fe({\u0275prov:Fe}),fr=Fe({\u0275inj:Fe});class Gn{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(Y,De){this._desc=Y,this.\u0275prov=void 0,"number"==typeof De?this.__NG_ELEMENT_ID__=De:void 0!==De&&(this.\u0275prov=Tn({token:this,providedIn:De.providedIn||"root",factory:De.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let cn;function cr(){return Gt("getInjectorProfilerContext should never be called in production mode"),cn}function Xt(S){Gt("setInjectorProfilerContext should never be called in production mode");const Y=cn;return cn=S,Y}const on=[],On=()=>{};function gr(S){return Gt("setInjectorProfiler should never be called in production mode"),null!==S?(on.includes(S)||on.push(S),()=>function gt(S){const Y=on.indexOf(S);-1!==Y&&on.splice(Y,1)}(S)):(on.length=0,On)}function Mr(S){Gt("Injector profiler should never be called in production mode");for(let Y=0;Y<on.length;Y++)(0,on[Y])(S)}function Er(S,Y=!1){let De;Gt("Injector profiler should never be called in production mode"),De="function"==typeof S||S instanceof Gn?S:Oe(S.provide);let $t=S;S instanceof Gn&&($t=S.\u0275prov||S),Mr({type:2,context:cr(),providerRecord:{token:De,provider:$t,isViewProvider:Y}})}function ai(S){Gt("Injector profiler should never be called in production mode"),Mr({type:4,context:cr(),token:S})}function Jr(S){Gt("Injector profiler should never be called in production mode"),Mr({type:1,context:cr(),instance:{value:S}})}function Ur(S,Y,De){Gt("Injector profiler should never be called in production mode"),Mr({type:0,context:cr(),service:{token:S,value:Y,flags:De}})}function Hr(S){Gt("Injector profiler should never be called in production mode"),Mr({type:3,context:cr(),effect:S})}function Ii(S,Y,De){Gt("runInInjectorProfilerContext should never be called in production mode");const $t=Xt({injector:S,token:Y});try{De()}finally{Xt($t)}}function Fn(S){return S&&!!S.\u0275providers}const ni=Fe({\u0275cmp:Fe}),jr=Fe({\u0275dir:Fe}),ri=Fe({\u0275pipe:Fe}),Pi=Fe({\u0275mod:Fe}),si=Fe({\u0275fac:Fe}),ii=Fe({__NG_ELEMENT_ID__:Fe}),$i=Fe({__NG_ENV_ID__:Fe});function Ti(S){return"string"==typeof S?S:null==S?"":String(S)}function Wr(S){return"function"==typeof S?S.name||S.toString():"object"==typeof S&&null!=S&&"function"==typeof S.type?S.type.name||S.type.toString():Ti(S)}function Be(S){let Y=S[ni]||null;return null!==Y&&Y.debugInfo?function $e(S){return S.filePath&&S.lineNumber?`${S.className} (at ${S.filePath}:${S.lineNumber})`:S.className}(Y.debugInfo):Wr(S)}const nt=Fe({ngErrorCode:Fe}),Kt=Fe({ngErrorMessage:Fe}),bt=Fe({ngTokenPath:Fe});function Vn(S,Y){return yr("",-200,Y)}function Kn(S,Y){return function Hn(S,Y){return S.message=function Dr(S,Y,De=[],$t=null){let En="";De&&De.length>1&&(En=` Path: ${De.join(" -> ")}.`);return it(Y,`${S}${$t?` Source: ${$t}.`:""}${En}`)}(S[Kt]||S.message,S[nt],S[bt],Y),S}(Vn(0,Y),null)}function Rr(S,Y){throw new We(-201,!1)}function yr(S,Y,De){const $t=new We(Y,S);return $t[nt]=Y,$t[Kt]=S,De&&($t[bt]=De),$t}let Di;function pi(){return Di}function Gr(S){const Y=Di;return Di=S,Y}function Ci(S,Y,De){const $t=rt(S);return $t&&"root"==$t.providedIn?void 0===$t.value?$t.value=$t.factory():$t.value:8&De?null:void 0!==Y?Y:void Rr()}function li(S){}const xt={},It="__NG_DI_FLAG__";class nn{injector;constructor(Y){this.injector=Y}retrieve(Y,De){const $t=Qt(De)||0;try{return this.injector.get(Y,8&$t?null:xt,$t)}catch(En){if(Ce(En))return En;throw En}}}function ye(S,Y=0){const De=u();if(void 0===De)throw new We(-203,!1);if(null===De)return Ci(S,void 0,Y);{const $t=function Un(S){return{optional:!!(8&S),host:!!(1&S),self:!!(2&S),skipSelf:!!(4&S)}}(Y),En=De.retrieve(S,$t);if(Ce(En)){if($t.optional)return null;throw En}return En}}function Qe(S,Y=0){return(pi()||ye)(Oe(S),Y)}function Ae(S){throw new We(202,!1)}function at(S,Y){return Qe(S,Qt(Y))}function Qt(S){return typeof S>"u"||"number"==typeof S?S:0|(S.optional&&8)|(S.host&&1)|(S.self&&2)|(S.skipSelf&&4)}function tr(S){const Y=[];for(let De=0;De<S.length;De++){const $t=Oe(S[De]);if(Array.isArray($t)){if(0===$t.length)throw new We(900,!1);let En,lr=0;for(let Zi=0;Zi<$t.length;Zi++){const cs=$t[Zi],Uo=zr(cs);"number"==typeof Uo?-1===Uo?En=cs.token:lr|=Uo:En=cs}Y.push(Qe(En,lr))}else Y.push(Qe($t))}return Y}function pr(S,Y){return S[It]=Y,S.prototype[It]=Y,S}function zr(S){return S[It]}function Ki(S,Y){return S.hasOwnProperty(si)?S[si]:null}function xo(S,Y,De){if(S.length!==Y.length)return!1;for(let $t=0;$t<S.length;$t++){let En=S[$t],lr=Y[$t];if(De&&(En=De(En),lr=De(lr)),lr!==En)return!1}return!0}function po(S){return S.flat(Number.POSITIVE_INFINITY)}function Zr(S,Y){S.forEach(De=>Array.isArray(De)?Zr(De,Y):Y(De))}function gi(S,Y,De){Y>=S.length?S.push(De):S.splice(Y,0,De)}function io(S,Y){return Y>=S.length-1?S.pop():S.splice(Y,1)[0]}function Ao(S,Y){const De=[];for(let $t=0;$t<S;$t++)De.push(Y);return De}function yo(S,Y,De){const $t=S.length-De;for(;Y<$t;)S[Y]=S[Y+De],Y++;for(;De--;)S.pop()}function ko(S,Y,De,$t){let En=S.length;if(En==Y)S.push(De,$t);else if(1===En)S.push($t,S[0]),S[0]=De;else{for(En--,S.push(S[En-1],S[En]);En>Y;)S[En]=S[En-2],En--;S[Y]=De,S[Y+1]=$t}}function oo(S,Y,De){let $t=Oi(S,Y);return $t>=0?S[1|$t]=De:($t=~$t,ko(S,$t,Y,De)),$t}function bo(S,Y){const De=Oi(S,Y);if(De>=0)return S[1|De]}function Oi(S,Y){return function Li(S,Y,De){let $t=0,En=S.length>>De;for(;En!==$t;){const lr=$t+(En-$t>>1),Zi=S[lr<<De];if(Y===Zi)return lr<<De;Zi>Y?En=lr:$t=lr+1}return~(En<<De)}(S,Y,1)}const qi={},Mi=[],ji=new Gn(""),so=new Gn("",-1),ve=new Gn("");class xe{get(Y,De=xt){if(De===xt){const En=yr("",-201);throw En.name="\u0275NotFound",En}return De}}function ne(S){return S[Pi]||null}function ge(S){const Y=ne(S);if(!Y)throw new We(915,!1);return Y}function ft(S){return S[ni]||null}function hn(S){const Y=Sn(S);if(!Y)throw new We(916,!1);return Y}function Sn(S){return S[jr]||null}function F(S){return S[ri]||null}function Ee(S){const Y=ft(S)||Sn(S)||F(S);return null!==Y&&Y.standalone}function Z(S){return{\u0275providers:S}}function ot(...S){return{\u0275providers:un(0,S),\u0275fromNgModule:!0}}function un(S,...Y){const De=[],$t=new Set;let En;const lr=Zi=>{De.push(Zi)};return Zr(Y,Zi=>{const cs=Zi;mn(cs,lr,[],$t)&&(En||=[],En.push(cs))}),void 0!==En&&Dn(En,lr),De}function Dn(S,Y){for(let De=0;De<S.length;De++){const{ngModule:$t,providers:En}=S[De];wr(En,lr=>{Y(lr,$t)})}}function mn(S,Y,De,$t){if(!(S=Oe(S)))return!1;let En=null,lr=br(S);const Zi=!lr&&ft(S);if(lr||Zi){if(Zi&&!Zi.standalone)return!1;En=S}else{const Uo=S.ngModule;if(lr=br(Uo),!lr)return!1;En=Uo}const cs=$t.has(En);if(Zi){if(cs)return!1;if($t.add(En),Zi.dependencies){const Uo="function"==typeof Zi.dependencies?Zi.dependencies():Zi.dependencies;for(const co of Uo)mn(co,Y,De,$t)}}else{if(!lr)return!1;{if(null!=lr.imports&&!cs){let co;$t.add(En);try{Zr(lr.imports,$a=>{mn($a,Y,De,$t)&&(co||=[],co.push($a))})}finally{}void 0!==co&&Dn(co,Y)}if(!cs){const co=Ki(En)||(()=>new En);Y({provide:En,useFactory:co,deps:Mi},En),Y({provide:ve,useValue:En,multi:!0},En),Y({provide:ji,useValue:()=>Qe(En),multi:!0},En)}const Uo=lr.providers;if(null!=Uo&&!cs){const co=S;wr(Uo,$a=>{Y($a,co)})}}}return En!==S&&void 0!==S.providers}function wr(S,Y){for(let De of S)Fn(De)&&(De=De.\u0275providers),Array.isArray(De)?wr(De,Y):Y(De)}const kr=Fe({provide:String,useValue:Fe});function nr(S){return null!==S&&"object"==typeof S&&kr in S}function Xr(S){return"function"==typeof S}function wo(S){return!!S.useClass}const So=new Gn(""),Ro={},H={};let Br;function X(){return void 0===Br&&(Br=new xe),Br}class N{}class he extends N{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(Y,De,$t,En){super(),this.parent=De,this.source=$t,this.scopes=En,Es(Y,Zi=>this.processProvider(Zi)),this.records.set(so,no(void 0,this)),En.has("environment")&&this.records.set(N,no(void 0,this));const lr=this.records.get(So);null!=lr&&"string"==typeof lr.value&&this.scopes.add(lr.value),this.injectorDefTypes=new Set(this.get(ve,Mi,{self:!0}))}retrieve(Y,De){const $t=Qt(De)||0;try{return this.get(Y,xt,$t)}catch(En){if(Ce(En))return En;throw En}}destroy(){Lo(this),this._destroyed=!0;const Y=(0,He.Ht)(null);try{for(const $t of this._ngOnDestroyHooks)$t.ngOnDestroy();const De=this._onDestroyHooks;this._onDestroyHooks=[];for(const $t of De)$t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,He.Ht)(Y)}}onDestroy(Y){return Lo(this),this._onDestroyHooks.push(Y),()=>this.removeOnDestroy(Y)}runInContext(Y){Lo(this);const De=k(this),$t=Gr(void 0);try{return Y()}finally{k(De),Gr($t)}}get(Y,De=xt,$t){if(Lo(this),Y.hasOwnProperty($i))return Y[$i](this);const En=Qt($t),Zi=k(this),cs=Gr(void 0);try{if(!(4&En)){let co=this.records.get(Y);if(void 0===co){const $a=function Na(S){return"function"==typeof S||"object"==typeof S&&"InjectionToken"===S.ngMetadataName}(Y)&&rt(Y);co=$a&&this.injectableDefInScope($a)?no(vr(Y),Ro):null,this.records.set(Y,co)}if(null!=co)return this.hydrate(Y,co,En)}return(2&En?X():this.parent).get(Y,De=8&En&&De===xt?null:De)}catch(Uo){const co=function ui(S){return S[nt]}(Uo);throw-200===co||-201===co?new We(co,null):Uo}finally{Gr(cs),k(Zi)}}resolveInjectorInitializers(){const Y=(0,He.Ht)(null),De=k(this),$t=Gr(void 0);try{const lr=this.get(ji,Mi,{self:!0});for(const Zi of lr)Zi()}finally{k(De),Gr($t),(0,He.Ht)(Y)}}toString(){const Y=[],De=this.records;for(const $t of De.keys())Y.push(ke($t));return`R3Injector[${Y.join(", ")}]`}processProvider(Y){let De=Xr(Y=Oe(Y))?Y:Oe(Y&&Y.provide);const $t=function bi(S){return nr(S)?no(void 0,S.useValue):no(Hi(S),Ro)}(Y);if(!Xr(Y)&&!0===Y.multi){let En=this.records.get(De);En||(En=no(void 0,Ro,!0),En.factory=()=>tr(En.multi),this.records.set(De,En)),De=Y,En.multi.push(Y)}this.records.set(De,$t)}hydrate(Y,De,$t){const En=(0,He.Ht)(null);try{if(De.value===H)throw Vn(ke(Y));return De.value===Ro&&(De.value=H,De.value=De.factory(void 0,$t)),"object"==typeof De.value&&De.value&&function ao(S){return null!==S&&"object"==typeof S&&"function"==typeof S.ngOnDestroy}(De.value)&&this._ngOnDestroyHooks.add(De.value),De.value}finally{(0,He.Ht)(En)}}injectableDefInScope(Y){if(!Y.providedIn)return!1;const De=Oe(Y.providedIn);return"string"==typeof De?"any"===De||this.scopes.has(De):this.injectorDefTypes.has(De)}removeOnDestroy(Y){const De=this._onDestroyHooks.indexOf(Y);-1!==De&&this._onDestroyHooks.splice(De,1)}}function vr(S){const Y=rt(S),De=null!==Y?Y.factory:Ki(S);if(null!==De)return De;if(S instanceof Gn)throw new We(204,!1);if(S instanceof Function)return function qr(S){if(S.length>0)throw new We(204,!1);const De=function ar(S){return(S?.[Sr]??null)||null}(S);return null!==De?()=>De.factory(S):()=>new S}(S);throw new We(204,!1)}function Hi(S,Y,De){let $t;if(Xr(S)){const En=Oe(S);return Ki(En)||vr(En)}if(nr(S))$t=()=>Oe(S.useValue);else if(function Ir(S){return!(!S||!S.useFactory)}(S))$t=()=>S.useFactory(...tr(S.deps||[]));else if(function Kr(S){return!(!S||!S.useExisting)}(S))$t=(En,lr)=>Qe(Oe(S.useExisting),void 0!==lr&&8&lr?8:void 0);else{const En=Oe(S&&(S.useClass||S.provide));if(!function ss(S){return!!S.deps}(S))return Ki(En)||vr(En);$t=()=>new En(...tr(S.deps))}return $t}function Lo(S){if(S.destroyed)throw new We(205,!1)}function no(S,Y,De=!1){return{factory:S,value:Y,multi:De?[]:void 0}}function Es(S,Y){for(const De of S)Array.isArray(De)?Es(De,Y):De&&Fn(De)?Es(De.\u0275providers,Y):Y(De)}function nl(S,Y){let De;S instanceof he?(Lo(S),De=S):De=new nn(S);const En=k(De),lr=Gr(void 0);try{return Y()}finally{k(En),Gr(lr)}}function $s(){return void 0!==pi()||null!=u()}function oe(S){if(!$s())throw new We(-203,!1)}const z=0,ee=1,Re=2,Et=3,Jt=4,_n=5,Nn=6,or=7,ur=8,Tr=9,rr=10,Fi=11,mi=12,Qi=13,Ni=14,Vi=15,Ho=16,Yi=17,Fo=18,Is=19,lo=20,R=21,U=22,te=23,de=24,Je=25,Ge=26,Zt=27,Ot=1,rn=6,Lt=7,en=8,Pn=9,An=10;function sr(S){return Array.isArray(S)&&"object"==typeof S[Ot]}function Xn(S){return Array.isArray(S)&&!0===S[Ot]}function ei(S){return!!(4&S.flags)}function $r(S){return S.componentOffset>-1}function Ji(S){return!(1&~S.flags)}function zo(S){return!!S.template}function wi(S){return!!(512&S[Re])}function P(S){return!(256&~S[Re])}function ie(S,Y){jn(S,Y[ee])}function je(S,Y){const De=Y+Zt;lt(S,De),re(De,S[ee].bindingStartIndex,"TNodes should be created before any bindings")}function jn(S,Y){qn(S);const De=Y.data;for(let $t=Zt;$t<De.length;$t++)if(De[$t]===S)return;Gt("This TNode does not belong to this TView.")}function qn(S){wt(S,"TNode must be defined"),S&&"object"==typeof S&&S.hasOwnProperty("directiveStylingLast")||Gt("Not of type TNode, got: "+S)}function di(S){wt(S,"Expected TIcu to be defined"),"number"!=typeof S.currentCaseLViewIndex&&Gt("Object is not of TIcu type.")}function Go(S,Y="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){ft(S)||Gt(Y)}function es(S,Y="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){ne(S)||Gt(Y)}function vo(S){wt(S,"currentTNode should exist!"),wt(S.parent,"currentTNode should have a parent")}function ds(S){wt(S,"LContainer must be defined"),ht(Xn(S),!0,"Expecting LContainer")}function lu(S){wt(S,"LView must be defined"),ht(sr(S),!0,"Expecting LView")}function xa(S,Y){ht(S.firstCreatePass,!0,Y||"Should only be called in first create pass.")}function gc(S,Y){ht(S.firstUpdatePass,!0,"Should only be called in first update pass.")}function mc(S){(void 0===S.type||null==S.selectors||void 0===S.inputs)&&Gt("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function $l(S,Y){ka(Zt,S.bindingStartIndex,Y)}function ea(S,Y){ka(S[1].expandoStartIndex,S.length,Y)}function ka(S,Y,De){S<=De&&De<Y||Gt(`Index out of range (expecting ${S} <= ${De} < ${Y})`)}function Vs(S,Y){wt(S[Vi],"Component views should exist."),wt(S[Vi][_n].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function Id(S,Y){wt(S,"Component views should always have a parent view (component's host view)")}function _c(S,Y){ea(S,Y),ea(S,Y+8),ut(S[Y+0],"injectorIndex should point to a bloom filter"),ut(S[Y+1],"injectorIndex should point to a bloom filter"),ut(S[Y+2],"injectorIndex should point to a bloom filter"),ut(S[Y+3],"injectorIndex should point to a bloom filter"),ut(S[Y+4],"injectorIndex should point to a bloom filter"),ut(S[Y+5],"injectorIndex should point to a bloom filter"),ut(S[Y+6],"injectorIndex should point to a bloom filter"),ut(S[Y+7],"injectorIndex should point to a bloom filter"),ut(S[Y+8],"injectorIndex should point to parent injector")}const Td="svg",jl="math";function La(S){for(;Array.isArray(S);)S=S[z];return S}function cu(S){for(;Array.isArray(S);){if("object"==typeof S[Ot])return S;S=S[z]}return null}function Fa(S,Y){return La(Y[S])}function Wl(S,Y){return La(Y[S.index])}function yc(S,Y){const De=null===S?-1:S.index;return-1!==De?La(Y[De]):null}function rl(S,Y){return S.data[Y]}function bs(S,Y){return S[Y]}function Kl(S,Y,De,$t){De>=S.data.length&&(S.data[De]=null,S.blueprint[De]=null),Y[De]=$t}function Ws(S,Y){const De=Y[S];return sr(De)?De:De[z]}function il(S){return!(4&~S[Re])}function Us(S){return!(128&~S[Re])}function ma(S){return Xn(S[Et])}function Va(S,Y){return null==Y?null:S[Y]}function _a(S){S[Yi]=0}function Hl(S){1024&S[Re]||(S[Re]|=1024,Us(S)&&vc(S))}function as(S,Y){for(;S>0;)Y=Y[Ni],S--;return Y}function ts(S){return!!(9216&S[Re]||S[de]?.dirty)}function be(S){S[rr].changeDetectionScheduler?.notify(8),64&S[Re]&&(S[Re]|=1024),ts(S)&&vc(S)}function vc(S){S[rr].changeDetectionScheduler?.notify(0);let Y=Ua(S);for(;null!==Y&&!(8192&Y[Re])&&(Y[Re]|=8192,Us(Y));)Y=Ua(Y)}function ol(S,Y){if(P(S))throw new We(911,!1);null===S[R]&&(S[R]=[]),S[R].push(Y)}function Ks(S,Y){if(null===S[R])return;const De=S[R].indexOf(Y);-1!==De&&S[R].splice(De,1)}function Ua(S){const Y=S[Et];return Xn(Y)?Y[Et]:Y}function sl(S){return S[or]??=[]}function Mo(S){return S.cleanup??=[]}function ya(S,Y,De,$t){const En=sl(Y);En.push(De),S.firstCreatePass&&Mo(S).push($t,En.length-1)}const Or={lFrame:M(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ta=function(S){return S[S.Off=0]="Off",S[S.Exhaustive=1]="Exhaustive",S[S.OnlyDirtyViews=2]="OnlyDirtyViews",S}(ta||{});let Ec=0,al=!1;function uu(){return Or.lFrame.elementDepthCount}function ll(){Or.lFrame.elementDepthCount++}function Dd(){Or.lFrame.elementDepthCount--}function cl(){return Or.bindingsEnabled}function ul(){return null!==Or.skipHydrationRootTNode}function Eo(S){return Or.skipHydrationRootTNode===S}function Hs(){Or.bindingsEnabled=!0}function zl(){Or.bindingsEnabled=!1}function Lh(){Or.skipHydrationRootTNode=null}function bn(){return Or.lFrame.lView}function Io(){return Or.lFrame.tView}function hs(S){return Or.lFrame.contextLView=S,S[ur]}function zs(S){return Or.lFrame.contextLView=null,S}function zn(){let S=ir();for(;null!==S&&64===S.type;)S=S.parent;return S}function ir(){return Or.lFrame.currentTNode}function va(){const S=Or.lFrame,Y=S.currentTNode;return S.isParent?Y:Y.parent}function $n(S,Y){const De=Or.lFrame;De.currentTNode=S,De.isParent=Y}function Yt(){return Or.lFrame.isParent}function Cn(){Or.lFrame.isParent=!1}function Vo(){return Or.lFrame.contextLView}function du(){return Gt("Must never be called in production mode"),Ec!==ta.Off}function hl(){return Gt("Must never be called in production mode"),Ec===ta.Exhaustive}function fl(S){Gt("Must never be called in production mode"),Ec=S}function Fh(){return al}function pl(S){const Y=al;return al=S,Y}function Ic(){const S=Or.lFrame;let Y=S.bindingRootIndex;return-1===Y&&(Y=S.bindingRootIndex=S.tView.bindingStartIndex),Y}function hu(){return Or.lFrame.bindingIndex}function Tc(S){return Or.lFrame.bindingIndex=S}function Vh(){return Or.lFrame.bindingIndex++}function Gl(S){const Y=Or.lFrame,De=Y.bindingIndex;return Y.bindingIndex=Y.bindingIndex+S,De}function Dc(){return Or.lFrame.inI18n}function Cr(S){Or.lFrame.inI18n=S}function gl(S,Y){const De=Or.lFrame;De.bindingIndex=De.bindingRootIndex=S,_i(Y)}function Cc(){return Or.lFrame.currentDirectiveIndex}function _i(S){Or.lFrame.currentDirectiveIndex=S}function mr(S){const Y=Or.lFrame.currentDirectiveIndex;return-1===Y?null:S[Y]}function yi(){return Or.lFrame.currentQueryIndex}function Qr(S){Or.lFrame.currentQueryIndex=S}function Xl(S){const Y=S[ee];return 2===Y.type?Y.declTNode:1===Y.type?S[_n]:null}function Si(S,Y,De){if(4&De){let En=Y,lr=S;for(;!(En=En.parent,null!==En||1&De||(En=Xl(lr),null===En||(lr=lr[Ni],10&En.type))););if(null===En)return!1;Y=En,S=lr}const $t=Or.lFrame=D();return $t.currentTNode=Y,$t.lView=S,!0}function Wn(S){const Y=D(),De=S[ee];Or.lFrame=Y,Y.currentTNode=De.firstChild,Y.lView=S,Y.tView=De,Y.contextLView=S,Y.bindingIndex=De.bindingStartIndex,Y.inI18n=!1}function D(){const S=Or.lFrame,Y=null===S?null:S.child;return null===Y?M(S):Y}function M(S){const Y={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:S,child:null,inI18n:!1};return null!==S&&(S.child=Y),Y}function A(){const S=Or.lFrame;return Or.lFrame=S.parent,S.currentTNode=null,S.lView=null,S}const O=A;function G(){const S=A();S.isParent=!0,S.tView=null,S.selectedIndex=-1,S.contextLView=null,S.elementDepthCount=0,S.currentDirectiveIndex=-1,S.currentNamespace=null,S.bindingRootIndex=-1,S.bindingIndex=-1,S.currentQueryIndex=0}function ae(S){return(Or.lFrame.contextLView=as(S,Or.lFrame.contextLView))[ur]}function Ne(){return Or.lFrame.selectedIndex}function Dt(S){Or.lFrame.selectedIndex=S}function fn(){const S=Or.lFrame;return rl(S.tView,S.selectedIndex)}function Qn(){Or.lFrame.currentNamespace=Td}function ci(){Or.lFrame.currentNamespace=jl}function Ui(){!function Yo(){Or.lFrame.currentNamespace=null}()}function Xo(){return Or.lFrame.currentNamespace}let Jo=!0;function Nt(){return Jo}function Gs(S){Jo=S}function ws(S,Y=null,De=null,$t){const En=Ea(S,Y,De,$t);return En.resolveInjectorInitializers(),En}function Ea(S,Y=null,De=null,$t,En=new Set){const lr=[De||Mi,ot(S)];return $t=$t||("object"==typeof S?void 0:ke(S)),new he(lr,Y||X(),$t||null,En)}class Ia{static THROW_IF_NOT_FOUND=xt;static NULL=new xe;static create(Y,De){if(Array.isArray(Y))return ws({name:""},De,Y,"");{const $t=Y.name??"";return ws({name:$t},Y.parent,Y.providers,$t)}}static \u0275prov=Tn({token:Ia,providedIn:"any",factory:()=>Qe(so)});static __NG_ELEMENT_ID__=-1}const ql=new Gn("");let na=(()=>class S{static __NG_ELEMENT_ID__=ml;static __NG_ENV_ID__=De=>De})();class Uh extends na{_lView;constructor(Y){super(),this._lView=Y}get destroyed(){return P(this._lView)}onDestroy(Y){const De=this._lView;return ol(De,Y),()=>Ks(De,Y)}}function ml(){return new Uh(bn())}class Ta{_console=console;handleError(Y){this._console.error("ERROR",Y)}}const Ss=new Gn("",{providedIn:"root",factory:()=>{const S=at(N);let Y;return De=>{S.destroyed&&!Y?setTimeout(()=>{throw De}):(Y??=S.get(Ta),Y.handleError(De))}}}),Ac={provide:ji,useValue:()=>{at(Ta)},multi:!0};function _l(S){return"function"==typeof S&&void 0!==S[He.bh]}function fp(S,Y){const[De,$t,En]=(0,He.n5)(S,Y?.equal),lr=De;return lr.set=$t,lr.update=En,lr.asReadonly=ls.bind(lr),lr}function ls(){const S=this[He.bh];if(void 0===S.readonlyFn){const Y=()=>this();Y[He.bh]=S,S.readonlyFn=Y}return S.readonlyFn}function fu(S){return _l(S)&&"function"==typeof S.set}function pu(S,Y){if(null!==(0,He.nR)())throw new We(-602,!1)}let ra=(()=>class S{view;node;constructor(De,$t){this.view=De,this.node=$t}static __NG_ELEMENT_ID__=pp})();function pp(){return new ra(bn(),zn())}class Ba{}const $h=new Gn("",{providedIn:"root",factory:()=>!1}),Ad=new Gn("",{providedIn:"root",factory:()=>!1}),gp=new Gn(""),bd=new Gn("");let jh=(()=>{class S{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Se.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new le.c(De=>{De.next(!1),De.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const De=this.taskId++;return this.pendingTasks.add(De),De}has(De){return this.pendingTasks.has(De)}remove(De){this.pendingTasks.delete(De),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Tn({token:S,providedIn:"root",factory:()=>new S})}return S})(),gu=(()=>{class S{internalPendingTasks=at(jh);scheduler=at(Ba);errorHandler=at(Ss);add(){const De=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(De)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(De))}}run(De){const $t=this.add();De().catch(this.errorHandler).finally($t)}static \u0275prov=Tn({token:S,providedIn:"root",factory:()=>new S})}return S})();function bc(...S){}let wd=(()=>{class S{static \u0275prov=Tn({token:S,providedIn:"root",factory:()=>new mp})}return S})();class mp{dirtyEffectCount=0;queues=new Map;add(Y){this.enqueue(Y),this.schedule(Y)}schedule(Y){Y.dirty&&this.dirtyEffectCount++}remove(Y){const $t=this.queues.get(Y.zone);$t.has(Y)&&($t.delete(Y),Y.dirty&&this.dirtyEffectCount--)}enqueue(Y){const De=Y.zone;this.queues.has(De)||this.queues.set(De,new Set);const $t=this.queues.get(De);$t.has(Y)||$t.add(Y)}flush(){for(;this.dirtyEffectCount>0;){let Y=!1;for(const[De,$t]of this.queues)Y||=null===De?this.flushQueue($t):De.run(()=>this.flushQueue($t));Y||(this.dirtyEffectCount=0)}}flushQueue(Y){let De=!1;for(const $t of Y)$t.dirty&&(this.dirtyEffectCount--,De=!0,$t.run());return De}}},2816:(Ln,Tt,L)=>{"use strict";L.d(Tt,{S:()=>$});var h=L(9974),u=L(4360);function $(Te,fe){return(0,h.N)(function k(Te,fe,Ce,He,Se){return(le,pe)=>{let Pe=Ce,Me=fe,Le=0;le.subscribe((0,u._)(pe,We=>{const st=Le++;Me=Pe?Te(Me,We,st):(Pe=!0,We),He&&pe.next(Me)},Se&&(()=>{Pe&&pe.next(Me),pe.complete()})))}}(Te,fe,arguments.length>=2,!0))}},2979:(Ln,Tt,L)=>{"use strict";L.r(Tt),L.d(Tt,{FirebaseError:()=>$.g,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>gt,_addOrOverwriteComponent:()=>gr,_apps:()=>Xt,_clearComponents:()=>Hr,_components:()=>On,_getProvider:()=>Er,_isFirebaseApp:()=>Jr,_isFirebaseServerApp:()=>Ur,_registerComponent:()=>Mr,_removeServiceInstance:()=>ai,_serverApps:()=>on,deleteApp:()=>Ti,getApp:()=>ii,getApps:()=>$i,initializeApp:()=>Pi,initializeServerApp:()=>si,onLog:()=>$e,registerVersion:()=>Be,setLogLevel:()=>nt});var h=L(467),u=L(8779),k=L(5398),$=L(1401);let fe,Ce;const le=new WeakMap,pe=new WeakMap,Pe=new WeakMap,Me=new WeakMap,Le=new WeakMap;let it={get(xt,It,nn){if(xt instanceof IDBTransaction){if("done"===It)return pe.get(xt);if("objectStoreNames"===It)return xt.objectStoreNames||Pe.get(xt);if("store"===It)return nn.objectStoreNames[1]?void 0:nn.objectStore(nn.objectStoreNames[0])}return Fe(xt[It])},set:(xt,It,nn)=>(xt[It]=nn,!0),has:(xt,It)=>xt instanceof IDBTransaction&&("done"===It||"store"===It)||It in xt};function Rt(xt){return"function"==typeof xt?function vt(xt){return xt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xt)?function(...It){return xt.apply(dt(this),It),Fe(le.get(this))}:function(...It){return Fe(xt.apply(dt(this),It))}:function(It,...nn){const ye=xt.call(dt(this),It,...nn);return Pe.set(ye,It.sort?It.sort():[It]),Fe(ye)}}(xt):(xt instanceof IDBTransaction&&function st(xt){if(pe.has(xt))return;const It=new Promise((nn,ye)=>{const Qe=()=>{xt.removeEventListener("complete",Ae),xt.removeEventListener("error",at),xt.removeEventListener("abort",at)},Ae=()=>{nn(),Qe()},at=()=>{ye(xt.error||new DOMException("AbortError","AbortError")),Qe()};xt.addEventListener("complete",Ae),xt.addEventListener("error",at),xt.addEventListener("abort",at)});pe.set(xt,It)}(xt),((xt,It)=>It.some(nn=>xt instanceof nn))(xt,function He(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xt,it):xt)}function Fe(xt){if(xt instanceof IDBRequest)return function We(xt){const It=new Promise((nn,ye)=>{const Qe=()=>{xt.removeEventListener("success",Ae),xt.removeEventListener("error",at)},Ae=()=>{nn(Fe(xt.result)),Qe()},at=()=>{ye(xt.error),Qe()};xt.addEventListener("success",Ae),xt.addEventListener("error",at)});return It.then(nn=>{nn instanceof IDBCursor&&le.set(nn,xt)}).catch(()=>{}),Le.set(It,xt),It}(xt);if(Me.has(xt))return Me.get(xt);const It=Rt(xt);return It!==xt&&(Me.set(xt,It),Le.set(It,xt)),It}const dt=xt=>Le.get(xt),Ze=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],ct=new Map;function Oe(xt,It){if(!(xt instanceof IDBDatabase)||It in xt||"string"!=typeof It)return;if(ct.get(It))return ct.get(It);const nn=It.replace(/FromIndex$/,""),ye=It!==nn,Qe=_t.includes(nn);if(!(nn in(ye?IDBIndex:IDBObjectStore).prototype)||!Qe&&!Ze.includes(nn))return;const Ae=function(){var at=(0,h.A)(function*(Qt,...Un){const tr=this.transaction(Qt,Qe?"readwrite":"readonly");let pr=tr.store;return ye&&(pr=pr.index(Un.shift())),(yield Promise.all([pr[nn](...Un),Qe&&tr.done]))[0]});return function(Un){return at.apply(this,arguments)}}();return ct.set(It,Ae),Ae}!function et(xt){it=xt(it)}(xt=>({...xt,get:(It,nn,ye)=>Oe(It,nn)||xt.get(It,nn,ye),has:(It,nn)=>!!Oe(It,nn)||xt.has(It,nn)}));class ln{constructor(It){this.container=It}getPlatformInfoString(){return this.container.getProviders().map(nn=>{if(function ut(xt){const It=xt.getComponent();return"VERSION"===It?.type}(nn)){const ye=nn.getImmediate();return`${ye.library}/${ye.version}`}return null}).filter(nn=>nn).join(" ")}}const Mn="@firebase/app",zt="0.10.13",kt=new k.Vy("@firebase/app"),ht="@firebase/app-compat",jt="@firebase/analytics-compat",tn="@firebase/analytics",dn="@firebase/app-check-compat",re="@firebase/app-check",_e="@firebase/auth",Ue="@firebase/auth-compat",we="@firebase/database",tt="@firebase/data-connect",wt="@firebase/database-compat",Gt="@firebase/functions",Ht="@firebase/functions-compat",yn="@firebase/installations",lt="@firebase/installations-compat",In="@firebase/messaging",yt="@firebase/messaging-compat",Tn="@firebase/performance",an="@firebase/performance-compat",Pt="@firebase/remote-config",rt="@firebase/remote-config-compat",Bt="@firebase/storage",vn="@firebase/storage-compat",ar="@firebase/firestore",br="@firebase/vertexai-preview",Sr="@firebase/firestore-compat",fr="firebase",cn="[DEFAULT]",cr={[Mn]:"fire-core",[ht]:"fire-core-compat",[tn]:"fire-analytics",[jt]:"fire-analytics-compat",[re]:"fire-app-check",[dn]:"fire-app-check-compat",[_e]:"fire-auth",[Ue]:"fire-auth-compat",[we]:"fire-rtdb",[tt]:"fire-data-connect",[wt]:"fire-rtdb-compat",[Gt]:"fire-fn",[Ht]:"fire-fn-compat",[yn]:"fire-iid",[lt]:"fire-iid-compat",[In]:"fire-fcm",[yt]:"fire-fcm-compat",[Tn]:"fire-perf",[an]:"fire-perf-compat",[Pt]:"fire-rc",[rt]:"fire-rc-compat",[Bt]:"fire-gcs",[vn]:"fire-gcs-compat",[ar]:"fire-fst",[Sr]:"fire-fst-compat",[br]:"fire-vertex","fire-js":"fire-js",[fr]:"fire-js-all"},Xt=new Map,on=new Map,On=new Map;function gt(xt,It){try{xt.container.addComponent(It)}catch(nn){kt.debug(`Component ${It.name} failed to register with FirebaseApp ${xt.name}`,nn)}}function gr(xt,It){xt.container.addOrOverwriteComponent(It)}function Mr(xt){const It=xt.name;if(On.has(It))return kt.debug(`There were multiple attempts to register component ${It}.`),!1;On.set(It,xt);for(const nn of Xt.values())gt(nn,xt);for(const nn of on.values())gt(nn,xt);return!0}function Er(xt,It){const nn=xt.container.getProvider("heartbeat").getImmediate({optional:!0});return nn&&nn.triggerHeartbeat(),xt.container.getProvider(It)}function ai(xt,It,nn=cn){Er(xt,It).clearInstance(nn)}function Jr(xt){return void 0!==xt.options}function Ur(xt){return void 0!==xt.settings}function Hr(){On.clear()}const Fn=new $.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ni{constructor(It,nn,ye){this._isDeleted=!1,this._options=Object.assign({},It),this._config=Object.assign({},nn),this._name=nn.name,this._automaticDataCollectionEnabled=nn.automaticDataCollectionEnabled,this._container=ye,this.container.addComponent(new u.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this.checkDestroyed(),this._automaticDataCollectionEnabled=It}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(It){this._isDeleted=It}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}class jr extends ni{constructor(It,nn,ye,Qe){const Ae=void 0!==nn.automaticDataCollectionEnabled&&nn.automaticDataCollectionEnabled,at={name:ye,automaticDataCollectionEnabled:Ae};super(void 0!==It.apiKey?It:It.options,at,Qe),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ae},nn),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,nn.releaseOnDeref=void 0,Be(Mn,zt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(It){this.isDeleted||(this._refCount++,void 0!==It&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(It,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ti(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Fn.create("server-app-deleted")}}const ri="10.14.1";function Pi(xt,It={}){let nn=xt;"object"!=typeof It&&(It={name:It});const ye=Object.assign({name:cn,automaticDataCollectionEnabled:!1},It),Qe=ye.name;if("string"!=typeof Qe||!Qe)throw Fn.create("bad-app-name",{appName:String(Qe)});if(nn||(nn=(0,$.T9)()),!nn)throw Fn.create("no-options");const Ae=Xt.get(Qe);if(Ae){if((0,$.bD)(nn,Ae.options)&&(0,$.bD)(ye,Ae.config))return Ae;throw Fn.create("duplicate-app",{appName:Qe})}const at=new u.h1(Qe);for(const Un of On.values())at.addComponent(Un);const Qt=new ni(nn,ye,at);return Xt.set(Qe,Qt),Qt}function si(xt,It){if((0,$.Bd)()&&!(0,$.p7)())throw Fn.create("invalid-server-app-environment");let nn;void 0===It.automaticDataCollectionEnabled&&(It.automaticDataCollectionEnabled=!1),nn=Jr(xt)?xt.options:xt;const ye=Object.assign(Object.assign({},It),nn);if(void 0!==ye.releaseOnDeref&&delete ye.releaseOnDeref,void 0!==It.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Fn.create("finalization-registry-not-supported",{});const Ae=""+(tr=JSON.stringify(ye),[...tr].reduce((pr,zr)=>Math.imul(31,pr)+zr.charCodeAt(0)|0,0)),at=on.get(Ae);var tr;if(at)return at.incRefCount(It.releaseOnDeref),at;const Qt=new u.h1(Ae);for(const tr of On.values())Qt.addComponent(tr);const Un=new jr(nn,It,Ae,Qt);return on.set(Ae,Un),Un}function ii(xt=cn){const It=Xt.get(xt);if(!It&&xt===cn&&(0,$.T9)())return Pi();if(!It)throw Fn.create("no-app",{appName:xt});return It}function $i(){return Array.from(Xt.values())}function Ti(xt){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.A)(function*(xt){let It=!1;const nn=xt.name;Xt.has(nn)?(It=!0,Xt.delete(nn)):on.has(nn)&&xt.decRefCount()<=0&&(on.delete(nn),It=!0),It&&(yield Promise.all(xt.container.getProviders().map(ye=>ye.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function Be(xt,It,nn){var ye;let Qe=null!==(ye=cr[xt])&&void 0!==ye?ye:xt;nn&&(Qe+=`-${nn}`);const Ae=Qe.match(/\s|\//),at=It.match(/\s|\//);if(Ae||at){const Qt=[`Unable to register library "${Qe}" with version "${It}":`];return Ae&&Qt.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),Ae&&at&&Qt.push("and"),at&&Qt.push(`version name "${It}" contains illegal characters (whitespace or "/")`),void kt.warn(Qt.join(" "))}Mr(new u.uA(`${Qe}-version`,()=>({library:Qe,version:It}),"VERSION"))}function $e(xt,It){if(null!==xt&&"function"!=typeof xt)throw Fn.create("invalid-log-argument");(0,k.Ey)(xt,It)}function nt(xt){(0,k.He)(xt)}const Vn="firebase-heartbeat-store";let Kn=null;function Fr(){return Kn||(Kn=function ke(xt,It,{blocked:nn,upgrade:ye,blocking:Qe,terminated:Ae}={}){const at=indexedDB.open(xt,It),Qt=Fe(at);return ye&&at.addEventListener("upgradeneeded",Un=>{ye(Fe(at.result),Un.oldVersion,Un.newVersion,Fe(at.transaction),Un)}),nn&&at.addEventListener("blocked",Un=>nn(Un.oldVersion,Un.newVersion,Un)),Qt.then(Un=>{Ae&&Un.addEventListener("close",()=>Ae()),Qe&&Un.addEventListener("versionchange",tr=>Qe(tr.oldVersion,tr.newVersion,tr))}).catch(()=>{}),Qt}("firebase-heartbeat-database",1,{upgrade:(xt,It)=>{if(0===It)try{xt.createObjectStore(Vn)}catch(nn){console.warn(nn)}}}).catch(xt=>{throw Fn.create("idb-open",{originalErrorMessage:xt.message})})),Kn}function Rr(){return(Rr=(0,h.A)(function*(xt){try{const nn=(yield Fr()).transaction(Vn),ye=yield nn.objectStore(Vn).get(yr(xt));return yield nn.done,ye}catch(It){if(It instanceof $.g)kt.warn(It.message);else{const nn=Fn.create("idb-get",{originalErrorMessage:It?.message});kt.warn(nn.message)}}})).apply(this,arguments)}function Pr(xt,It){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.A)(function*(xt,It){try{const ye=(yield Fr()).transaction(Vn,"readwrite");yield ye.objectStore(Vn).put(It,yr(xt)),yield ye.done}catch(nn){if(nn instanceof $.g)kt.warn(nn.message);else{const ye=Fn.create("idb-set",{originalErrorMessage:nn?.message});kt.warn(ye.message)}}})).apply(this,arguments)}function yr(xt){return`${xt.name}!${xt.options.appId}`}class Di{constructor(It){this.container=It,this._heartbeatsCache=null;const nn=this.container.getProvider("app").getImmediate();this._storage=new Ci(nn),this._heartbeatsCachePromise=this._storage.read().then(ye=>(this._heartbeatsCache=ye,ye))}triggerHeartbeat(){var It=this;return(0,h.A)(function*(){var nn,ye;try{const Ae=It.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=pi();return null==(null===(nn=It._heartbeatsCache)||void 0===nn?void 0:nn.heartbeats)&&(It._heartbeatsCache=yield It._heartbeatsCachePromise,null==(null===(ye=It._heartbeatsCache)||void 0===ye?void 0:ye.heartbeats))||It._heartbeatsCache.lastSentHeartbeatDate===at||It._heartbeatsCache.heartbeats.some(Qt=>Qt.date===at)?void 0:(It._heartbeatsCache.heartbeats.push({date:at,agent:Ae}),It._heartbeatsCache.heartbeats=It._heartbeatsCache.heartbeats.filter(Qt=>{const Un=new Date(Qt.date).valueOf();return Date.now()-Un<=2592e6}),It._storage.overwrite(It._heartbeatsCache))}catch(Qe){kt.warn(Qe)}})()}getHeartbeatsHeader(){var It=this;return(0,h.A)(function*(){var nn;try{if(null===It._heartbeatsCache&&(yield It._heartbeatsCachePromise),null==(null===(nn=It._heartbeatsCache)||void 0===nn?void 0:nn.heartbeats)||0===It._heartbeatsCache.heartbeats.length)return"";const ye=pi(),{heartbeatsToSend:Qe,unsentEntries:Ae}=function Gr(xt,It=1024){const nn=[];let ye=xt.slice();for(const Qe of xt){const Ae=nn.find(at=>at.agent===Qe.agent);if(Ae){if(Ae.dates.push(Qe.date),li(nn)>It){Ae.dates.pop();break}}else if(nn.push({agent:Qe.agent,dates:[Qe.date]}),li(nn)>It){nn.pop();break}ye=ye.slice(1)}return{heartbeatsToSend:nn,unsentEntries:ye}}(It._heartbeatsCache.heartbeats),at=(0,$.Uj)(JSON.stringify({version:2,heartbeats:Qe}));return It._heartbeatsCache.lastSentHeartbeatDate=ye,Ae.length>0?(It._heartbeatsCache.heartbeats=Ae,yield It._storage.overwrite(It._heartbeatsCache)):(It._heartbeatsCache.heartbeats=[],It._storage.overwrite(It._heartbeatsCache)),at}catch(ye){return kt.warn(ye),""}})()}}function pi(){return(new Date).toISOString().substring(0,10)}class Ci{constructor(It){this.app=It,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.A)(function*(){return!!(0,$.zW)()&&(0,$.eX)().then(()=>!0).catch(()=>!1)})()}read(){var It=this;return(0,h.A)(function*(){if(yield It._canUseIndexedDBPromise){const ye=yield function Lr(xt){return Rr.apply(this,arguments)}(It.app);return ye?.heartbeats?ye:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(It){var nn=this;return(0,h.A)(function*(){var ye;if(yield nn._canUseIndexedDBPromise){const Ae=yield nn.read();return Pr(nn.app,{lastSentHeartbeatDate:null!==(ye=It.lastSentHeartbeatDate)&&void 0!==ye?ye:Ae.lastSentHeartbeatDate,heartbeats:It.heartbeats})}})()}add(It){var nn=this;return(0,h.A)(function*(){var ye;if(yield nn._canUseIndexedDBPromise){const Ae=yield nn.read();return Pr(nn.app,{lastSentHeartbeatDate:null!==(ye=It.lastSentHeartbeatDate)&&void 0!==ye?ye:Ae.lastSentHeartbeatDate,heartbeats:[...Ae.heartbeats,...It.heartbeats]})}})()}}function li(xt){return(0,$.Uj)(JSON.stringify({version:2,heartbeats:xt})).length}!function ki(xt){Mr(new u.uA("platform-logger",It=>new ln(It),"PRIVATE")),Mr(new u.uA("heartbeat",It=>new Di(It),"PRIVATE")),Be(Mn,zt,xt),Be(Mn,zt,"esm2017"),Be("fire-js","")}("")},3073:(Ln,Tt,L)=>{"use strict";L.d(Tt,{D:()=>Te});const{isArray:h}=Array,{getPrototypeOf:u,prototype:k,keys:$}=Object;function Te(Ce){if(1===Ce.length){const He=Ce[0];if(h(He))return{args:He,keys:null};if(function fe(Ce){return Ce&&"object"==typeof Ce&&u(Ce)===k}(He)){const Se=$(He);return{args:Se.map(le=>He[le]),keys:Se}}}return{args:Ce,keys:null}}},3220:(Ln,Tt,L)=>{"use strict";L.d(Tt,{B:()=>yn,F:()=>an,G:()=>lt,O:()=>In,a:()=>it,b:()=>et,c:()=>dt,d:()=>yt,e:()=>Tn,f:()=>tn,g:()=>re,h:()=>we,i:()=>wt,j:()=>Ve,k:()=>Ze,m:()=>Rt,n:()=>le,o:()=>ht,q:()=>pe,s:()=>Ht,t:()=>ke});var h=L(467),u=L(9596),k=L(4674),$=L(9431),Te=L(5705),fe=L(6855),Ce=L(6118),He=L(8607);const Se='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',le=(Pt,rt)=>{const Bt=Pt.querySelector(Se);Pe(Bt,rt??Pt)},pe=(Pt,rt)=>{const Bt=Array.from(Pt.querySelectorAll(Se));Pe(Bt.length>0?Bt[Bt.length-1]:null,rt??Pt)},Pe=(Pt,rt)=>{let Bt=Pt;const vn=Pt?.shadowRoot;if(vn&&(Bt=vn.querySelector(Se)||Pt),Bt){const ar=Bt.closest("ion-radio-group");ar?ar.setFocus():(0,k.n)(Bt)}else rt.focus()};let Me=0,Le=0;const We=new WeakMap,st=Pt=>({create:rt=>_t(Pt,rt),dismiss:(rt,Bt,vn)=>Mn(document,rt,Bt,Pt,vn),getTop:()=>(0,h.A)(function*(){return ht(document,Pt)})()}),it=st("ion-alert"),et=st("ion-action-sheet"),Rt=st("ion-modal"),dt=st("ion-popover"),ke=st("ion-toast"),Ve=Pt=>{typeof document<"u"&&ut(document);const rt=Me++;Pt.overlayIndex=rt},Ze=Pt=>(Pt.hasAttribute("id")||(Pt.id="ion-overlay-"+ ++Le),Pt.id),_t=(Pt,rt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Pt).then(()=>{const Bt=document.createElement(Pt);return Bt.classList.add("overlay-hidden"),Object.assign(Bt,Object.assign(Object.assign({},rt),{hasController:!0})),_e(document).appendChild(Bt),new Promise(vn=>(0,k.c)(Bt,vn))}):Promise.resolve(),Oe=(Pt,rt)=>{let Bt=Pt;const vn=Pt?.shadowRoot;vn&&(Bt=vn.querySelector(Se)||Pt),Bt?(0,k.n)(Bt):rt.focus()},ut=Pt=>{0===Me&&(Me=1,Pt.addEventListener("focus",rt=>{((Pt,rt)=>{const Bt=ht(rt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),vn=Pt.target;Bt&&vn&&!Bt.classList.contains(an)&&(Bt.shadowRoot?(()=>{if(Bt.contains(vn))Bt.lastFocus=vn;else if("ION-TOAST"===vn.tagName)Oe(Bt.lastFocus,Bt);else{const Sr=Bt.lastFocus;le(Bt),Sr===rt.activeElement&&pe(Bt),Bt.lastFocus=rt.activeElement}})():(()=>{if(Bt===vn)Bt.lastFocus=void 0;else if("ION-TOAST"===vn.tagName)Oe(Bt.lastFocus,Bt);else{const Sr=(0,k.g)(Bt);if(!Sr.contains(vn))return;const fr=Sr.querySelector(".ion-overlay-wrapper");if(!fr)return;if(fr.contains(vn)||vn===Sr.querySelector("ion-backdrop"))Bt.lastFocus=vn;else{const Gn=Bt.lastFocus;le(fr,Bt),Gn===rt.activeElement&&pe(fr,Bt),Bt.lastFocus=rt.activeElement}}})())})(rt,Pt)},!0),Pt.addEventListener("ionBackButton",rt=>{const Bt=ht(Pt);Bt?.backdropDismiss&&rt.detail.register($.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Bt.dismiss(void 0,yn)})}),(0,$.shouldUseCloseWatcher)()||Pt.addEventListener("keydown",rt=>{if("Escape"===rt.key){const Bt=ht(Pt);Bt?.backdropDismiss&&Bt.dismiss(void 0,yn)}}))},Mn=(Pt,rt,Bt,vn,ar)=>{const br=ht(Pt,vn,ar);return br?br.dismiss(rt,Bt):Promise.reject("overlay does not exist")},kt=(Pt,rt)=>((Pt,rt)=>(void 0===rt&&(rt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Pt.querySelectorAll(rt)).filter(Bt=>Bt.overlayIndex>0)))(Pt,rt).filter(Bt=>!(Pt=>Pt.classList.contains("overlay-hidden"))(Bt)),ht=(Pt,rt,Bt)=>{const vn=kt(Pt,rt);return void 0===Bt?vn[vn.length-1]:vn.find(ar=>ar.id===Bt)},jt=(Pt=!1)=>{const Bt=_e(document).querySelector("ion-router-outlet, #ion-view-container-root");Bt&&(Pt?Bt.setAttribute("aria-hidden","true"):Bt.removeAttribute("aria-hidden"))},tn=function(){var Pt=(0,h.A)(function*(rt,Bt,vn,ar,br){var Sr,fr;if(rt.presented)return;"ION-TOAST"!==rt.el.tagName&&dn(rt.el);const Gn=rt.el,cr="ION-TOAST"!==Gn.tagName&&!1!==Gn.focusTrap&&!1!==Gn.showBackdrop;if(rt.presented=!0,rt.willPresent.emit(),cr){const gr=_e(document).querySelector("ion-router-outlet, #ion-view-container-root");!!gr&&gr.contains(Gn)||jt(!0),document.body.classList.add(He.B)}null===(Sr=rt.willPresentShorthand)||void 0===Sr||Sr.emit();const Xt=(0,fe.b)(rt),on=rt.enterAnimation?rt.enterAnimation:Te.e.get(Bt,"ios"===Xt?vn:ar);(yield Ue(rt,on,rt.el,br))&&(rt.didPresent.emit(),null===(fr=rt.didPresentShorthand)||void 0===fr||fr.emit()),rt.keyboardClose&&(null===document.activeElement||!rt.el.contains(document.activeElement))&&rt.el.focus(),rt.el.removeAttribute("aria-hidden"),rt.el.removeAttribute("inert")});return function(Bt,vn,ar,br,Sr){return Pt.apply(this,arguments)}}(),dn=function(){var Pt=(0,h.A)(function*(rt){let Bt=document.activeElement;if(!Bt)return;Bt.blur();const vn=Bt?.shadowRoot;vn&&(Bt=vn.querySelector(Se)||Bt),yield rt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Bt.focus()});return function(Bt){return Pt.apply(this,arguments)}}(),re=function(){var Pt=(0,h.A)(function*(rt,Bt,vn,ar,br,Sr,fr){var Gn,cn;if(!rt.presented)return!1;const Xt=(void 0!==u.d?kt(u.d):[]).filter(gr=>"ION-TOAST"!==gr.tagName&&!1!==gr.focusTrap&&!1!==gr.showBackdrop),on=rt.el;"ION-TOAST"!==on.tagName&&!1!==on.focusTrap&&!1!==on.showBackdrop&&1===Xt.length&&Xt[0].id===on.id&&(jt(!1),document.body.classList.remove(He.B)),rt.presented=!1;try{rt.el.style.setProperty("pointer-events","none"),rt.willDismiss.emit({data:Bt,role:vn}),null===(Gn=rt.willDismissShorthand)||void 0===Gn||Gn.emit({data:Bt,role:vn});const gr=(0,fe.b)(rt),Mr=rt.leaveAnimation?rt.leaveAnimation:Te.e.get(ar,"ios"===gr?br:Sr);vn!==lt&&(yield Ue(rt,Mr,rt.el,fr)),rt.didDismiss.emit({data:Bt,role:vn}),null===(cn=rt.didDismissShorthand)||void 0===cn||cn.emit({data:Bt,role:vn}),(We.get(rt)||[]).forEach(ai=>ai.destroy()),We.delete(rt),rt.el.classList.add("overlay-hidden"),rt.el.style.removeProperty("pointer-events"),void 0!==rt.el.lastFocus&&(rt.el.lastFocus=void 0)}catch(gr){(0,Te.j)(`[${rt.el.tagName.toLowerCase()}] - `,gr)}return rt.el.remove(),!0});return function(Bt,vn,ar,br,Sr,fr,Gn){return Pt.apply(this,arguments)}}(),_e=Pt=>Pt.querySelector("ion-app")||Pt.body,Ue=function(){var Pt=(0,h.A)(function*(rt,Bt,vn,ar){vn.classList.remove("overlay-hidden");const Sr=Bt(rt.el,ar);(!rt.animated||!Te.e.getBoolean("animated",!0))&&Sr.duration(0),rt.keyboardClose&&Sr.beforeAddWrite(()=>{const Gn=vn.ownerDocument.activeElement;Gn?.matches("input,ion-input, ion-textarea")&&Gn.blur()});const fr=We.get(rt)||[];return We.set(rt,[...fr,Sr]),yield Sr.play(),!0});return function(Bt,vn,ar,br){return Pt.apply(this,arguments)}}(),we=(Pt,rt)=>{let Bt;const vn=new Promise(ar=>Bt=ar);return tt(Pt,rt,ar=>{Bt(ar.detail)}),vn},tt=(Pt,rt,Bt)=>{const vn=ar=>{(0,k.m)(Pt,rt,vn),Bt(ar)};(0,k.f)(Pt,rt,vn)},wt=Pt=>"cancel"===Pt||Pt===yn,Gt=Pt=>Pt(),Ht=(Pt,rt)=>{if("function"==typeof Pt)return Te.e.get("_zoneGate",Gt)(()=>{try{return Pt(rt)}catch(vn){throw vn}})},yn="backdrop",lt="gesture",In=39,yt=Pt=>{let Bt,rt=!1;const vn=(0,Ce.C)(),ar=(fr=!1)=>{if(Bt&&!fr)return{delegate:Bt,inline:rt};const{el:Gn,hasController:cn,delegate:cr}=Pt;return rt=null!==Gn.parentNode&&!cn,Bt=rt?cr||vn:cr,{inline:rt,delegate:Bt}};return{attachViewToDom:function(){var fr=(0,h.A)(function*(Gn){const{delegate:cn}=ar(!0);if(cn)return yield cn.attachViewToDom(Pt.el,Gn);const{hasController:cr}=Pt;if(cr&&void 0!==Gn)throw new Error("framework delegate is missing");return null});return function(cn){return fr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:fr}=ar();fr&&void 0!==Pt.el&&fr.removeViewFromDom(Pt.el.parentElement,Pt.el)}}},Tn=()=>{let Pt;const rt=()=>{Pt&&(Pt(),Pt=void 0)};return{addClickListener:(vn,ar)=>{rt();const br=void 0!==ar?document.getElementById(ar):null;br?Pt=((fr,Gn)=>{const cn=()=>{Gn.present()};return fr.addEventListener("click",cn),()=>{fr.removeEventListener("click",cn)}})(br,vn):(0,Te.f)(`[${vn.tagName.toLowerCase()}] - A trigger element with the ID "${ar}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,vn)},removeClickListener:rt}},an="ion-disable-focus-trap"},3294:(Ln,Tt,L)=>{"use strict";L.d(Tt,{F:()=>$});var h=L(3669),u=L(9974),k=L(4360);function $(fe,Ce=h.D){return fe=fe??Te,(0,u.N)((He,Se)=>{let le,pe=!0;He.subscribe((0,k._)(Se,Pe=>{const Me=Ce(Pe);(pe||!fe(le,Me))&&(pe=!1,le=Me,Se.next(Pe))}))})}function Te(fe,Ce){return fe===Ce}},3494:(Ln,Tt,L)=>{"use strict";L.d(Tt,{s:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},3664:(Ln,Tt,L)=>{"use strict";L.d(Tt,{$C:()=>hg,$Ln:()=>Xc,AVh:()=>n0,Ab1:()=>Yu,Agw:()=>Tr,BIS:()=>mi,BMQ:()=>CE,C4Q:()=>pf,C7A:()=>Nf,Co$:()=>wT,DH7:()=>IC,DNE:()=>__,DUP:()=>El,DkB:()=>G_,EFF:()=>Gg,EJ8:()=>zv,FsC:()=>fh,G5x:()=>Cm,GBs:()=>rC,H1s:()=>nw,Jt5:()=>BD,Jv_:()=>Qg,KED:()=>RS,NAR:()=>QE,NCX:()=>Bu,NOj:()=>Md,NSC:()=>Wf,NYb:()=>ew,OA$:()=>ht,OR8:()=>ch,Ocv:()=>LS,Ol2:()=>u_,PLl:()=>ur,PYt:()=>dg,QTQ:()=>tT,Ql9:()=>xS,R50:()=>g0,R7$:()=>Im,RV6:()=>FD,SKi:()=>dr,SdG:()=>Sh,SdI:()=>JC,SpI:()=>sy,TFI:()=>_E,Ts$:()=>W0,UQu:()=>QC,V5L:()=>Ay,VBU:()=>d_,VeQ:()=>Ni,Vt3:()=>qv,VzW:()=>jv,XpG:()=>nC,Xx1:()=>st,Y8G:()=>PE,YEm:()=>_n,Zhj:()=>gb,_9s:()=>Km,_9u:()=>Jt,_jY:()=>gs,_qm:()=>xo,_ys:()=>nf,a8H:()=>Ud,aKT:()=>gi,bIt:()=>wh,bVm:()=>$f,bkB:()=>Os,c1b:()=>e_,cDI:()=>td,cZr:()=>$0,cdK:()=>sD,czy:()=>ec,d80:()=>U0,dOL:()=>pE,e6s:()=>$w,eHC:()=>ig,eu8:()=>kE,gXe:()=>yi,giA:()=>iD,hnV:()=>mE,iLQ:()=>rw,j41:()=>Uf,k0s:()=>Bf,kBR:()=>dd,kS0:()=>ki,kdw:()=>et,lJT:()=>ow,lsd:()=>qf,mGM:()=>ty,mal:()=>Dl,mxI:()=>cy,n$t:()=>Wh,nrm:()=>OE,o8S:()=>Ig,ozJ:()=>Iv,phd:()=>_P,pl0:()=>aD,qex:()=>Pg,rXU:()=>uh,sFG:()=>zA,sZ2:()=>Nn,sdS:()=>iC,sgu:()=>yb,tSv:()=>Hh,tvf:()=>ie,uiO:()=>Rt,utN:()=>eb,vDg:()=>Jm,w6W:()=>Eb,wni:()=>Xf,xGo:()=>pi,xe9:()=>ru,yLl:()=>oD,ypd:()=>iw,zoo:()=>Np});var h=L(467),u=L(2615),k=L(8440),$=L(1413),Te=L(8359),fe=L(6354);function Ce(n){return{toString:n}.toString()}const He="__annotations__",Se="__parameters__",le="__prop__metadata__";function pe(n,o,s,l,d){return Ce(()=>{const g=Pe(o);function v(...C){if(this instanceof v)return g.call(this,...C),this;const b=new v(...C);return function(J){return d&&d(J,...C),(J.hasOwnProperty(He)?J[He]:Object.defineProperty(J,He,{value:[]})[He]).push(b),J}}return s&&(v.prototype=Object.create(s.prototype)),v.prototype.ngMetadataName=n,v.annotationCls=v,v})}function Pe(n){return function(...s){if(n){const l=n(...s);for(const d in l)this[d]=l[d]}}}function Me(n,o,s){return Ce(()=>{const l=Pe(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return C.annotation=v,C;function C(b,W,J){const me=b.hasOwnProperty(Se)?b[Se]:Object.defineProperty(b,Se,{value:[]})[Se];for(;me.length<=J;)me.push(null);return(me[J]=me[J]||[]).push(v),b}}return d.prototype.ngMetadataName=n,d.annotationCls=d,d})}const We=(0,u.z6V)(Me("Inject",n=>({token:n})),-1),st=(0,u.z6V)(Me("Optional"),8),it=(0,u.z6V)(Me("Self"),2),et=(0,u.z6V)(Me("SkipSelf"),4),vt=(0,u.z6V)(Me("Host"),1);function Rt(n){const o=u.laP.ng;if(o&&o.\u0275compilerFacade)return o.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Fe={\u0275\u0275defineInjectable:u.jDH,\u0275\u0275defineInjector:u.G2t,\u0275\u0275inject:u.KVO,\u0275\u0275invalidFactoryDep:u.dmw,resolveForwardRef:u.nl4},dt=Function;function ke(n){return"function"==typeof n}const Ve=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ze=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,_t=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ct=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ln{_reflect;constructor(o){this._reflect=o||u.laP.Reflect}factory(o){return(...s)=>new o(...s)}_zipTypesAndAnnotations(o,s){let l;l=(0,u.WfI)(typeof o>"u"?s.length:o.length);for(let d=0;d<l.length;d++)l[d]=typeof o>"u"?[]:o[d]&&o[d]!=Object?[o[d]]:[],s&&null!=s[d]&&(l[d]=l[d].concat(s[d]));return l}_ownParameters(o,s){if(function Oe(n){return Ve.test(n)||ct.test(n)||Ze.test(n)&&!_t.test(n)}(o.toString()))return null;if(o.parameters&&o.parameters!==s.parameters)return o.parameters;const d=o.ctorParameters;if(d&&d!==s.ctorParameters){const C="function"==typeof d?d():d,b=C.map(J=>J&&J.type),W=C.map(J=>J&&ut(J.decorators));return this._zipTypesAndAnnotations(b,W)}const g=o.hasOwnProperty(Se)&&o[Se],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",o);return v||g?this._zipTypesAndAnnotations(v,g):(0,u.WfI)(o.length)}parameters(o){if(!ke(o))return[];const s=Mn(o);let l=this._ownParameters(o,s);return!l&&s!==Object&&(l=this.parameters(s)),l||[]}_ownAnnotations(o,s){if(o.annotations&&o.annotations!==s.annotations){let l=o.annotations;return"function"==typeof l&&l.annotations&&(l=l.annotations),l}return o.decorators&&o.decorators!==s.decorators?ut(o.decorators):o.hasOwnProperty(He)?o[He]:null}annotations(o){if(!ke(o))return[];const s=Mn(o),l=this._ownAnnotations(o,s)||[];return(s!==Object?this.annotations(s):[]).concat(l)}_ownPropMetadata(o,s){if(o.propMetadata&&o.propMetadata!==s.propMetadata){let l=o.propMetadata;return"function"==typeof l&&l.propMetadata&&(l=l.propMetadata),l}if(o.propDecorators&&o.propDecorators!==s.propDecorators){const l=o.propDecorators,d={};return Object.keys(l).forEach(g=>{d[g]=ut(l[g])}),d}return o.hasOwnProperty(le)?o[le]:null}propMetadata(o){if(!ke(o))return{};const s=Mn(o),l={};if(s!==Object){const g=this.propMetadata(s);Object.keys(g).forEach(v=>{l[v]=g[v]})}const d=this._ownPropMetadata(o,s);return d&&Object.keys(d).forEach(g=>{const v=[];l.hasOwnProperty(g)&&v.push(...l[g]),v.push(...d[g]),l[g]=v}),l}ownPropMetadata(o){return ke(o)&&this._ownPropMetadata(o,Mn(o))||{}}hasLifecycleHook(o,s){return o instanceof dt&&s in o.prototype}}function ut(n){return n?n.map(o=>new(0,o.type.annotationCls)(...o.args?o.args:[])):[]}function Mn(n){const o=n.prototype?Object.getPrototypeOf(n.prototype):null;return(o?o.constructor:null)||Object}class zt{previousValue;currentValue;firstChange;constructor(o,s,l){this.previousValue=o,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function kt(n,o,s,l){null!==o?o.applyValueToInputSignal(o,l):n[s]=l}const ht=(()=>{const n=()=>jt;return n.ngInherit=!0,n})();function jt(n){return n.type.prototype.ngOnChanges&&(n.setInput=dn),tn}function tn(){const n=_e(this),o=n?.current;if(o){const s=n.previous;if(s===u.MZA)n.previous=o;else for(let l in o)s[l]=o[l];n.current=null,this.ngOnChanges(o)}}function dn(n,o,s,l,d){const g=this.declaredInputs[l],v=_e(n)||function Ue(n,o){return n[re]=o}(n,{previous:u.MZA,current:null}),C=v.current||(v.current={}),b=v.previous,W=b[g];C[g]=new zt(W&&W.currentValue,s,b===u.MZA),kt(n,o,d,s)}const re="__ngSimpleChanges__";function _e(n){return n[re]||null}const we=[],Ht=function(n,o=null,s){for(let l=0;l<we.length;l++)(0,we[l])(n,o,s)};function lt(n,o){for(let s=o.directiveStart,l=o.directiveEnd;s<l;s++){const g=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:W,ngOnDestroy:J}=g;v&&(n.contentHooks??=[]).push(-s,v),C&&((n.contentHooks??=[]).push(s,C),(n.contentCheckHooks??=[]).push(s,C)),b&&(n.viewHooks??=[]).push(-s,b),W&&((n.viewHooks??=[]).push(s,W),(n.viewCheckHooks??=[]).push(s,W)),null!=J&&(n.destroyHooks??=[]).push(s,J)}}function In(n,o,s){an(n,o,3,s)}function yt(n,o,s,l){(3&n[u.Wg1])===s&&an(n,o,s,l)}function Tn(n,o){let s=n[u.Wg1];(3&s)===o&&(s&=16383,s+=1,n[u.Wg1]=s)}function an(n,o,s,l){const g=l??-1,v=o.length-1;let C=0;for(let b=void 0!==l?65535&n[u.wVl]:0;b<v;b++)if("number"==typeof o[b+1]){if(C=o[b],null!=l&&C>=l)break}else o[b]<0&&(n[u.wVl]+=65536),(C<g||-1==g)&&(rt(n,s,o,b),n[u.wVl]=(4294901760&n[u.wVl])+b+2),b++}function Pt(n,o){Ht(4,n,o);const s=(0,k.Ht)(null);try{o.call(n)}finally{(0,k.Ht)(s),Ht(5,n,o)}}function rt(n,o,s,l){const d=s[l]<0,g=s[l+1],C=n[d?-s[l]:s[l]];d?n[u.Wg1]>>14<n[u.wVl]>>16&&(3&n[u.Wg1])===o&&(n[u.Wg1]+=16384,Pt(C,g)):Pt(C,g)}const Bt=-1;class vn{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(o,s,l,d){this.factory=o,this.name=d,this.canSeeViewProviders=s,this.injectImpl=l}}function br(n){return null!=n&&"object"==typeof n&&(null===n.insertBeforeIndex||"number"==typeof n.insertBeforeIndex||Array.isArray(n.insertBeforeIndex))}function on(n){return 3===n||4===n||6===n}function On(n){return 64===n.charCodeAt(0)}function gt(n,o){if(null!==o&&0!==o.length)if(null===n||0===n.length)n=o.slice();else{let s=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?s=d:0===s||gr(n,s,d,0,-1===s||2===s?o[++l]:null)}}return n}function gr(n,o,s,l,d){let g=0,v=n.length;if(-1===o)v=-1;else for(;g<n.length;){const C=n[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<n.length;){const C=n[g];if("number"==typeof C)break;if(C===s)return void(null!==d&&(n[g+1]=d));g++,null!==d&&g++}-1!==v&&(n.splice(v,0,o),g=v+1),n.splice(g++,0,s),null!==d&&n.splice(g++,0,d)}function Mr(n){return n!==Bt}function Er(n){return 32767&n}function Jr(n,o){let s=function ai(n){return n>>16}(n),l=o;for(;s>0;)l=l[u.X5O],s--;return l}let Ur=!0;function Hr(n){const o=Ur;return Ur=n,o}const Fn=255,ni=5;let jr=0;const ri={};function si(n,o){const s=$i(n,o);if(-1!==s)return s;const l=o[u.eDl];l.firstCreatePass&&(n.injectorIndex=o.length,ii(l.data,n),ii(o,null),ii(l.blueprint,null));const d=Ti(n,o),g=n.injectorIndex;if(Mr(d)){const v=Er(d),C=Jr(d,o),b=C[u.eDl].data;for(let W=0;W<8;W++)o[g+W]=C[v+W]|b[v+W]}return o[g+8]=d,g}function ii(n,o){n.push(0,0,0,0,0,0,0,0,o)}function $i(n,o){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===o[n.injectorIndex+8]?-1:n.injectorIndex}function Ti(n,o){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,d=o;for(;null!==d;){if(l=li(d),null===l)return Bt;if(s++,d=d[u.X5O],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return Bt}function Wr(n,o,s){!function Pi(n,o,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(u.p9y)&&(l=s[u.p9y]),null==l&&(l=s[u.p9y]=jr++);const d=l&Fn;o.data[n+(d>>ni)]|=1<<d}(n,o,s)}function $e(n,o,s){if(8&s||void 0!==n)return n;(0,u.$Hz)(o,"NodeInjector")}function nt(n,o,s,l){if(8&s&&void 0===l&&(l=null),!(3&s)){const d=n[u.YEL],g=(0,u.a2B)(void 0);try{return d?d.get(o,l,8&s):(0,u.MzJ)(o,l,8&s)}finally{(0,u.a2B)(g)}}return $e(l,o,s)}function Kt(n,o,s,l=0,d){if(null!==n){if(2048&o[u.Wg1]&&!(2&l)){const v=function Ci(n,o,s,l,d){let g=n,v=o;for(;null!==g&&null!==v&&2048&v[u.Wg1]&&!(0,u.EFk)(v);){const C=bt(g,v,s,2|l,ri);if(C!==ri)return C;let b=g.parent;if(!b){const W=v[u.oMQ];if(W){const J=W.get(s,ri,l);if(J!==ri)return J}b=li(v),v=v[u.X5O]}g=b}return d}(n,o,s,l,ri);if(v!==ri)return v}const g=bt(n,o,s,l,ri);if(g!==ri)return g}return nt(o,s,l,d)}function bt(n,o,s,l,d){const g=function Rr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const o=n.hasOwnProperty(u.p9y)?n[u.p9y]:void 0;return"number"==typeof o?o>=0?o&Fn:Di:o}(s);if("function"==typeof g){if(!(0,u.ihb)(o,n,l))return 1&l?$e(d,s,l):nt(o,s,l,d);try{let v;if(v=g(l),null!=v||8&l)return v;(0,u.$Hz)(s)}finally{(0,u.niQ)()}}else if("number"==typeof g){let v=null,C=$i(n,o),b=Bt,W=1&l?o[u.b5C][u.qlT]:null;for((-1===C||4&l)&&(b=-1===C?Ti(n,o):o[C+8],b!==Bt&&Hn(l,!1)?(v=o[u.eDl],C=Er(b),o=Jr(b,o)):C=-1);-1!==C;){const J=o[u.eDl];if(Pr(g,C,J.data)){const me=Vn(C,o,s,v,l,W);if(me!==ri)return me}b=o[C+8],b!==Bt&&Hn(l,o[u.eDl].data[C+8]===W)&&Pr(g,C,o)?(v=J,C=Er(b),o=Jr(b,o)):C=-1}}return d}function Vn(n,o,s,l,d,g){const v=o[u.eDl],C=v.data[n+8],J=Kn(C,v,s,null==l?(0,u.Qs1)(C)&&Ur:l!=v&&!!(3&C.type),1&d&&g===C);return null!==J?Lr(o,v,J,C,d):ri}function Kn(n,o,s,l,d){const g=n.providerIndexes,v=o.data,C=1048575&g,b=n.directiveStart,J=g>>20,ze=d?C+J:n.directiveEnd;for(let Ye=l?C:C+J;Ye<ze;Ye++){const sn=v[Ye];if(Ye<b&&s===sn||Ye>=b&&sn.type===s)return Ye}if(d){const Ye=v[b];if(Ye&&(0,u.JlV)(Ye)&&Ye.type===s)return b}return null}function Lr(n,o,s,l,d){let g=n[s];const v=o.data;if(g instanceof vn){const C=g;if(C.resolving){const Ye=(0,u.PP7)(v[s]);throw(0,u.PQT)(Ye)}const b=Hr(C.canSeeViewProviders);C.resolving=!0;const me=C.injectImpl?(0,u.a2B)(C.injectImpl):null;(0,u.ihb)(n,l,0);try{g=n[s]=C.factory(void 0,d,v,n,l),o.firstCreatePass&&s>=l.directiveStart&&function yn(n,o,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=jt(o);(s.preOrderHooks??=[]).push(n,v),(s.preOrderCheckHooks??=[]).push(n,v)}d&&(s.preOrderHooks??=[]).push(0-n,d),g&&((s.preOrderHooks??=[]).push(n,g),(s.preOrderCheckHooks??=[]).push(n,g))}(s,v[s],o)}finally{null!==me&&(0,u.a2B)(me),Hr(b),C.resolving=!1,(0,u.niQ)()}}return g}function Pr(n,o,s){return!!(s[o+(n>>ni)]&1<<n)}function Hn(n,o){return!(2&n||1&n&&o)}class Dr{_tNode;_lView;constructor(o,s){this._tNode=o,this._lView=s}get(o,s,l){return Kt(this._tNode,this._lView,o,(0,u.hjC)(l),s)}}function Di(){return new Dr((0,u.Mx4)(),(0,u.OAn)())}function pi(n){return Ce(()=>{const o=n.prototype.constructor,s=o[u.zSs]||Gr(o),l=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==l;){const g=d[u.zSs]||Gr(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Gr(n){return(0,u.Jzi)(n)?()=>{const o=Gr((0,u.nl4)(n));return o&&o()}:(0,u.wGu)(n)}function li(n){const o=n[u.eDl],s=o.type;return 2===s?o.declTNode:1===s?n[u.qlT]:null}function ki(n){return function Be(n,o){if("class"===o)return n.classes;if("style"===o)return n.styles;const s=n.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const g=s[d];if(on(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(g===o)return s[d+1];d+=2}}}return null}((0,u.Mx4)(),n)}const xt=Me("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>ki(n)}));let It=null;function ye(n){return Qe(function nn(){return It=It||new ln}().parameters(n))}function Qe(n){return n.map(o=>function Ae(n){const o={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let s=0;s<n.length;s++){const l=n[s];if(void 0===l)continue;const d=Object.getPrototypeOf(l);if(l instanceof st||"Optional"===d.ngMetadataName)o.optional=!0;else if(l instanceof et||"SkipSelf"===d.ngMetadataName)o.skipSelf=!0;else if(l instanceof it||"Self"===d.ngMetadataName)o.self=!0;else if(l instanceof vt||"Host"===d.ngMetadataName)o.host=!0;else if(l instanceof We)o.token=l.token;else if(l instanceof xt){if(void 0===l.attributeName)throw new u.buA(204,!1);o.attribute=l.attributeName}else o.token=l}else o.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return o}(o))}const Qt=(0,u.kLh)({provide:String,useValue:u.kLh});function Un(n){return void 0!==n.useClass}function pr(n){return void 0!==n.useFactory}const xo=pe("Injectable",void 0,void 0,0,(n,o)=>function at(n,o){let s=null,l=null;n.hasOwnProperty(u.yAH)||Object.defineProperty(n,u.yAH,{get:()=>(null===s&&(s=Rt().compileInjectable(Fe,`ng:///${n.name}/\u0275prov.js`,function Ki(n,o){const s=o||{providedIn:null},l={name:n.name,type:n,typeArgumentCount:0,providedIn:s.providedIn};return(Un(s)||pr(s))&&void 0!==s.deps&&(l.deps=Qe(s.deps)),Un(s)?l.useClass=s.useClass:function tr(n){return Qt in n}(s)?l.useValue=s.useValue:pr(s)?l.useFactory=s.useFactory:function zr(n){return void 0!==n.useExisting}(s)&&(l.useExisting=s.useExisting),l}(n,o))),s)}),n.hasOwnProperty(u.zSs)||Object.defineProperty(n,u.zSs,{get:()=>{if(null===l){const d=Rt();l=d.compileFactory(Fe,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:ye(n),target:d.FactoryTarget.Injectable})}return l},configurable:!0})}(n,o));function po(){return Zr((0,u.Mx4)(),(0,u.OAn)())}function Zr(n,o){return new gi((0,u.d31)(n,o))}let gi=(()=>class n{nativeElement;constructor(s){this.nativeElement=s}static __NG_ELEMENT_ID__=po})();function io(n){return n instanceof gi?n.nativeElement:n}function Ao(){return this._results[Symbol.iterator]()}class yo{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $.B}constructor(o=!1){this._emitDistinctChangesOnly=o}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){this.dirty=!1;const l=(0,u.Bqz)(o);(this._changesDetected=!(0,u.ng7)(this._results,l,s))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(o){this._onDirty=o}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ao}function Li(n){return!(128&~n.flags)}var ji=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ji||{});const so=new Map;let ve=0;function ft(n){so.delete(n[u.ID])}const ue="__ngContext__";function ot(n,o){(0,u.q$2)(o)?(n[ue]=o[u.ID],function ne(n){so.set(n[u.ID],n)}(o)):n[ue]=o}function H(n){return X(n[u.EJG])}function Br(n){return X(n[u.K29])}function X(n){for(;null!==n&&!(0,u.A0l)(n);)n=n[u.K29];return n}let Et;function Jt(n){Et=n}function _n(){if(void 0!==Et)return Et;if(typeof document<"u")return document;throw new u.buA(210,!1)}const Nn=new u.nKC("",{providedIn:"root",factory:()=>or}),or="ng",ur=new u.nKC(""),Tr=new u.nKC("",{providedIn:"platform",factory:()=>"unknown"}),mi=new u.nKC("",{providedIn:"root",factory:()=>_n().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Qi={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Ni=new u.nKC("",{providedIn:"root",factory:()=>Qi});function Ho(){const n=new Yi;return n.store=function Fo(n,o){const s=n.getElementById(o+"-state");if(s?.textContent)try{return JSON.parse(s.textContent)}catch(l){console.warn("Exception while restoring TransferState for app "+o,l)}return{}}(_n(),(0,u.WQX)(Nn)),n}let Yi=(()=>{class n{static \u0275prov=(0,u.jDH)({token:n,providedIn:"root",factory:Ho});store={};onSerializeCallbacks={};get(s,l){return void 0!==this.store[s]?this.store[s]:l}set(s,l){this.store[s]=l}remove(s){delete this.store[s]}hasKey(s){return this.store.hasOwnProperty(s)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(s,l){this.onSerializeCallbacks[s]=l}toJson(){for(const s in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(s))try{this.store[s]=this.onSerializeCallbacks[s]()}catch(l){console.warn("Exception in onSerialize callback: ",l)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const Ji=new u.nKC("",{providedIn:"root",factory:()=>!1}),j=new u.nKC(""),ie=new u.nKC(""),je={passive:!0,capture:!0},jn=new WeakMap,qn=new WeakMap,di=new WeakMap,Go=["click","keydown"],es=["mouseenter","mouseover","focusin"];let vo=null,ds=0;class js{callbacks=new Set;listener=()=>{for(const o of this.callbacks)o()}}function lu(n,o){let s=qn.get(n);if(!s){s=new js,qn.set(n,s);for(const l of Go)n.addEventListener(l,s.listener,je)}return s.callbacks.add(o),()=>{const{callbacks:l,listener:d}=s;if(l.delete(o),0===l.size){qn.delete(n);for(const g of Go)n.removeEventListener(g,d,je)}}}function xa(n,o){let s=jn.get(n);if(!s){s=new js,jn.set(n,s);for(const l of es)n.addEventListener(l,s.listener,je)}return s.callbacks.add(o),()=>{const{callbacks:l,listener:d}=s;if(l.delete(o),0===l.size){for(const g of es)n.removeEventListener(g,d,je);jn.delete(n)}}}let Wl=(n,o,s,l)=>{};const bs=new u.nKC("");function Ws(n){return!(32&~n.flags)}let ts=()=>null;function ol(n,o,s=!1){return ts(n,o,s)}function Ks(n){let o=n._lView;return 2===o[u.eDl].type?null:((0,u.EFk)(o)&&(o=o[u.Yw1]),o)}function Eo(n){return n.get(j,!1,{optional:!0})}function Cc(n,o){const s=n.contentQueries;if(null!==s){const l=(0,k.Ht)(null);try{for(let d=0;d<s.length;d+=2){const v=s[d+1];if(-1!==v){const C=n.data[v];(0,u.GA0)(s[d]),C.contentQueries(2,o[v],v)}}}finally{(0,k.Ht)(l)}}}function _i(n,o,s){(0,u.GA0)(0);const l=(0,k.Ht)(null);try{o(n,s)}finally{(0,k.Ht)(l)}}function mr(n,o,s){if((0,u.srX)(o)){const l=(0,k.Ht)(null);try{const g=o.directiveEnd;for(let v=o.directiveStart;v<g;v++){const C=n.data[v];C.contentQueries&&C.contentQueries(1,s[v],v)}}finally{(0,k.Ht)(l)}}}var yi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yi||{});let Qr,D;function Xl(){if(void 0===Qr&&(Qr=null,u.laP.trustedTypes))try{Qr=u.laP.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qr}function Si(n){return Xl()?.createHTML(n)||n}function M(){if(void 0===D&&(D=null,u.laP.trustedTypes))try{D=u.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return D}function A(n){return M()?.createHTML(n)||n}function O(n){return M()?.createScript(n)||n}function G(n){return M()?.createScriptURL(n)||n}class ae{changingThisBreaksApplicationSecurity;constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${u.ok8})`}}function Ui(n){return n instanceof ae?n.changingThisBreaksApplicationSecurity:n}function Yo(n,o){const s=function Xo(n){return n instanceof ae&&n.getTypeName()||null}(n);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see ${u.ok8})`)}return s===o}function Ia(n){const o=new na(n);return function Uh(){try{return!!(new window.DOMParser).parseFromString(Si(""),"text/html")}catch{return!1}}()?new ql(o):o}class ql{inertDocumentHelper;constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const s=(new window.DOMParser).parseFromString(Si(o),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(o):(s.firstChild?.remove(),s)}catch{return null}}}class na{defaultDoc;inertDocument;constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const s=this.inertDocument.createElement("template");return s.innerHTML=Si(o),s}}const ml=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ta(n){return(n=String(n)).match(ml)?n:"unsafe:"+n}function Ss(n){const o={};for(const s of n.split(","))o[s]=!0;return o}function Ac(...n){const o={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(o[l]=!0);return o}const Bh=Ss("area,br,col,hr,img,wbr"),fs=Ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_l=Ss("rp,rt"),fu=Ac(Bh,Ac(fs,Ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ac(_l,Ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ac(_l,fs)),pu=Ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ba=Ac(pu,Ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$h=Ss("script,style,template");class Ad{sanitizedSomething=!1;buf=[];sanitizeChildren(o){let s=o.firstChild,l=!0,d=[];for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)d.push(s),s=jh(s);else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let g=bd(s);if(g){s=g;break}s=d.pop()}return this.buf.join("")}startElement(o){const s=gu(o).toLowerCase();if(!fu.hasOwnProperty(s))return this.sanitizedSomething=!0,!$h.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=o.attributes;for(let d=0;d<l.length;d++){const g=l.item(d),v=g.name,C=v.toLowerCase();if(!Ba.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let b=g.value;pu[C]&&(b=Ta(b)),this.buf.push(" ",v,'="',S(b),'"')}return this.buf.push(">"),!0}endElement(o){const s=gu(o).toLowerCase();fu.hasOwnProperty(s)&&!Bh.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(o){this.buf.push(S(o))}}function bd(n){const o=n.nextSibling;if(o&&n!==o.previousSibling)throw bc(o);return o}function jh(n){const o=n.firstChild;if(o&&function gp(n,o){return(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,o))throw bc(o);return o}function gu(n){const o=n.nodeName;return"string"==typeof o?o:"FORM"}function bc(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const wd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mp=/([^\#-~ |!])/g;function S(n){return n.replace(/&/g,"&amp;").replace(wd,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(mp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Y;function $t(n){return"content"in n&&function En(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var lr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(lr||{});function Uo(n){const o=ia();return o?o.sanitize(lr.URL,n)||"":Yo(n,"URL")?Ui(n):Ta((0,u.eFE)(n))}function co(n){const o=ia();if(o)return G(o.sanitize(lr.RESOURCE_URL,n)||"");if(Yo(n,"ResourceURL"))return G(Ui(n));throw new u.buA(904,!1)}function Wh(n,o,s){return function _p(n,o){return"src"===o&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===o&&("base"===n||"link"===n)?co:Uo}(o,s)(n)}function ia(){const n=(0,u.OAn)();return n&&n[u.M0L].sanitizer}const mu=/^>|^->|<!--|-->|--!>|<!-$/g,hm=/(<|>)/g;function Hh(n){return n.ownerDocument.defaultView}function Ts(n){return n instanceof Function?n():n}function Md(n){if(!(0,u.xUg)(n))throw new u.buA(906,`The ${(0,u.PP7)(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function fm(n,o,s){let l=n.length;for(;;){const d=n.indexOf(o,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||n.charCodeAt(d+g)<=32)return d}s=d+1}}const pm="ng-template";function Uy(n,o,s,l){let d=0;if(l){for(;d<o.length&&"string"==typeof o[d];d+=2)if("class"===o[d]&&-1!==fm(o[d+1].toLowerCase(),s,0))return!0}else if(qh(n))return!1;if(d=o.indexOf(1,d),d>-1){let g;for(;++d<o.length&&"string"==typeof(g=o[d]);)if(g.toLowerCase()===s)return!0}return!1}function qh(n){return 4===n.type&&n.value!==pm}function gm(n,o,s){return o===(4!==n.type||s?n.value:pm)}function ps(n,o,s){let l=4;const d=n.attrs,g=null!==d?function _m(n){for(let o=0;o<n.length;o++)if(on(n[o]))return o;return n.length}(d):0;let v=!1;for(let C=0;C<o.length;C++){const b=o[C];if("number"!=typeof b){if(!v)if(4&l){if(l=2|1&l,""!==b&&!gm(n,b,s)||""===b&&1===o.length){if(sa(l))return!1;v=!0}}else if(8&l){if(null===d||!Uy(n,d,b,s)){if(sa(l))return!1;v=!0}}else{const W=o[++C],J=go(b,d,qh(n),s);if(-1===J){if(sa(l))return!1;v=!0;continue}if(""!==W){let me;if(me=J>g?"":d[J+1].toLowerCase(),2&l&&W!==me){if(sa(l))return!1;v=!0}}}}else{if(!v&&!sa(l)&&!sa(b))return!1;if(v&&sa(b))continue;v=!1,l=b|1&l}}return sa(l)||v}function sa(n){return!(1&n)}function go(n,o,s,l){if(null===o)return-1;let d=0;if(l||!s){let g=!1;for(;d<o.length;){const v=o[d];if(v===n)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++d];for(;"string"==typeof C;)C=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function Pd(n,o){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===o)return s;s++}return-1}(o,n)}function Aa(n,o,s=!1){for(let l=0;l<o.length;l++)if(ps(n,o[l],s))return!0;return!1}function By(n,o){e:for(let s=0;s<o.length;s++){const l=o[s];if(n.length===l.length){for(let d=0;d<n.length;d++)if(n[d]!==l[d])continue e;return!0}}return!1}function Dp(n,o){return n?":not("+o.trim()+")":o}function hi(n){let o=n[0],s=1,l=2,d="",g=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&l){const C=n[++s];d+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!sa(v)&&(o+=Dp(g,d),d=""),l=v,g=g||!sa(l);s++}return""!==d&&(o+=Dp(g,d)),o}const Bi={};function Od(n,o){return n.createText(o)}function Cp(n,o,s){n.setValue(o,s)}function Sc(n,o){return n.createComment(function wc(n){return n.replace(mu,o=>o.replace(hm,"\u200b$1\u200b"))}(o))}function Rc(n,o,s){return n.createElement(o,s)}function Yl(n,o,s,l,d){n.insertBefore(o,s,l,d)}function Nd(n,o,s){n.appendChild(o,s)}function ym(n,o,s,l,d){null!==l?Yl(n,o,s,l,d):Nd(n,o,s)}function Au(n,o,s,l){n.removeChild(null,o,s,l)}function vm(n,o,s){const{mergedAttrs:l,classes:d,styles:g}=s;null!==l&&function Xt(n,o,s){let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const g=s[l++],v=s[l++],C=s[l++];n.setAttribute(o,v,C,g)}else{const g=d,v=s[++l];On(g)?n.setProperty(o,g,v):n.setAttribute(o,g,v),l++}}}(n,o,l),null!==d&&function $y(n,o,s){""===s?n.removeAttribute(o,"class"):n.setAttribute(o,"class",s)}(n,o,d),null!==g&&function Qh(n,o,s){n.setAttribute(o,"style",s)}(n,o,g)}function xd(n,o,s,l,d,g,v,C,b,W,J){const me=u.Yw1+l,ze=me+d,Ye=function Em(n,o){const s=[];for(let l=0;l<o;l++)s.push(l<n?null:Bi);return s}(me,ze),sn="function"==typeof W?W():W;return Ye[u.eDl]={type:n,blueprint:Ye,template:s,queries:null,viewQuery:C,declTNode:o,data:Ye.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:sn,incompleteFirstPass:!1,ssrId:J}}function kd(n){const o=n.tView;return null===o||o.incompleteFirstPass?n.tView=xd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):o}function Mc(n,o,s,l,d,g,v,C,b,W,J){const me=o.blueprint.slice();return me[u.jgP]=d,me[u.Wg1]=1228|l,(null!==W||n&&2048&n[u.Wg1])&&(me[u.Wg1]|=2048),(0,u.HUe)(me),me[u.f7T]=me[u.X5O]=n,me[u.SKP]=s,me[u.M0L]=v||n&&n[u.M0L],me[u.GpT]=C||n&&n[u.GpT],me[u.YEL]=b||n&&n[u.YEL]||null,me[u.qlT]=g,me[u.ID]=function xe(){return ve++}(),me[u.tcA]=J,me[u.oMQ]=W,me[u.b5C]=2==o.type?n[u.b5C]:me,me}function Pc(n){let o=16;return n.signals?o=4096:n.onPush&&(o=64),o}function Zl(n,o,s,l){if(0===s)return-1;const d=o.length;for(let g=0;g<s;g++)o.push(l),n.blueprint.push(l),n.data.push(null);return d}function bu(n,o){return n[u.EJG]?n[u.Yrj][u.K29]=o:n[u.EJG]=o,n[u.Yrj]=o,o}function Im(n=1){bp((0,u.klJ)(),(0,u.OAn)(),(0,u._px)()+n,!1)}function bp(n,o,s,l){if(!l)if(3&~o[u.Wg1]){const g=n.preOrderHooks;null!==g&&yt(o,g,0,s)}else{const g=n.preOrderCheckHooks;null!==g&&In(o,g,s)}(0,u.ypq)(s)}var Xs=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Xs||{});function wu(n,o,s,l){const d=(0,k.Ht)(null);try{const[g,v,C]=n.inputs[s];let b=null;0!==(v&Xs.SignalBased)&&(b=o[g][k.bh]),null!==b&&void 0!==b.transformFn?l=b.transformFn(l):null!==C&&(l=C.call(o,l)),null!==n.setInput?n.setInput(o,b,l,s,g):kt(o,b,g,l)}finally{(0,k.Ht)(d)}}var ec=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ec||{});let Yh;function ba(n,o){return Yh(n,o)}function rs(n){if(!n)return 0;const o=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*o}function vl(n,o){return n.getPropertyValue(o).split(",").map(l=>l.trim())}function Fd(n,o){return void 0!==n&&n.duration>o.duration}function Ru(n){return(null!=n.animationName||null!=n.propertyName)&&n.duration>0}function Oc(n,o,s){if(!s)return;const l=n.getAnimations();return 0===l.length?function Jh(n,o){const s=getComputedStyle(n),l=function Ld(n){const o=vl(n,"animation-name"),s=vl(n,"animation-delay"),l=vl(n,"animation-duration"),d={animationName:"",propertyName:void 0,duration:0};for(let g=0;g<o.length;g++){const v=rs(s[g])+rs(l[g]);v>d.duration&&(d.animationName=o[g],d.duration=v)}return d}(s),d=function Tm(n){const o=vl(n,"transition-property"),s=vl(n,"transition-duration"),l=vl(n,"transition-delay"),d={propertyName:"",duration:0,animationName:void 0};for(let g=0;g<o.length;g++){const v=rs(l[g])+rs(s[g]);v>d.duration&&(d.propertyName=o[g],d.duration=v)}return d}(s),g=l.duration>d.duration?l:d;Fd(o.get(n),g)||Ru(g)&&o.set(n,g)}(n,o):function Vd(n,o,s){let l={animationName:void 0,propertyName:void 0,duration:0};for(const d of s){const g=d.effect?.getTiming(),v="number"==typeof g?.duration?g.duration:0;let b,W,C=(g?.delay??0)+v;d.animationName?W=d.animationName:b=d.transitionProperty,C>=l.duration&&(l={animationName:W,propertyName:b,duration:C})}Fd(o.get(n),l)||Ru(l)&&o.set(n,l)}(n,o,l)}const El=new Set;var Zh=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Zh||{});const Ud=new u.nKC(""),Ha=new Set;function gs(n){Ha.has(n)||(Ha.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}const Ps=!1,Os=class wp extends $.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(o=!1){super(),this.__isAsync=o,(0,u.M6u)()&&(this.destroyRef=(0,u.WQX)(u.abz,{optional:!0})??void 0,this.pendingTasks=(0,u.WQX)(u.rev,{optional:!0})??void 0)}emit(o){const s=(0,k.Ht)(null);try{super.next(o)}finally{(0,k.Ht)(s)}}subscribe(o,s,l){let d=o,g=s||(()=>null),v=l;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),g=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(g=this.wrapInTimeout(g),d&&(d=this.wrapInTimeout(d)),v&&(v=this.wrapInTimeout(v)));const C=super.subscribe({next:d,error:g,complete:v});return o instanceof Te.yU&&o.add(C),C}wrapInTimeout(o){return s=>{const l=this.pendingTasks?.add();setTimeout(()=>{try{o(s)}finally{void 0!==l&&this.pendingTasks?.remove(l)}})}}};function Sp(n){let o,s;function l(){n=u.lQ1;try{void 0!==s&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(s),void 0!==o&&clearTimeout(o)}catch{}}return o=setTimeout(()=>{n(),l()}),"function"==typeof requestAnimationFrame&&(s=requestAnimationFrame(()=>{n(),l()})),()=>l()}function wa(n){return queueMicrotask(()=>n()),()=>{n=u.lQ1}}const Il="isAngularZone",ef=Il+"_ID";let jy=0;class dr{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Os(!1);onMicrotaskEmpty=new Os(!1);onStable=new Os(!1);onError=new Os(!1);constructor(o){const{enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1,scheduleInRootZone:g=Ps}=o;if(typeof Zone>"u")throw new u.buA(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!d&&l,v.shouldCoalesceRunChangeDetection=d,v.callbackScheduled=!1,v.scheduleInRootZone=g,function Pp(n){const o=()=>{!function Mp(n){function o(){Sp(()=>{n.callbackScheduled=!1,tf(n),n.isCheckStableRunning=!0,Bd(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{o()}):n._outer.run(()=>{o()}),tf(n))}(n)},s=jy++;n._inner=n._inner.fork({name:"angular",properties:{[Il]:!0,[ef]:s,[ef+s]:!0},onInvokeTask:(l,d,g,v,C,b)=>{if(function Mu(n){return Tl(n,"__ignore_ng_zone__")}(b))return l.invokeTask(g,v,C,b);try{return $d(n),l.invokeTask(g,v,C,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&o(),Dm(n)}},onInvoke:(l,d,g,v,C,b,W)=>{try{return $d(n),l.invoke(g,v,C,b,W)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function Pu(n){return Tl(n,"__scheduler_tick__")}(b)&&o(),Dm(n)}},onHasTask:(l,d,g,v)=>{l.hasTask(g,v),d===g&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,tf(n),Bd(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(l,d,g,v)=>(l.handleError(g,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Il)}static assertInAngularZone(){if(!dr.isInAngularZone())throw new u.buA(909,!1)}static assertNotInAngularZone(){if(dr.isInAngularZone())throw new u.buA(909,!1)}run(o,s,l){return this._inner.run(o,s,l)}runTask(o,s,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,Wy,u.lQ1,u.lQ1);try{return g.runTask(v,s,l)}finally{g.cancelTask(v)}}runGuarded(o,s,l){return this._inner.runGuarded(o,s,l)}runOutsideAngular(o){return this._outer.run(o)}}const Wy={};function Bd(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function $d(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Dm(n){n._nesting--,Bd(n)}class Op{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Os;onMicrotaskEmpty=new Os;onStable=new Os;onError=new Os;run(o,s,l){return o.apply(s,l)}runGuarded(o,s,l){return o.apply(s,l)}runOutsideAngular(o){return o()}runTask(o,s,l,d){return o.apply(s,l)}}function Tl(n,o){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[o]}function Cm(n="zone.js",o){return"noop"===n?new Op:"zone.js"===n?new dr(o):n}let tc=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,u.jDH)({token:n,providedIn:"root",factory:()=>new n})}return n})();const Np=[0,1,2,3];let Ou=(()=>{class n{ngZone=(0,u.WQX)(dr);scheduler=(0,u.WQX)(u.hk6);errorHandler=(0,u.WQX)(u.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,u.WQX)(Ud,{optional:!0})}execute(){const s=this.sequences.size>0;s&&Ht(16),this.executing=!0;for(const l of Np)for(const d of this.sequences)if(!d.erroredOrDestroyed&&d.hooks[l])try{d.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,d.hooks[l])(d.pipelinedValue),d.snapshot))}catch(g){d.erroredOrDestroyed=!0,this.errorHandler?.handleError(g)}this.executing=!1;for(const l of this.sequences)l.afterRun(),l.once&&(this.sequences.delete(l),l.destroy());for(const l of this.deferredRegistrations)this.sequences.add(l);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),s&&Ht(17)}register(s){const{view:l}=s;void 0!==l?((l[u.JEi]??=[]).push(s),(0,u.blu)(l),l[u.Wg1]|=8192):this.executing?this.deferredRegistrations.add(s):this.addSequence(s)}addSequence(s){this.sequences.add(s),this.scheduler.notify(7)}unregister(s){this.executing&&this.sequences.has(s)?(s.erroredOrDestroyed=!0,s.pipelinedValue=void 0,s.once=!0):(this.sequences.delete(s),this.deferredRegistrations.delete(s))}maybeTrace(s,l){return l?l.run(Zh.AFTER_NEXT_RENDER,s):s()}static \u0275prov=(0,u.jDH)({token:n,providedIn:"root",factory:()=>new n})}return n})();class nf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(o,s,l,d,g,v=null){this.impl=o,this.hooks=s,this.view=l,this.once=d,this.snapshot=v,this.unregisterOnDestroy=g?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const o=this.view?.[u.JEi];o&&(this.view[u.JEi]=o.filter(s=>s!==this))}}function Dl(n,o){const s=o?.injector??(0,u.WQX)(u.zZn);return gs("NgAfterNextRender"),bm(n,s,o,!0)}function bm(n,o,s,l){const d=o.get(tc);d.impl??=o.get(Ou);const g=o.get(Ud,null,{optional:!0}),v=!0!==s?.manualCleanup?o.get(u.abz):null,C=o.get(u.r4V,null,{optional:!0}),b=new nf(d.impl,function Am(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n),C?.view,l,v,g?.snapshot(null));return d.impl.register(b),b}const Nu=new u.nKC("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ms(n,o){const s=n.get(Nu);if(Array.isArray(o))for(const l of o)s.queue.add(l);else s.queue.add(o);s.scheduler&&s.scheduler(n)}function xu(n){const o=n.get(Nu);o.isScheduled||(Dl(()=>{o.isScheduled=!1;for(let s of o.queue)s();o.queue.clear()},{injector:n}),o.isScheduled=!0)}function jd(n){const o=n.get(Nu);o.scheduler=xu,o.scheduler(n)}function Nc(n,o){for(const[s,l]of o)ms(n,l.animateFns)}function sf(n,o,s,l){const d=n?.[u.Isx]?.enter;null!==o&&d&&d.has(s.index)&&Nc(l,d)}function Cl(n,o,s,l,d,g,v,C){if(null!=d){let b,W=!1;(0,u.A0l)(d)?b=d:(0,u.q$2)(d)&&(W=!0,d=d[u.jgP]);const J=(0,u.IvY)(d);0===n&&null!==l?(sf(C,l,g,s),null==v?Nd(o,l,J):Yl(o,l,J,v||null,!0)):1===n&&null!==l?(sf(C,l,g,s),Yl(o,l,J,v||null,!0)):2===n?af(C,g,s,me=>{Au(o,J,W,me)}):3===n&&af(C,g,s,()=>{o.destroyNode(J)}),null!=b&&function T(n,o,s,l,d,g,v){const C=l[u.s6P];C!==(0,u.IvY)(l)&&Cl(o,n,s,g,C,d,v);for(let W=u.Y20;W<l.length;W++){const J=l[W];E(J[u.eDl],J,n,o,g,C)}}(o,n,s,b,g,l,v)}}function xc(n,o){xp(n,o),o[u.jgP]=null,o[u.qlT]=null}function xp(n,o){o[u.M0L].changeDetectionScheduler?.notify(9),E(n,o,o[u.GpT],2,null,null)}function Wd(n,o){const s=n[u.nfM],l=s.indexOf(o);s.splice(l,1)}function Ga(n,o){if((0,u.EPY)(o))return;const s=o[u.GpT];s.destroyNode&&E(n,o,s,3,null,null),function Al(n){let o=n[u.EJG];if(!o)return Kd(n[u.eDl],n);for(;o;){let s=null;if((0,u.q$2)(o))s=o[u.EJG];else{const l=o[u.Y20];l&&(s=l)}if(!s){for(;o&&!o[u.K29]&&o!==n;)(0,u.q$2)(o)&&Kd(o[u.eDl],o),o=o[u.f7T];null===o&&(o=n),(0,u.q$2)(o)&&Kd(o[u.eDl],o),s=o&&o[u.K29]}o=s}}(o)}function Kd(n,o){if((0,u.EPY)(o))return;const s=(0,k.Ht)(null);try{o[u.Wg1]&=-129,o[u.Wg1]|=256,o[u.Iaj]&&(0,k.XR)(o[u.Iaj]),function cf(n,o){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const d=o[s[l]];if(!(d instanceof vn)){const g=s[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=d[g[v]],b=g[v+1];Ht(4,C,b);try{b.call(C)}finally{Ht(5,C,b)}}else{Ht(4,d,g);try{g.call(d)}finally{Ht(5,d,g)}}}}}(n,o),function Ds(n,o){const s=n.cleanup,l=o[u.VVG];if(null!==s)for(let v=0;v<s.length-1;v+=2)if("string"==typeof s[v]){const C=s[v+3];C>=0?l[C]():l[-C].unsubscribe(),v+=2}else s[v].call(l[s[v+1]]);null!==l&&(o[u.VVG]=null);const d=o[u.Czx];if(null!==d){o[u.Czx]=null;for(let v=0;v<d.length;v++)(0,d[v])()}const g=o[u.tQN];if(null!==g){o[u.tQN]=null;for(const v of g)v.destroy()}}(n,o),1===o[u.eDl].type&&o[u.GpT].destroy();const l=o[u.rQE];if(null!==l&&(0,u.A0l)(o[u.f7T])){l!==o[u.f7T]&&Wd(l,o);const d=o[u.Ds7];null!==d&&d.detachView(n)}ft(o)}finally{(0,k.Ht)(s)}}function af(n,o,s,l){const d=n?.[u.Isx];return null!=d&&null!=d.leave&&d.leave.has(o.index)?d.skipLeaveAnimations?(d.skipLeaveAnimations=!1,l(!1)):(n&&El.add(n),void ms(s,()=>{if(d.leave&&d.leave.has(o.index)){const v=d.leave.get(o.index),C=[];if(v)for(let b=0;b<v.animateFns.length;b++){const W=v.animateFns[b],{promise:J}=W();C.push(J)}d.running=Promise.allSettled(C),function lf(n,o){const s=n[u.Isx]?.running;s?s.then(()=>{n[u.Isx].running=void 0,El.delete(n),o(!0)}):o(!1)}(n,l)}else n&&El.delete(n),l(!1)})):l(!1)}function Hd(n,o,s){return qo(n,o.parent,s)}function qo(n,o,s){let l=o;for(;null!==l&&168&l.type;)l=(o=l).parent;if(null===l)return s[u.jgP];if((0,u.Qs1)(l)){const{encapsulation:d}=n.data[l.directiveStart+l.componentOffset];if(d===yi.None||d===yi.Emulated)return null}return(0,u.d31)(l,s)}function Yr(n,o,s){return uf(n,o,s)}function kc(n,o,s){return 40&n.type?(0,u.d31)(n,s):null}let Lc,uf=kc;function kp(n,o){uf=n,Lc=o}function zd(n,o,s,l){const d=Hd(n,l,o),g=o[u.GpT],C=Yr(l.parent||o[u.qlT],l,o);if(null!=d)if(Array.isArray(s))for(let b=0;b<s.length;b++)ym(g,d,s[b],C,!1);else ym(g,d,s,C,!1);void 0!==Lc&&Lc(g,l,o,s,d)}function nc(n,o){if(null!==o){const s=o.type;if(3&s)return(0,u.d31)(o,n);if(4&s)return ku(-1,n[o.index]);if(8&s){const l=o.child;if(null!==l)return nc(n,l);{const d=n[o.index];return(0,u.A0l)(d)?ku(-1,d):(0,u.IvY)(d)}}if(128&s)return nc(n,o.next);if(32&s)return ba(o,n)()||(0,u.IvY)(n[o.index]);{const l=Lp(n,o);return null!==l?Array.isArray(l)?l[0]:nc((0,u._0$)(n[u.b5C]),l):nc(n,o.next)}}return null}function Lp(n,o){return null!==o?n[u.b5C][u.qlT].projection[o.projection]:null}function ku(n,o){const s=u.Y20+n+1;if(s<o.length){const l=o[s],d=l[u.eDl].firstChild;if(null!==d)return nc(l,d)}return o[u.s6P]}function Fc(n,o,s,l,d,g,v){for(;null!=s;){const C=l[u.YEL];if(128===s.type){s=s.next;continue}const b=l[s.index],W=s.type;if(v&&0===o&&(b&&ot((0,u.IvY)(b),l),s.flags|=2),!Ws(s))if(8&W)Fc(n,o,s.child,l,d,g,!1),Cl(o,n,C,d,b,s,g,l);else if(32&W){const J=ba(s,l);let me;for(;me=J();)Cl(o,n,C,d,me,s,g,l);Cl(o,n,C,d,b,s,g,l)}else 16&W?m(n,o,l,s,d,g):Cl(o,n,C,d,b,s,g,l);s=v?s.projectionNext:s.next}}function E(n,o,s,l,d,g){Fc(s,l,n.firstChild,o,d,g,!1)}function m(n,o,s,l,d,g){const v=s[u.b5C],b=v[u.qlT].projection[l.projection];if(Array.isArray(b))for(let W=0;W<b.length;W++)Cl(o,n,s[u.YEL],d,b[W],l,g,s);else{let W=b;const J=v[u.f7T];Li(l)&&(W.flags|=128),Fc(n,o,W,J,d,g,!0)}}function se(n,o,s,l,d){const g=(0,u._px)(),v=2&l;try{(0,u.ypq)(-1),v&&o.length>u.Yw1&&bp(n,o,u.Yw1,!1),Ht(v?2:0,d,s),s(l,d)}finally{(0,u.ypq)(g),Ht(v?3:1,d,s)}}function qe(n,o,s){(function Gd(n,o,s){const l=s.directiveStart,d=s.directiveEnd;(0,u.Qs1)(s)&&function Jl(n,o,s){const l=(0,u.d31)(o,n),d=kd(s),g=n[u.M0L].rendererFactory,v=bu(n,Mc(n,d,null,Pc(s),l,o,null,g.createRenderer(l,s),null,null,null));n[o.index]=v}(o,s,n.data[l+s.componentOffset]),n.firstCreatePass||si(s,o);const g=s.initialInputs;for(let v=l;v<d;v++){const C=n.data[v],b=Lr(o,n,v,s);ot(b,o),null!==g&&qd(0,v-l,b,C,0,g),(0,u.JlV)(C)&&((0,u.KdJ)(s.index,o)[u.SKP]=Lr(o,n,v,s))}})(n,o,s),!(64&~s.flags)&&function Vp(n,o,s){const l=s.directiveStart,d=s.directiveEnd,g=s.index,v=(0,u.Z9v)();try{(0,u.ypq)(g);for(let C=l;C<d;C++){const b=n.data[C],W=o[C];(0,u.RZ9)(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Lu(b,W)}}finally{(0,u.ypq)(-1),(0,u.RZ9)(v)}}(n,o,s)}function Ct(n,o,s=u.d31){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],C=-1===v?s(o,n):n[v];n[d++]=C}}}let Ar=()=>null;function qs(n,o,s,l,d,g){Fu(n,o[u.eDl],o,s,l)?(0,u.Qs1)(n)&&df(o,n.index):(3&n.type&&(s=function Ns(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(s)),bl(n,o,s,l,d,g))}function bl(n,o,s,l,d,g){if(3&n.type){const v=(0,u.d31)(n,o);l=null!=g?g(l,n.value||"",s):l,d.setProperty(v,s,l)}}function df(n,o){const s=(0,u.KdJ)(o,n);16&s[u.Wg1]||(s[u.Wg1]|=64)}function Lu(n,o){null!==n.hostBindings&&n.hostBindings(1,o)}function Bs(n,o){const s=n.directiveRegistry;let l=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];Aa(o,g.selectors,!1)&&(l??=[],(0,u.JlV)(g)?l.unshift(g):l.push(g))}return l}function Xd(n,o,s,l,d,g,v){if(null==g)n.removeAttribute(o,d,s);else{const C=null==v?(0,u.eFE)(g):v(g,l||"",d);n.setAttribute(o,d,C,s)}}function qd(n,o,s,l,d,g){const v=g[o];if(null!==v)for(let C=0;C<v.length;C+=2)wu(l,s,v[C],v[C+1])}function Qd(n,o,s,l,d){const g=u.Yw1+s,v=o[u.eDl],C=d(v,o,n,l,s);o[g]=C,(0,u.iMd)(n,!0);const b=2===n.type;return b?(vm(o[u.GpT],C,n),(0===(0,u.znI)()||(0,u.yoD)(n))&&ot(C,o),(0,u.Fje)()):ot(C,o),(0,u.SX7)()&&(!b||!Ws(n))&&zd(v,o,C,n),n}function Bp(n){let o=n;return(0,u.YWB)()?(0,u.Pfq)():(o=o.parent,(0,u.iMd)(o,!1)),o}function gI(n,o,s){return(null===n||(0,u.JlV)(n))&&(s=(0,u.zAe)(s[o.index])),s[u.GpT]}function Ky(n,o){const s=n[u.YEL];if(!s)return;let l;try{l=s.get(u.ZTf,null)}catch{l=null}l?.(o)}function Fu(n,o,s,l,d){const g=n.inputs?.[l],v=n.hostDirectiveInputs?.[l];let C=!1;if(v)for(let b=0;b<v.length;b+=2){const W=v[b];wu(o.data[W],s[W],v[b+1],d),C=!0}if(g)for(const b of g)wu(o.data[b],s[b],l,d),C=!0;return C}function CA(n,o){const s=(0,u.KdJ)(o,n),l=s[u.eDl];!function mI(n,o){for(let s=o.length;s<n.blueprint.length;s++)o.push(n.blueprint[s])}(l,s);const d=s[u.jgP];null!==d&&null===s[u.tcA]&&(s[u.tcA]=ol(d,s[u.YEL])),Ht(18),Yd(l,s,s[u.SKP]),Ht(19,s[u.SKP])}function Yd(n,o,s){(0,u.ID8)(o);try{const l=n.viewQuery;null!==l&&_i(1,l,s);const d=n.template;null!==d&&se(n,o,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),o[u.Ds7]?.finishViewCreation(n),n.staticContentQueries&&Cc(n,o),n.staticViewQueries&&_i(2,n.viewQuery,s);const g=n.components;null!==g&&function _I(n,o){for(let s=0;s<o.length;s++)CA(n,o[s])}(o,g)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{o[u.Wg1]&=-5,(0,u.bll)()}}function Jd(n,o,s,l){const d=(0,k.Ht)(null);try{const g=o.tView,b=Mc(n,g,s,4096&n[u.Wg1]?4096:16,null,o,null,null,l?.injector??null,l?.embeddedViewInjector??null,l?.dehydratedView??null);b[u.rQE]=n[o.index];const J=n[u.Ds7];return null!==J&&(b[u.Ds7]=J.createEmbeddedView(g)),Yd(g,b,s),b}finally{(0,k.Ht)(d)}}function Zd(n,o){return!o||null===o.firstChild||Li(n)}function $p(n,o,s,l,d=!1){for(;null!==s;){if(128===s.type){s=d?s.projectionNext:s.next;continue}const g=o[s.index];null!==g&&l.push((0,u.IvY)(g)),(0,u.A0l)(g)&&bA(g,l);const v=s.type;if(8&v)$p(n,o,s.child,l);else if(32&v){const C=ba(s,o);let b;for(;b=C();)l.push(b)}else if(16&v){const C=Lp(o,s);if(Array.isArray(C))l.push(...C);else{const b=(0,u._0$)(o[u.b5C]);$p(b[u.eDl],b,C,l,!0)}}s=d?s.projectionNext:s.next}return l}function bA(n,o){for(let s=u.Y20;s<n.length;s++){const l=n[s],d=l[u.eDl].firstChild;null!==d&&$p(l[u.eDl],l,d,o)}n[u.s6P]!==n[u.jgP]&&o.push(n[u.s6P])}function Vc(n){if(null!==n[u.JEi]){for(const o of n[u.JEi])o.impl.addSequence(o);n[u.JEi].length=0}}let eh=[];const Uc={...k.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{(0,u.blu)(n.lView)},consumerOnSignalRead(){this.lView[u.Iaj]=this}},SA={...k.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let o=(0,u._0$)(n.lView);for(;o&&!zy(o[u.eDl]);)o=(0,u._0$)(o);o&&(0,u.HAh)(o)},consumerOnSignalRead(){this.lView[u.Iaj]=this}};function zy(n){return 2!==n.type}function Vu(n){if(null===n[u.tQN])return;let o=!0;for(;o;){let s=!1;for(const l of n[u.tQN])l.dirty&&(s=!0,null===l.zone||Zone.current===l.zone?l.run():l.zone.run(()=>l.run()));o=s&&!!(8192&n[u.Wg1])}}function rc(n,o=0){const l=n[u.M0L].rendererFactory;l.begin?.();try{!function jp(n,o){const s=(0,u.yP_)();try{(0,u.cBl)(!0),Rm(n,o);let l=0;for(;(0,u.dMS)(n);){if(100===l)throw new u.buA(103,!1);l++,Rm(n,1)}}finally{(0,u.cBl)(s)}}(n,o)}finally{l.end?.()}}function wm(n,o,s,l){if((0,u.EPY)(o))return;const d=o[u.Wg1];(0,u.ID8)(o);let C=!0,b=null,W=null;zy(n)?(W=function yI(n){return n[u.Iaj]??function wA(n){const o=eh.pop()??Object.create(Uc);return o.lView=n,o}(n)}(o),b=(0,k.Bg)(W)):null===(0,k.nR)()?(C=!1,W=function EI(n){const o=n[u.Iaj]??Object.create(SA);return o.lView=n,o}(o),b=(0,k.Bg)(W)):o[u.Iaj]&&((0,k.XR)(o[u.Iaj]),o[u.Iaj]=null);try{(0,u.HUe)(o),(0,u.Kw3)(n.bindingStartIndex),null!==s&&se(n,o,s,2,l);const J=!(3&~d);if(J){const Ye=n.preOrderCheckHooks;null!==Ye&&In(o,Ye,null)}else{const Ye=n.preOrderHooks;null!==Ye&&yt(o,Ye,0,null),Tn(o,0)}if(function II(n){for(let o=H(n);null!==o;o=Br(o)){if(!(2&o[u.Wg1]))continue;const s=o[u.nfM];for(let l=0;l<s.length;l++)(0,u.HAh)(s[l])}}(o),Vu(o),Sm(o,0),null!==n.contentQueries&&Cc(n,o),J){const Ye=n.contentCheckHooks;null!==Ye&&In(o,Ye)}else{const Ye=n.contentHooks;null!==Ye&&yt(o,Ye,1),Tn(o,1)}!function Mm(n,o){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)(0,u.ypq)(~d);else{const g=d,v=s[++l],C=s[++l];(0,u.vQI)(v,g);const b=o[g];Ht(24,b),C(2,b),Ht(25,b)}}}finally{(0,u.ypq)(-1)}}(n,o);const me=n.components;null!==me&&Xy(o,me,0);const ze=n.viewQuery;if(null!==ze&&_i(2,ze,l),J){const Ye=n.viewCheckHooks;null!==Ye&&In(o,Ye)}else{const Ye=n.viewHooks;null!==Ye&&yt(o,Ye,2),Tn(o,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o[u.pcR]){for(const Ye of o[u.pcR])Ye();o[u.pcR]=null}Vc(o),o[u.Wg1]&=-73}catch(J){throw(0,u.blu)(o),J}finally{null!==W&&((0,k.Wu)(W,b),C&&function vI(n){n.lView[u.Iaj]!==n&&(n.lView=null,eh.push(n))}(W)),(0,u.bll)()}}function Sm(n,o){for(let s=H(n);null!==s;s=Br(s))for(let l=u.Y20;l<s.length;l++)DI(s[l],o)}function TI(n,o,s){Ht(18);const l=(0,u.KdJ)(o,n);DI(l,s),Ht(19,l[u.SKP])}function DI(n,o){(0,u.F1c)(n)&&Rm(n,o)}function Rm(n,o){const l=n[u.eDl],d=n[u.Wg1],g=n[u.Iaj];let v=!!(0===o&&16&d);if(v||=!!(64&d&&0===o),v||=!!(1024&d),v||=!(!g?.dirty||!(0,k.si)(g)),v||=!1,g&&(g.dirty=!1),n[u.Wg1]&=-9217,v)wm(l,n,l.template,n[u.SKP]);else if(8192&d){const C=(0,k.Ht)(null);try{Vu(n),Sm(n,1);const b=l.components;null!==b&&Xy(n,b,1),Vc(n)}finally{(0,k.Ht)(C)}}}function Xy(n,o,s){for(let l=0;l<o.length;l++)TI(n,o[l],s)}function ic(n,o){const s=(0,u.yP_)()?64:1088;for(n[u.M0L].changeDetectionScheduler?.notify(o);n;){n[u.Wg1]|=s;const l=(0,u._0$)(n);if((0,u.EFk)(n)&&!l)return n;n=l}return null}function CI(n,o,s,l){return[n,!0,0,o,null,l,null,s,null,null]}function Uu(n,o){const s=u.Y20+o;if(s<n.length)return n[s]}function hf(n,o,s,l=!0){const d=o[u.eDl];if(function MA(n,o,s,l){const d=u.Y20+l,g=s.length;l>0&&(s[d-1][u.K29]=o),l<g-u.Y20?(o[u.K29]=s[d],(0,u.EYC)(s,u.Y20+l,o)):(s.push(o),o[u.K29]=null),o[u.f7T]=s;const v=o[u.rQE];null!==v&&s!==v&&AI(v,o);const C=o[u.Ds7];null!==C&&C.insertView(n),(0,u._gW)(o),o[u.Wg1]|=128}(d,o,n,s),l){const v=ku(s,n),C=o[u.GpT],b=C.parentNode(n[u.s6P]);null!==b&&function za(n,o,s,l,d,g){l[u.jgP]=d,l[u.qlT]=o,E(n,l,s,1,d,g)}(d,n[u.qlT],C,o,b,v)}const g=o[u.tcA];null!==g&&null!==g.firstChild&&(g.firstChild=null)}function Pm(n,o){const s=Wp(n,o);return void 0!==s&&Ga(s[u.eDl],s),s}function Wp(n,o){if(n.length<=u.Y20)return;const s=u.Y20+o,l=n[s];if(l){const d=l[u.rQE];null!==d&&d!==n&&Wd(d,l),o>0&&(n[s-1][u.K29]=l[u.K29]);const g=(0,u.E6O)(n,u.Y20+o);xc(l[u.eDl],l);const v=g[u.Ds7];null!==v&&v.detachView(g[u.eDl]),l[u.f7T]=null,l[u.K29]=null,l[u.Wg1]&=-129}return l}function AI(n,o){const s=n[u.nfM],l=o[u.f7T];((0,u.q$2)(l)||o[u.b5C]!==l[u.f7T][u.b5C])&&(n[u.Wg1]|=2),null===s?n[u.nfM]=[o]:s.push(o)}class Bu{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const o=this._lView,s=o[u.eDl];return $p(s,o,s.firstChild,[])}constructor(o,s){this._lView=o,this._cdRefInjectingView=s}get context(){return this._lView[u.SKP]}set context(o){this._lView[u.SKP]=o}get destroyed(){return(0,u.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[u.f7T];if((0,u.A0l)(o)){const s=o[u.bm_],l=s?s.indexOf(this):-1;l>-1&&(Wp(o,l),(0,u.E6O)(s,l))}this._attachedToViewContainer=!1}Ga(this._lView[u.eDl],this._lView)}onDestroy(o){(0,u.ik5)(this._lView,o)}markForCheck(){ic(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[u.Wg1]&=-129}reattach(){(0,u._gW)(this._lView),this._lView[u.Wg1]|=128}detectChanges(){this._lView[u.Wg1]|=1024,rc(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new u.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const o=(0,u.EFk)(this._lView),s=this._lView[u.rQE];null!==s&&!o&&Wd(s,this._lView),xp(this._lView[u.eDl],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new u.buA(902,!1);this._appRef=o;const s=(0,u.EFk)(this._lView),l=this._lView[u.rQE];null!==l&&!s&&AI(l,this._lView),(0,u._gW)(this._lView)}}let pf=(()=>class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=bI;constructor(s,l,d){this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,l){return this.createEmbeddedViewImpl(s,l)}createEmbeddedViewImpl(s,l,d){const g=Jd(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:l,dehydratedView:d});return new Bu(g)}})();function bI(){return Kp((0,u.Mx4)(),(0,u.OAn)())}function Kp(n,o){return 4&n.type?new pf(o,n,Zr(n,o)):null}function Hp(n,o,s){const l=o.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?kc(n,0,s):(0,u.IvY)(s[d])}function nv(n,o,s,l,d){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=l,C=null;if(3&o.type||(C=v,v=d),null!==v&&-1===o.componentOffset)for(let b=1;b<g.length;b++)Yl(n,v,s[g[b]],C,!1)}}function aa(n,o,s,l,d){let g=n.data[o];if(null===g)g=ju(n,o,s,l,d),(0,u.JjR)()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=l,g.attrs=d;const v=(0,u.Ab)();g.injectorIndex=null===v?-1:v.injectorIndex}return(0,u.iMd)(g,!0),g}function ju(n,o,s,l,d){const g=(0,u.veI)(),v=(0,u.YWB)(),b=n.data[o]=function ih(n,o,s,l,d,g){let v=o?o.injectorIndex:-1,C=0;return(0,u.KtD)()&&(C|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,s,o,l,d);return function RI(n,o,s,l){null===n.firstChild&&(n.firstChild=o),null!==s&&(l?null==s.child&&null!==o.parent&&(s.child=o):null===s.next&&(s.next=o,o.prev=s))}(n,b,g,v),b}function MI(n,o){if(n.push(o),n.length>1)for(let s=n.length-2;s>=0;s--){const l=n[s];oh(l)||PI(l,o)&&null===Wu(l)&&OI(l,o.index)}}function oh(n){return!(64&n.type)}function PI(n,o){return oh(o)||n.index>o.index}function Wu(n){const o=n.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function OI(n,o){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=o:(kp(Hp,nv),n.insertBeforeIndex=o)}function zp(n,o){const s=n.data[o];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function xI(n,o,s){const l=ju(n,s,64,null,null);return MI(o,l),l}function xm(n,o){const s=o[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function Gp(n){return n>>>17}function rv(n){return(131070&n)>>>1}function km(n,o,s){n.index=0;const l=xm(o,s);n.removes=null!==l?o.remove[l]:u.Mlv}function sc(n){if(n.index<n.removes.length){const o=n.removes[n.index++];return o>0?n.lView[o]:(n.stack.push(n.index,n.removes),km(n,n.lView[u.eDl].data[~o],n.lView),sc(n))}return 0===n.stack.length?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),sc(n))}function Xp(){const n={stack:[],index:-1};return function o(s,l){for(n.lView=l;n.stack.length;)n.stack.pop();return km(n,s.value,l),sc.bind(null,n)}}function uv(n,o,s){for(const l of s.node.cases[s.case]){const d=o.get(l.index-u.Yw1);d&&Au(n,d,!1)}}function Jp(n){const o=n[u.qFA]??[],l=n[u.f7T][u.GpT],d=[];for(const g of o)void 0!==g.data.di?d.push(g):$m(g,l);n[u.qFA]=d}function QI(n){const{lContainer:o}=n,s=o[u.qFA];if(null===s)return;const d=o[u.f7T][u.GpT];for(const g of s)$m(g,d)}function $m(n,o){let s=0,l=n.firstChild;if(l){const d=n.data.r;for(;s<d;){const g=l.nextSibling;Au(o,l,!1),l=g,s++}}}function lh(n){Jp(n);const o=n[u.jgP];(0,u.q$2)(o)&&Hu(o);for(let s=u.Y20;s<n.length;s++)Hu(n[s])}function Hu(n){!function KA(n){const o=n[u.tcA];if(o){const{i18nNodes:s,dehydratedIcuData:l}=o;if(s&&l){const d=n[u.GpT];for(const g of l.values())uv(d,s,g)}o.i18nNodes=void 0,o.dehydratedIcuData=void 0}}(n);const o=n[u.eDl];for(let s=u.Yw1;s<o.bindingStartIndex;s++)(0,u.A0l)(n[s])?lh(n[s]):(0,u.q$2)(n[s])&&Hu(n[s])}let Wm=()=>null;function zu(n,o){return Wm(n,o)}let eT=class{},Zp=class{};class eg{resolveComponentFactory(o){throw new u.buA(917,!1)}}let yf=class{static NULL=new eg};class Km{}let zA=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function GA(){const n=(0,u.OAn)(),o=(0,u.Mx4)(),s=(0,u.KdJ)(o.index,n);return((0,u.q$2)(s)?s:n)[u.GpT]}()})(),XA=(()=>{class n{static \u0275prov=(0,u.jDH)({token:n,providedIn:"root",factory:()=>null})}return n})();function gv(n){return void 0!==n.ngModule}function ch(n){return!!(0,u.phH)(n)}function Gu(n){return!!(0,u.oyA)(n)}function Hm(n){return!!(0,u.HaV)(n)}function lc(n){return!!(0,u.xUg)(n)}function zm(n,o){if((0,u.Jzi)(n)&&!(n=(0,u.nl4)(n)))throw new Error(`Expected forwardRef function, imported from "${(0,u.PP7)(o)}", to return a standalone entity or NgModule but got "${(0,u.PP7)(n)||n}".`);if(null==(0,u.phH)(n)){const s=(0,u.xUg)(n)||(0,u.HaV)(n)||(0,u.oyA)(n);if(null==s)throw gv(n)?new Error(`A module with providers was imported from "${(0,u.PP7)(o)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,u.PP7)(n)}" type, imported from "${(0,u.PP7)(o)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!s.standalone)throw new Error(`The "${(0,u.PP7)(n)}" ${function mv(n){return(0,u.xUg)(n)?"component":(0,u.HaV)(n)?"directive":(0,u.oyA)(n)?"pipe":"type"}(n)}, imported from "${(0,u.PP7)(o)}", is not standalone. Did you forget to add the standalone: true flag?`)}}class vf{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const o of this.ngModulesWithSomeUnresolvedDecls){const s=(0,u.phH)(o);if(s?.declarations)for(const l of Ts(s.declarations))lc(l)&&this.ownerNgModule.set(l,o)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(o,s){this.resolveNgModulesDecls();const l=(0,u.xUg)(o);if(null===l)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${o}`);if(l.standalone){const d=this.getStandaloneComponentScope(o,s);return d.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...d.compilation.directives,...d.compilation.pipes,...d.compilation.ngModules]}}{if(!this.ownerNgModule.has(o))return{dependencies:[]};const d=this.getNgModuleScope(this.ownerNgModule.get(o));return d.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...d.compilation.directives,...d.compilation.pipes]}}}registerNgModule(o,s){if(!ch(o))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${o}`);this.ngModulesWithSomeUnresolvedDecls.add(o)}clearScopeCacheFor(o){this.ngModulesScopeCache.delete(o),this.standaloneComponentsScopeCache.delete(o)}getNgModuleScope(o){if(this.ngModulesScopeCache.has(o))return this.ngModulesScopeCache.get(o);const s=this.computeNgModuleScope(o);return this.ngModulesScopeCache.set(o,s),s}computeNgModuleScope(o){const s=(0,u.WbQ)(o),l={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const d of Ts(s.imports))if(ch(d)){const g=this.getNgModuleScope(d);cc(g.exported.directives,l.compilation.directives),cc(g.exported.pipes,l.compilation.pipes)}else{if(!(0,u.QuC)(d)){l.compilation.isPoisoned=!0;break}if(Hm(d)||lc(d))l.compilation.directives.add(d);else{if(!Gu(d))throw new u.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");l.compilation.pipes.add(d)}}if(!l.compilation.isPoisoned)for(const d of Ts(s.declarations)){if(ch(d)||(0,u.QuC)(d)){l.compilation.isPoisoned=!0;break}Gu(d)?l.compilation.pipes.add(d):l.compilation.directives.add(d)}for(const d of Ts(s.exports))if(ch(d)){const g=this.getNgModuleScope(d);cc(g.exported.directives,l.exported.directives),cc(g.exported.pipes,l.exported.pipes),cc(g.exported.directives,l.compilation.directives),cc(g.exported.pipes,l.compilation.pipes)}else Gu(d)?l.exported.pipes.add(d):l.exported.directives.add(d);return l}getStandaloneComponentScope(o,s){if(this.standaloneComponentsScopeCache.has(o))return this.standaloneComponentsScopeCache.get(o);const l=this.computeStandaloneComponentScope(o,s);return this.standaloneComponentsScopeCache.set(o,l),l}computeStandaloneComponentScope(o,s){const l={compilation:{directives:new Set([o]),pipes:new Set,ngModules:new Set}};for(const d of(0,u.Bqz)(s??[])){const g=(0,u.nl4)(d);try{zm(g,o)}catch{return l.compilation.isPoisoned=!0,l}if(ch(g)){l.compilation.ngModules.add(g);const v=this.getNgModuleScope(g);if(v.exported.isPoisoned)return l.compilation.isPoisoned=!0,l;cc(v.exported.directives,l.compilation.directives),cc(v.exported.pipes,l.compilation.pipes)}else if(Gu(g))l.compilation.pipes.add(g);else{if(!Hm(g)&&!lc(g))return l.compilation.isPoisoned=!0,l;l.compilation.directives.add(g)}}return l}isOrphanComponent(o){const s=(0,u.xUg)(o);return!(!s||s.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(o)))}}function cc(n,o){for(const s of n)o.add(s)}const Ef=new vf,tg={};class Xu{injector;parentInjector;constructor(o,s){this.injector=o,this.parentInjector=s}get(o,s,l){const d=this.injector.get(o,tg,l);return d!==tg||s===tg?d:this.parentInjector.get(o,s,l)}}function wl(n,o,s){let l=s?n.styles:null,d=s?n.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];if("number"==typeof C)g=C;else if(1==g)d=(0,u.n$e)(d,C);else if(2==g){const W=o[++v];l=(0,u.n$e)(l,C+": "+W+";")}}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=d:n.classesWithoutHost=d}function uh(n,o=0){const s=(0,u.OAn)();return null===s?(0,u.KVO)(n,o):Kt((0,u.Mx4)(),s,(0,u.nl4)(n),o)}function tT(){throw new Error("invalid")}function Gm(n,o,s,l,d){const g=null===l?null:{"":-1},v=d(n,s);if(null!==v){let C=v,b=null,W=null;for(const J of v)if(null!==J.resolveHostDirectives){[C,b,W]=J.resolveHostDirectives(v);break}!function QA(n,o,s,l,d,g,v){const C=l.length;let b=!1;for(let ze=0;ze<C;ze++){const Ye=l[ze];!b&&(0,u.JlV)(Ye)&&(b=!0,_v(n,s,ze)),Wr(si(s,o),n,Ye.type)}!function JA(n,o,s){n.flags|=1,n.directiveStart=o,n.directiveEnd=o+s,n.providerIndexes=o}(s,n.data.length,C);for(let ze=0;ze<C;ze++){const Ye=l[ze];Ye.providersResolver&&Ye.providersResolver(Ye)}let W=!1,J=!1,me=Zl(n,o,C,null);C>0&&(s.directiveToIndex=new Map);for(let ze=0;ze<C;ze++){const Ye=l[ze];if(s.mergedAttrs=gt(s.mergedAttrs,Ye.hostAttrs),rT(n,s,o,me,Ye),YA(me,Ye,d),null!==v&&v.has(Ye)){const[Rn,hr]=v.get(Ye);s.directiveToIndex.set(Ye.type,[me,Rn+s.directiveStart,hr+s.directiveStart])}else(null===g||!g.has(Ye))&&s.directiveToIndex.set(Ye.type,me);null!==Ye.contentQueries&&(s.flags|=4),(null!==Ye.hostBindings||null!==Ye.hostAttrs||0!==Ye.hostVars)&&(s.flags|=64);const sn=Ye.type.prototype;!W&&(sn.ngOnChanges||sn.ngOnInit||sn.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),W=!0),!J&&(sn.ngOnChanges||sn.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),J=!0),me++}!function yv(n,o,s){for(let l=o.directiveStart;l<o.directiveEnd;l++){const d=n.data[l];if(null!==s&&s.has(d)){const g=s.get(d);Xm(0,o,g,l),Xm(1,o,g,l),qm(o,l,!0)}else nT(0,o,d,l),nT(1,o,d,l),qm(o,l,!1)}}(n,s,g)}(n,o,s,C,g,b,W)}null!==g&&null!==l&&function qA(n,o,s){const l=n.localNames=[];for(let d=0;d<o.length;d+=2){const g=s[o[d+1]];if(null==g)throw new u.buA(-301,!1);l.push(o[d],g)}}(s,l,g)}function _v(n,o,s){o.componentOffset=s,(n.components??=[]).push(o.index)}function nT(n,o,s,l){const d=0===n?s.inputs:s.outputs;for(const g in d)if(d.hasOwnProperty(g)){let v;v=0===n?o.inputs??={}:o.outputs??={},v[g]??=[],v[g].push(l),ng(o,g)}}function Xm(n,o,s,l){const d=0===n?s.inputs:s.outputs;for(const g in d)if(d.hasOwnProperty(g)){const v=d[g];let C;C=0===n?o.hostDirectiveInputs??={}:o.hostDirectiveOutputs??={},C[v]??=[],C[v].push(l,g),ng(o,v)}}function ng(n,o){"class"===o?n.flags|=8:"style"===o&&(n.flags|=16)}function qm(n,o,s){const{attrs:l,inputs:d,hostDirectiveInputs:g}=n;if(null===l||!s&&null===d||s&&null===g||qh(n))return n.initialInputs??=[],void n.initialInputs.push(null);let v=null,C=0;for(;C<l.length;){const b=l[C];if(0!==b)if(5!==b){if("number"==typeof b)break;if(!s&&d.hasOwnProperty(b)){const W=d[b];for(const J of W)if(J===o){v??=[],v.push(b,l[C+1]);break}}else if(s&&g.hasOwnProperty(b)){const W=g[b];for(let J=0;J<W.length;J+=2)if(W[J]===o){v??=[],v.push(W[J+1],l[C+1]);break}}C+=2}else C+=2;else C+=4}n.initialInputs??=[],n.initialInputs.push(v)}function rT(n,o,s,l,d){n.data[l]=d;const g=d.factory||(d.factory=(0,u.wGu)(d.type,!0)),v=new vn(g,(0,u.JlV)(d),uh,null);n.blueprint[l]=v,s[l]=v,function If(n,o,s,l,d){const g=d.hostBindings;if(g){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const C=~o.index;(function vv(n){let o=n.length;for(;o>0;){const s=n[--o];if("number"==typeof s&&s<0)return s}return 0})(v)!=C&&v.push(C),v.push(s,l,g)}}(n,o,l,Zl(n,s,d.hostVars,Bi),d)}function YA(n,o,s){if(s){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)s[o.exportAs[l]]=n;(0,u.JlV)(o)&&(s[""]=n)}}function Qm(n,o,s,l,d,g,v,C){const b=o[u.eDl],W=b.consts,me=aa(b,n,s,l,(0,u.db4)(W,v));return g&&Gm(b,o,me,(0,u.db4)(W,C),d),me.mergedAttrs=gt(me.mergedAttrs,me.attrs),null!==me.attrs&&wl(me,me.attrs,!1),null!==me.mergedAttrs&&wl(me,me.mergedAttrs,!0),null!==b.queries&&b.queries.elementStart(b,me),me}function Ev(n,o){lt(n,o),(0,u.srX)(o)&&n.queries.elementEnd(o)}function Ym(n,o,s,l,d,g){const v=o.consts,b=aa(o,n,s,l,(0,u.db4)(v,d));if(b.mergedAttrs=gt(b.mergedAttrs,b.attrs),null!=g){const W=(0,u.db4)(v,g);b.localNames=[];for(let J=0;J<W.length;J+=2)b.localNames.push(W[J],-1)}return null!==b.attrs&&wl(b,b.attrs,!1),null!==b.mergedAttrs&&wl(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}function Iv(n){return!!Jm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function eb(n,o){if(Array.isArray(n))for(let s=0;s<n.length;s++)o(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)o(l.value)}}function Jm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xa(n,o,s){return n[o]=s}function Tf(n,o){return n[o]}function _o(n,o,s){return s!==Bi&&(!Object.is(n[o],s)&&(n[o]=s,!0))}function $c(n,o,s,l){const d=_o(n,o,s);return _o(n,o+1,l)||d}function Df(n,o,s,l,d){const g=$c(n,o,s,l);return _o(n,o+2,d)||g}function Ls(n,o,s,l,d,g){const v=$c(n,o,s,l);return $c(n,o+2,d,g)||v}function qa(n,o,s){return function l(d){ic((0,u.Qs1)(n)?(0,u.KdJ)(n.index,o):o,5);const v=o[u.SKP];let C=Zm(o,v,s,d),b=l.__ngNextListenerFn__;for(;b;)C=Zm(o,v,b,d)&&C,b=b.__ngNextListenerFn__;return C}}function Zm(n,o,s,l){const d=(0,k.Ht)(null);try{return Ht(6,o,s),!1!==s(l)}catch(g){return Ky(n,g),!1}finally{Ht(7,o,s),(0,k.Ht)(d)}}function dh(n,o,s,l,d,g,v,C){const b=(0,u.yoD)(n);let W=!1,J=null;if(!l&&b&&(J=function iT(n,o,s,l){const d=n.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===s&&d[g+1]===l){const C=o[u.VVG],b=d[g+2];return C&&C.length>b?C[b]:null}"string"==typeof v&&(g+=2)}return null}(o,s,g,n.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=v,J.__ngLastListenerFn__=v,W=!0;else{const me=(0,u.d31)(n,s),ze=l?l(me):me;!function yc(n,o,s,l){Wl(n,o,s,l)}(s,ze,g,C);const Ye=d.listen(ze,g,C);(function Cf(n){return n.startsWith("animation")||n.startsWith("transition")})(g)||hh(l?Rn=>l((0,u.IvY)(Rn[n.index])):n.index,o,s,g,C,Ye,!1)}return W}function hh(n,o,s,l,d,g,v){const C=o.firstCreatePass?(0,u.vNG)(o):null,b=(0,u.d_l)(s),W=b.length;b.push(d,g),C&&C.push(l,n,W,(W+1)*(v?-1:1))}function rg(n,o,s,l,d,g){const C=o[u.eDl],me=o[s][C.data[s].outputs[l]].subscribe(g);hh(n.index,C,o,d,g,me,!0)}const uc=Symbol("BINDING");class bv extends yf{ngModule;constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=(0,u.xUg)(o);return new ig(s,this.ngModule)}}class ig extends Zp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function wv(n){return Object.keys(n).map(o=>{const[s,l,d]=n[o],g={propName:s,templateName:o,isSignal:0!==(l&Xs.SignalBased)};return d&&(g.transform=d),g})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function sb(n){return Object.keys(n).map(o=>({propName:n[o],templateName:o}))}(this.componentDef.outputs),this.cachedOutputs}constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=function Gi(n){return n.map(hi).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors??[],this.isBoundToModule=!!s}create(o,s,l,d,g,v){Ht(22);const C=(0,k.Ht)(null);try{const b=this.componentDef,W=function cb(n,o,s,l){const d=n?["ng-version","20.3.7"]:function Cu(n){const o=[],s=[];let l=1,d=2;for(;l<n.length;){let g=n[l];if("string"==typeof g)2===d?""!==g&&o.push(g,n[++l]):8===d&&s.push(g);else{if(!sa(d))break;d=g}l++}return s.length&&o.push(1,...s),o}(o.selectors[0]);let g=null,v=null,C=0;if(s)for(const J of s)C+=J[uc].requiredVars,J.create&&(J.targetIdx=0,(g??=[]).push(J)),J.update&&(J.targetIdx=0,(v??=[]).push(J));if(l)for(let J=0;J<l.length;J++){const me=l[J];if("function"!=typeof me)for(const ze of me.bindings){C+=ze[uc].requiredVars;const Ye=J+1;ze.create&&(ze.targetIdx=Ye,(g??=[]).push(ze)),ze.update&&(ze.targetIdx=Ye,(v??=[]).push(ze))}}const b=[o];if(l)for(const J of l){const ze=(0,u.HaV)("function"==typeof J?J:J.type);b.push(ze)}return xd(0,null,function ub(n,o){return n||o?s=>{if(1&s&&n)for(const l of n)l.create();if(2&s&&o)for(const l of o)l.update()}:null}(g,v),1,C,b,null,null,null,[d],null)}(l,b,v,g),J=function lb(n,o,s){let l=o instanceof u.uvJ?o:o?.injector;return l&&null!==n.getStandaloneInjector&&(l=n.getStandaloneInjector(l)||l),l?new Xu(s,l):s}(b,d||this.ngModule,o),me=function aT(n){const o=n.get(Km,null);if(null===o)throw new u.buA(407,!1);return{rendererFactory:o,sanitizer:n.get(XA,null),changeDetectionScheduler:n.get(u.hk6,null),ngReflect:!1}}(J),ze=me.rendererFactory.createRenderer(null,b),Ye=l?function gn(n,o,s,l){const g=l.get(Ji,!1)||s===yi.ShadowDom,v=n.selectRootElement(o,g);return function Yn(n){Ar(n)}(v),v}(ze,l,b.encapsulation,J):function lT(n,o){const s=function cT(n){return(n.selectors[0][0]||"div").toLowerCase()}(n);return Rc(o,s,"svg"===s?u.jNX:"math"===s?u.rJ1:null)}(b,ze),sn=v?.some(uT)||g?.some(_r=>"function"!=typeof _r&&_r.bindings.some(uT)),Rn=Mc(null,W,null,512|Pc(b),null,null,me,ze,J,null,ol(Ye,J,!0));Rn[u.Yw1]=Ye,(0,u.ID8)(Rn);let hr=null;try{const _r=Qm(u.Yw1,Rn,2,"#host",()=>W.directiveRegistry,!0,0);vm(ze,Ye,_r),ot(Ye,Rn),qe(W,Rn,_r),mr(W,_r,Rn),Ev(W,_r),void 0!==s&&function Sv(n,o,s){const l=n.projection=[];for(let d=0;d<o.length;d++){const g=s[d];l.push(null!=g&&g.length?Array.from(g):null)}}(_r,this.ngContentSelectors,s),hr=(0,u.KdJ)(_r.index,Rn),Rn[u.SKP]=hr[u.SKP],Yd(W,Rn,null)}catch(_r){throw null!==hr&&ft(hr),ft(Rn),_r}finally{Ht(23),(0,u.bll)()}return new db(this.componentType,Rn,!!sn)}finally{(0,k.Ht)(C)}}}function uT(n){const o=n[uc].kind;return"input"===o||"twoWay"===o}class db extends eT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(o,s,l){super(),this._rootLView=s,this._hasInputBindings=l,this._tNode=(0,u.XRZ)(s[u.eDl],u.Yw1),this.location=Zr(this._tNode,s),this.instance=(0,u.KdJ)(this._tNode.index,s)[u.SKP],this.hostView=this.changeDetectorRef=new Bu(s,void 0),this.componentType=o}setInput(o,s){const l=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),s))return;const d=this._rootLView;Fu(l,d[u.eDl],d,o,s),this.previousInputValues.set(o,s),ic((0,u.KdJ)(l.index,d),1)}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}let e_=(()=>class n{static __NG_ELEMENT_ID__=Rv})();function Rv(){return hT((0,u.Mx4)(),(0,u.OAn)())}const dT=e_,t_=class extends dT{_lContainer;_hostTNode;_hostLView;constructor(o,s,l){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=l}get element(){return Zr(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ti(this._hostTNode,this._hostLView);if(Mr(o)){const s=Jr(o,this._hostLView),l=Er(o);return new Dr(s[u.eDl].data[l+8],s)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=n_(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-u.Y20}createEmbeddedView(o,s,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const v=zu(this._lContainer,o.ssrId),C=o.createEmbeddedViewImpl(s||{},g,v);return this.insertImpl(C,d,Zd(this._hostTNode,v)),C}createComponent(o,s,l,d,g,v,C){const b=o&&!ke(o);let W;if(b)W=s;else{const hr=s||{};W=hr.index,l=hr.injector,d=hr.projectableNodes,g=hr.environmentInjector||hr.ngModuleRef,v=hr.directives,C=hr.bindings}const J=b?o:new ig((0,u.xUg)(o)),me=l||this.parentInjector;if(!g&&null==J.ngModule){const _r=(b?me:this.parentInjector).get(u.uvJ,null);_r&&(g=_r)}const ze=(0,u.xUg)(J.componentType??{}),Ye=zu(this._lContainer,ze?.id??null),Rn=J.create(me,d,Ye?.firstChild??null,g,v,C);return this.insertImpl(Rn.hostView,W,Zd(this._hostTNode,Ye)),Rn}insert(o,s){return this.insertImpl(o,s,!0)}insertImpl(o,s,l){const d=o._lView;if((0,u.ITl)(d)){const C=this.indexOf(o);if(-1!==C)this.detach(C);else{const b=d[u.f7T],W=new t_(b,b[u.qlT],b[u.f7T]);W.detach(W.indexOf(o))}}const g=this._adjustIndex(s),v=this._lContainer;return hf(v,d,g,l),o.attachToViewContainerRef(),(0,u.EYC)(og(v),g,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=n_(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),l=Wp(this._lContainer,s);l&&((0,u.E6O)(og(this._lContainer),s),Ga(l[u.eDl],l))}detach(o){const s=this._adjustIndex(o,-1),l=Wp(this._lContainer,s);return l&&null!=(0,u.E6O)(og(this._lContainer),s)?new Bu(l):null}_adjustIndex(o,s=0){return o??this.length+s}};function n_(n){return n[u.bm_]}function og(n){return n[u.bm_]||(n[u.bm_]=[])}function hT(n,o){let s;const l=o[n.index];return(0,u.A0l)(l)?s=l:(s=CI(l,o,null,n),o[n.index]=s,bu(o,s)),fT(s,o,n,l),new t_(s,n,o)}let fT=function r_(n,o,s,l){if(n[u.s6P])return;let d;d=8&s.type?(0,u.IvY)(l):function Mv(n,o){const s=n[u.GpT],l=s.createComment(""),d=(0,u.d31)(o,n),g=s.parentNode(d);return Yl(s,g,l,s.nextSibling(d),!1),l}(o,s),n[u.s6P]=d},sg=()=>!1;function pT(n,o,s){return sg(n,o,s)}class Ov{queryList;matches=null;constructor(o){this.queryList=o}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class ag{queries;constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const l=null!==o.contentQueries?o.contentQueries[0]:s.length,d=[];for(let g=0;g<l;g++){const v=s.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new ag(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==cg(o,s).matches&&this.queries[s].setDirty()}}class mT{flags;read;predicate;constructor(o,s,l=null){this.flags=s,this.read=l,this.predicate="string"==typeof o?function jc(n){return n.split(",").map(o=>o.trim())}(o):o}}class lg{queries;constructor(o=[]){this.queries=o}elementStart(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==s?s.push(g):s=[g])}return null!==s?new lg(s):null}template(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Nv{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(o,s=-1){this.metadata=o,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new Nv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,s,xv(s,g)),this.matchTNodeWithReadOption(o,s,Kn(s,o,g,!1,!1))}else l===pf?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,Kn(s,o,l,!1,!1))}matchTNodeWithReadOption(o,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===gi||d===e_||d===pf&&4&s.type)this.addMatch(s.index,-2);else{const g=Kn(s,o,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,l)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function xv(n,o){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===o)return s[l+1];return null}function kv(n,o,s,l){return-1===s?function fb(n,o){return 11&n.type?Zr(n,o):4&n.type?Kp(n,o):null}(o,n):-2===s?function Lv(n,o,s){return s===gi?Zr(o,n):s===pf?Kp(o,n):s===e_?hT(o,n):void 0}(n,o,l):Lr(n,n[u.eDl],s,o)}function i_(n,o,s,l){const d=o[u.Ds7].queries[l];if(null===d.matches){const g=n.data,v=s.matches,C=[];for(let b=0;null!==v&&b<v.length;b+=2){const W=v[b];C.push(W<0?null:kv(o,g[W],v[b+1],s.metadata.read))}d.matches=C}return d.matches}function qu(n,o,s,l){const d=n.queries.getByIndex(s),g=d.matches;if(null!==g){const v=i_(n,o,d,s);for(let C=0;C<g.length;C+=2){const b=g[C];if(b>0)l.push(v[C/2]);else{const W=g[C+1],J=o[-b];for(let me=u.Y20;me<J.length;me++){const ze=J[me];ze[u.rQE]===ze[u.f7T]&&qu(ze[u.eDl],ze,W,l)}if(null!==J[u.nfM]){const me=J[u.nfM];for(let ze=0;ze<me.length;ze++){const Ye=me[ze];qu(Ye[u.eDl],Ye,W,l)}}}}}return l}function o_(n,o){return n[u.Ds7].queries[o].queryList}function s_(n,o,s){const l=new yo(!(4&~s));return(0,u.B22)(n,o,l,l.destroy),(o[u.Ds7]??=new ag).queries.push(new Ov(l))-1}function _T(n,o,s){const l=(0,u.klJ)();return l.firstCreatePass&&(l_(l,new mT(n,o,s),-1),!(2&~o)&&(l.staticViewQueries=!0)),s_(l,(0,u.OAn)(),o)}function a_(n,o,s,l){const d=(0,u.klJ)();if(d.firstCreatePass){const g=(0,u.Mx4)();l_(d,new mT(o,s,l),g.index),function pb(n,o){const s=n.contentQueries||(n.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,o)}(d,n),!(2&~s)&&(d.staticContentQueries=!0)}return s_(d,(0,u.OAn)(),s)}function l_(n,o,s){null===n.queries&&(n.queries=new lg),n.queries.track(new Nv(o,s))}function cg(n,o){return n.queries.getByIndex(o)}function yT(n,o){const s=n[u.eDl],l=cg(s,o);return l.crossesNgTemplate?qu(s,n,o,[]):i_(s,n,l,o)}function IT(n,o){const s=n[k.bh];s._lView=(0,u.OAn)(),s._queryIndex=o,s._queryList=o_(s._lView,o),s._queryList.onDirty(()=>s._dirtyCounter.update(l=>l+1))}function gb(n){const o=[],s=new Map;function l(d){let g=s.get(d);if(!g){const v=n(d);s.set(d,g=v.then(C=>function Bv(n,o){return"string"==typeof o?o:void 0!==o.status&&200!==o.status?Promise.reject(new u.buA(918,!1)):o.text()}(0,C)))}return g}return Qu.forEach((d,g)=>{const v=[];d.templateUrl&&v.push(l(d.templateUrl).then(W=>{d.template=W}));const C="string"==typeof d.styles?[d.styles]:d.styles||[];if(d.styles=C,d.styleUrl&&d.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(d.styleUrls?.length){const W=d.styles.length,J=d.styleUrls;d.styleUrls.forEach((me,ze)=>{C.push(""),v.push(l(me).then(Ye=>{C[W+ze]=Ye,J.splice(J.indexOf(me),1),0==J.length&&(d.styleUrls=void 0)}))})}else d.styleUrl&&v.push(l(d.styleUrl).then(W=>{C.push(W),d.styleUrl=void 0}));const b=Promise.all(v).then(()=>function c_(n){Af.delete(n)}(g));o.push(b)}),function _b(){const n=Qu;Qu=new Map}(),Promise.all(o).then(()=>{})}let Qu=new Map;const Af=new Set;function yb(){return 0===Qu.size}const ug=new Map;function AT(n,o){(function bf(n,o,s){if(o&&o!==s)throw new Error(`Duplicate module registered for ${n} - ${(0,u.AsM)(o)} vs ${(0,u.AsM)(o.name)}`)})(o,ug.get(o)||null,n),ug.set(o,n)}let Yu=class{},dg=class{};function Eb(n,o){return new $v(n,o??null,[])}class $v extends Yu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new bv(this);constructor(o,s,l,d=!0){super(),this.ngModuleType=o,this._parent=s;const g=(0,u.phH)(o);this._bootstrapComponents=Ts(g.bootstrap),this._r3Injector=(0,u.Pz9)(o,s,[{provide:Yu,useValue:this},{provide:yf,useValue:this.componentFactoryResolver},...l],(0,u.AsM)(o),new Set(["environment"])),d&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class wT extends dg{moduleType;constructor(o){super(),this.moduleType=o}create(o){return new $v(this.moduleType,o,[])}}function jv(n,o,s){return new $v(n,o,s,!1)}class Wv extends Yu{injector;componentFactoryResolver=new bv(this);instance=null;constructor(o){super();const s=new u.e5P([...o.providers,{provide:Yu,useValue:this},{provide:yf,useValue:this.componentFactoryResolver}],o.parent||(0,u.WB9)(),o.debugName,new Set(["environment"]));this.injector=s,o.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function u_(n,o,s=null){return new Wv({providers:n,parent:o,debugName:s,runEnvironmentInitializers:!0}).injector}let Kv=(()=>{class n{_injector;cachedInjectors=new Map;constructor(s){this._injector=s}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const l=(0,u.jXY)(!1,s.type),d=l.length>0?u_([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,d)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,u.jDH)({token:n,providedIn:"environment",factory:()=>new n((0,u.KVO)(u.uvJ))})}return n})();function d_(n){return Ce(()=>{const o=f_(n),s={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ji.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:o.standalone?d=>d.get(Kv).getOrCreateStandaloneInjector(s):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yi.Emulated,styles:n.styles||u.Mlv,_:null,schemas:n.schemas||null,tView:null,id:""};o.standalone&&gs("NgStandalone"),Gv(s);const l=n.dependencies;return s.directiveDefs=Wc(l,h_),s.pipeDefs=Wc(l,u.oyA),s.id=function Ib(n){let o=0;const l=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const g of l.join("|"))o=Math.imul(31,o)+g.charCodeAt(0)|0;return o+=2147483648,"c"+o}(s),s})}function h_(n){return(0,u.xUg)(n)||(0,u.HaV)(n)}function hg(n){return Ce(()=>({type:n.type,bootstrap:n.bootstrap||u.Mlv,declarations:n.declarations||u.Mlv,imports:n.imports||u.Mlv,exports:n.exports||u.Mlv,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Hv(n,o){if(null==n)return u.MZA;const s={};for(const l in n)if(n.hasOwnProperty(l)){const d=n[l];let g,v,C,b;Array.isArray(d)?(C=d[0],g=d[1],v=d[2]??g,b=d[3]||null):(g=d,v=d,C=Xs.None,b=null),s[g]=[l,C,b],o[g]=v}return s}function ST(n){if(null==n)return u.MZA;const o={};for(const s in n)n.hasOwnProperty(s)&&(o[n[s]]=s);return o}function fh(n){return Ce(()=>{const o=f_(n);return Gv(o),o})}function zv(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function f_(n){const o={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputConfig:n.inputs||u.MZA,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||u.Mlv,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Hv(n.inputs,o),outputs:ST(n.outputs),debugInfo:null}}function Gv(n){n.features?.forEach(o=>o(n))}function Wc(n,o){return n?()=>{const s="function"==typeof n?n():n,l=[];for(const d of s){const g=o(d);null!==g&&l.push(g)}return l}:null}function RT(n){return Object.getPrototypeOf(n.prototype).constructor}function qv(n){let o=RT(n.type),s=!0;const l=[n];for(;o;){let d;if((0,u.JlV)(n))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new u.buA(903,!1);d=o.\u0275dir}if(d){if(s){l.push(d);const v=n;v.inputs=p_(n.inputs),v.declaredInputs=p_(n.declaredInputs),v.outputs=p_(n.outputs);const C=d.hostBindings;C&&Ab(n,C);const b=d.viewQuery,W=d.contentQueries;if(b&&Db(n,b),W&&Cb(n,W),MT(n,d),(0,u.dwj)(n.outputs,d.outputs),(0,u.JlV)(d)&&d.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(n),C===qv&&(s=!1)}}o=Object.getPrototypeOf(o)}!function Tb(n){let o=0,s=null;for(let l=n.length-1;l>=0;l--){const d=n[l];d.hostVars=o+=d.hostVars,d.hostAttrs=gt(d.hostAttrs,s=gt(s,d.hostAttrs))}}(l)}function MT(n,o){for(const s in o.inputs){if(!o.inputs.hasOwnProperty(s)||n.inputs.hasOwnProperty(s))continue;const l=o.inputs[s];void 0!==l&&(n.inputs[s]=l,n.declaredInputs[s]=o.declaredInputs[s])}}function p_(n){return n===u.MZA?{}:n===u.Mlv?[]:n}function Db(n,o){const s=n.viewQuery;n.viewQuery=s?(l,d)=>{o(l,d),s(l,d)}:o}function Cb(n,o){const s=n.contentQueries;n.contentQueries=s?(l,d,g)=>{o(l,d,g),s(l,d,g)}:o}function Ab(n,o){const s=n.hostBindings;n.hostBindings=s?(l,d)=>{o(l,d),s(l,d)}:o}const bb=["providersResolver"],wb=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function PT(n){const o=[];let s=!1,l=null,d=null;for(let g=0;g<n.length;g++){const v=n[g];if(null!==v.hostDirectives){const C=o.length;l??=new Map,d??=new Map,Qv(v,o,l),d.set(v,[C,o.length-1])}0===g&&(0,u.JlV)(v)&&(s=!0,o.push(v))}for(let g=s?1:0;g<n.length;g++)o.push(n[g]);return[o,l,d]}function Qv(n,o,s){if(null!==n.hostDirectives)for(const l of n.hostDirectives)if("function"==typeof l){const d=l();for(const g of d)g_(m_(g),o,s)}else g_(l,o,s)}function g_(n,o,s){const l=(0,u.HaV)(n.directive);(function OT(n,o){for(const s in o)o.hasOwnProperty(s)&&(n[o[s]]=n[s])})(l.declaredInputs,n.inputs),Qv(l,o,s),s.set(l,n),o.push(l)}function m_(n){return"function"==typeof n?{directive:(0,u.nl4)(n),inputs:u.MZA,outputs:u.MZA}:{directive:(0,u.nl4)(n.directive),inputs:Yv(n.inputs),outputs:Yv(n.outputs)}}function Yv(n){if(void 0===n||0===n.length)return u.MZA;const o={};for(let s=0;s<n.length;s+=2)o[n[s]]=n[s+1];return o}function Zv(n,o,s,l,d,g,v,C){if(s.firstCreatePass){n.mergedAttrs=gt(n.mergedAttrs,n.attrs);const J=n.tView=xd(2,n,d,g,v,s.directiveRegistry,s.pipeRegistry,null,s.schemas,s.consts,null);null!==s.queries&&(s.queries.template(s,n),J.queries=s.queries.embeddedTView(n))}C&&(n.flags|=C),(0,u.iMd)(n,!1);const b=To(s,o,n,l);(0,u.SX7)()&&zd(s,o,b,n),ot(b,o);const W=CI(b,o,b,n);o[l+u.Yw1]=W,bu(o,W),pT(W,n,o)}function Sl(n,o,s,l,d,g,v,C,b,W,J){const me=s+u.Yw1;let ze;if(o.firstCreatePass){if(ze=aa(o,me,4,v||null,C||null),null!=W){const Ye=(0,u.db4)(o.consts,W);ze.localNames=[];for(let sn=0;sn<Ye.length;sn+=2)ze.localNames.push(Ye[sn],-1)}}else ze=o.data[me];return Zv(ze,n,o,s,l,d,g,b),null!=W&&Ct(n,ze,J),ze}function __(n,o,s,l,d,g,v,C){const b=(0,u.OAn)(),W=(0,u.klJ)();return function NT(n,o,s,l,d,g,v,C,b,W,J){const me=s+u.Yw1;let ze;o.firstCreatePass?(ze=aa(o,me,4,v||null,C||null),(0,u.ckz)()&&Gm(o,n,ze,(0,u.db4)(o.consts,W),Bs),lt(o,ze)):ze=o.data[me],Zv(ze,n,o,s,l,d,g,b),(0,u.yoD)(ze)&&qe(o,n,ze),null!=W&&Ct(n,ze,J)}(b,W,n,o,s,l,d,(0,u.db4)(W.consts,g),void 0,v,C),__}let To=function Rl(n,o,s,l){return(0,u.m7n)(!0),o[u.GpT].createComment("")};var $o=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}($o||{}),ro=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(ro||{}),Ju=function(n){return n[n.Initial=-1]="Initial",n}(Ju||{}),nE=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(nE||{});function pg(n,o,s){const l=LT(n);null===o[l]&&(o[l]=[]),o[l].push(s)}function v_(n,o){const s=LT(n),l=o[s];if(null!==l){for(const d of l)d();o[s]=null}}function kT(n){v_(1,n),v_(0,n),v_(2,n)}function LT(n){let o=4;return 1===n?o=5:2===n&&(o=9),o}function E_(n){return n+1}function la(n,o){return n[E_(o.index)]}function is(n,o){const s=E_(o.index);return n.data[s]}function Ml(n,o){return o===ro.Placeholder?n.placeholderBlockConfig?.[0]??null:o===ro.Loading?n.loadingBlockConfig?.[0]??null:null}function Nb(n){return n.loadingBlockConfig?.[1]??null}function ed(n,o){if(!n||0===n.length)return o;const s=new Set(n);for(const l of o)s.add(l);return n.length===s.size?n:Array.from(s)}function T_(n,o,s){const l=s.get(dr);return function mc(n,o,s){let l=di.get(n);return vo=vo||s(),l||(l=new js,vo.observe(n),di.set(n,l),ds++),l.callbacks.add(o),()=>{di.has(n)&&(l.callbacks.delete(o),0===l.callbacks.size&&(vo?.unobserve(n),di.delete(n),ds--),0===ds&&(vo?.disconnect(),vo=null))}}(n,()=>l.run(o),()=>l.runOutsideAngular(()=>function gc(){return new IntersectionObserver(n=>{for(const o of n)o.isIntersecting&&di.has(o.target)&&di.get(o.target).listener()})}()))}function Qa(n,o,s,l,d,g,v){const C=n[u.YEL],b=C.get(dr);let W;W=function rf(n,o){const s=o?.injector??(0,u.WQX)(u.zZn);return gs("NgAfterRender"),bm(n,s,o,!1)}({read:function J(){if((0,u.EPY)(n))return void W.destroy();const me=la(n,o),ze=me[1];if(ze!==Ju.Initial&&ze!==ro.Placeholder)return void W.destroy();const Ye=function D_(n,o,s){return null==s?n:s>=0?(0,u.jRZ)(s,n):n[o.index][u.Y20]??null}(n,o,l);if(!Ye||(W.destroy(),(0,u.EPY)(Ye)))return;const sn=function kb(n,o){return(0,u.vaC)(u.Yw1+o,n)}(Ye,s),Rn=d(sn,()=>{b.run(()=>{n!==Ye&&(0,u.DyX)(Ye,Rn),g()})},C);n!==Ye&&(0,u.ik5)(Ye,Rn),pg(v,me,Rn)}},{injector:C})}function gh(n,o){const s=o.get(iE);return s.add(n),()=>s.remove(n)}let iE=(()=>{class n{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,u.WQX)(dr);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(s){(this.executingCallbacks?this.deferred:this.current).add(s),null===this.idleId&&this.scheduleIdleCallback()}remove(s){const{current:l,deferred:d}=this;l.delete(s),d.delete(s),0===l.size&&0===d.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const s=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const l of this.current)l();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const l of this.deferred)this.current.add(l);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(s))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,u.jDH)({token:n,providedIn:"root",factory:()=>new n})}return n})();function Mf(n){return(o,s)=>C_(n,o,s)}function C_(n,o,s){const l=s.get(oE),d=s.get(dr);return l.add(n,o,d),()=>l.remove(o)}let oE=(()=>{class n{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(s,l,d){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+s,l),this.scheduleTimer(d)}remove(s){const{current:l,deferred:d}=this;-1===this.removeFromQueue(l,s)&&this.removeFromQueue(d,s),0===l.length&&0===d.length&&this.clearTimeout()}addToQueue(s,l,d){let g=s.length;for(let v=0;v<s.length;v+=2)if(s[v]>l){g=v;break}(0,u.llW)(s,g,l,d)}removeFromQueue(s,l){let d=-1;for(let g=0;g<s.length;g+=2)if(s[g+1]===l){d=g;break}return d>-1&&(0,u.gsJ)(s,d,2),d}scheduleTimer(s){const l=()=>{this.clearTimeout(),this.executingCallbacks=!0;const g=[...this.current],v=Date.now();for(let b=0;b<g.length;b+=2){const J=g[b+1];if(!(g[b]<=v))break;J()}let C=-1;for(let b=0;b<this.current.length&&this.current[b]<=v;b+=2)C=b+1;if(C>=0&&(0,u.gsJ)(this.current,0,C+1),this.executingCallbacks=!1,this.deferred.length>0){for(let b=0;b<this.deferred.length;b+=2)this.addToQueue(this.current,this.deferred[b],this.deferred[b+1]);this.deferred.length=0}this.scheduleTimer(s)};if(this.current.length>0){const g=Date.now(),v=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-v>16){this.clearTimeout();const C=Math.max(v-g,16);this.invokeTimerAt=v,this.timeoutId=s.runOutsideAngular(()=>setTimeout(()=>s.run(l),C))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,u.jDH)({token:n,providedIn:"root",factory:()=>new n})}return n})(),sE=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(s,l,d,g){if(!this.cachedInjectors.has(s)){const v=d.length>0?u_(d,l,g):null;this.cachedInjectors.set(s,v)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,u.jDH)({token:n,providedIn:"environment",factory:()=>new n})}return n})();const BT=new u.nKC("");function Kc(n,o,s){return n.get(sE).getOrCreateInjector(o,n,s,"")}function Hc(n,o,s,l=!1){const d=s[u.f7T],g=d[u.eDl];if((0,u.EPY)(d))return;const v=la(d,o),b=v[7];if(!(null!==b&&n<b)&&_g(v[1],n)&&_g(v[0]??-1,n)){const W=is(g,o),me=l||null===Nb(W)&&null===Ml(W,ro.Loading)&&!Ml(W,ro.Placeholder)?Pf:lE;try{me(n,v,s,o,d)}catch(ze){Ky(d,ze)}}}function Pf(n,o,s,l,d){Ht(20);const g=function dc(n,o,s){const d=is(o[u.eDl],s);switch(n){case ro.Complete:return d.primaryTmplIndex;case ro.Loading:return d.loadingTmplIndex;case ro.Error:return d.errorTmplIndex;case ro.Placeholder:return d.placeholderTmplIndex;default:return null}}(n,d,l);if(null!==g){o[1]=n;const v=d[u.eDl],b=(0,u.XRZ)(v,g+u.Yw1),W=0;let J;if(Pm(s,W),n===ro.Complete){const sn=is(v,l),Rn=sn.providers;Rn&&Rn.length>0&&(J=function $T(n,o,s){if(n instanceof Xu){const d=n.injector,v=Kc(n.parentInjector,o,s);return new Xu(d,v)}const l=n.get(u.uvJ);if(l!==n){const d=Kc(l,o,s);return new Xu(n,d)}return Kc(n,o,s)}(d[u.YEL],sn,Rn))}const{dehydratedView:me,dehydratedViewIx:ze}=function aE(n,o){const s=n[u.qFA]?.findIndex(d=>d.data.s===o[1])??-1;return{dehydratedView:s>-1?n[u.qFA][s]:null,dehydratedViewIx:s}}(s,o),Ye=Jd(d,b,null,{injector:J,dehydratedView:me});if(hf(s,Ye,W,Zd(b,me)),ic(Ye,2),ze>-1&&s[u.qFA]?.splice(ze,1),(n===ro.Complete||n===ro.Error)&&Array.isArray(o[8])){for(const sn of o[8])sn();o[8]=null}}Ht(21)}function Lb(n,o,s,l,d){const g=Date.now(),C=is(d[u.eDl],l);if(null===o[2]||o[2]<=g){o[2]=null;const b=Nb(C),W=null!==o[3];if(n!==ro.Loading||null===b||W){n>ro.Loading&&W&&(o[3](),o[3]=null,o[0]=null),Pf(n,o,s,l,d);const J=Ml(C,n);null!==J&&(o[2]=g+J,mg(J,o,l,s,d))}else{o[0]=n;const J=mg(b,o,l,s,d);o[3]=J}}else o[0]=n}function mg(n,o,s,l,d){return C_(n,()=>{const v=o[0];o[2]=null,o[0]=null,null!==v&&Hc(v,s,l)},d[u.YEL])}function _g(n,o){return n<o}function mh(n,o){Hc(ro.Placeholder,o,n[o.index])}function Of(n,o,s){n.loadingPromise.then(()=>{n.loadingState===$o.COMPLETE?Hc(ro.Complete,o,s):n.loadingState===$o.FAILED&&Hc(ro.Error,o,s)})}let lE=null;function td(n,o,s,l){return Ce(()=>{const d=n;null!==o&&(d.hasOwnProperty("decorators")&&void 0!==d.decorators?d.decorators.push(...o):d.decorators=o),null!==s&&(d.ctorParameters=s),null!==l&&(d.propDecorators=d.hasOwnProperty("propDecorators")&&void 0!==d.propDecorators?{...d.propDecorators,...l}:l)})}let Nf=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const pE=new u.nKC(""),Xc=new u.nKC("");let gE,ew=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(s,l,d){this._ngZone=s,this.registry=l,(0,u.M6u)()&&(this._destroyRef=(0,u.WQX)(u.abz,{optional:!0})??void 0),gE||(function tw(n){gE=n}(d),d.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const s=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),l=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{dr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{s.unsubscribe(),l.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),s()},l)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,l,d){if(d&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,d){return[]}static \u0275fac=function(l){return new(l||n)((0,u.KVO)(dr),(0,u.KVO)(iD),(0,u.KVO)(Xc))};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac})}return n})(),iD=(()=>{class n{_applications=new Map;registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return gE?.findTestabilityInTree(this,s,l)??null}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function oD(n){return!!n&&"function"==typeof n.then}function sD(n){return!!n&&"function"==typeof n.subscribe}const mE=new u.nKC("");function _P(n){return(0,u.EmA)([{provide:mE,multi:!0,useValue:n}])}let nw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l});appInits=(0,u.WQX)(mE,{optional:!0})??[];injector=(0,u.WQX)(u.zZn);constructor(){}runInitializers(){if(this.initialized)return;const s=[];for(const d of this.appInits){const g=(0,u.N4e)(this.injector,d);if(oD(g))s.push(g);else if(sD(g)){const v=new Promise((C,b)=>{g.subscribe({complete:C,error:b})});s.push(v)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rw=new u.nKC("");function aD(){}function iw(){(0,k.KO)(()=>{throw new u.buA(600,"")})}function ow(n,o){return Array.isArray(o)?o.reduce(ow,n):{...n,...o}}let Ig=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,u.WQX)(u.ZTf);afterRenderManager=(0,u.WQX)(tc);zonelessEnabled=(0,u.WQX)(u.Evm);rootEffectScheduler=(0,u.WQX)(u.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,u.WQX)(u.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,fe.T)(s=>!s))}constructor(){(0,u.WQX)(Ud,{optional:!0})}whenStable(){let s;return new Promise(l=>{s=this.isStable.subscribe({next:d=>{d&&l()}})}).finally(()=>{s.unsubscribe()})}_injector=(0,u.WQX)(u.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(s,l){return this.bootstrapImpl(s,l)}bootstrapImpl(s,l,d=u.zZn.NULL){return this._injector.get(dr).run(()=>{Ht(10);const v=s instanceof Zp;if(!this._injector.get(nw).done)throw new u.buA(405,"");let b;b=v?s:this._injector.get(yf).resolveComponentFactory(s),this.componentTypes.push(b.componentType);const W=function yP(n){return n.isBoundToModule}(b)?void 0:this._injector.get(Yu),me=b.create(d,[],l||b.selector,W),ze=me.location.nativeElement,Ye=me.injector.get(pE,null);return Ye?.registerApplication(ze),me.onDestroy(()=>{this.detachView(me.hostView),_E(this.components,me),Ye?.unregisterApplication(ze)}),this._loadComponent(me),Ht(11,me),me})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ht(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Zh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new u.buA(101,!1);const s=(0,k.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,k.Ht)(s),this.afterTick.next(),Ht(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Km,null,{optional:!0}));let s=0;for(;0!==this.dirtyFlags&&s++<10;)Ht(14),this.synchronizeOnce(),Ht(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let s=!1;if(7&this.dirtyFlags){const l=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:d}of this.allViews)(l||(0,u.dMS)(d))&&(rc(d,l&&!this.zonelessEnabled?0:1),s=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}s||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:s})=>(0,u.dMS)(s))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;_E(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView);try{this.tick()}catch(d){this.internalErrorHandler(d)}this.components.push(s),this._injector.get(rw,[]).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>_E(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new u.buA(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _E(n,o){const s=n.indexOf(o);s>-1&&n.splice(s,1)}function lD(){let n,o;return{promise:new Promise((l,d)=>{n=l,o=d}),resolve:n,reject:o}}function aw(n){const o=(0,u.OAn)(),s=(0,u.Mx4)();if(mh(o,s),!x_(0,o))return;const l=o[u.YEL];pg(0,la(o,s),n(()=>rd(0,o,s),l))}function N_(n){const o=(0,u.OAn)(),s=o[u.YEL],l=(0,u.Mx4)(),g=is(o[u.eDl],l);g.loadingState===$o.NOT_STARTED&&pg(1,la(o,l),n(()=>Dg(g,o,l),s))}function Tg(n,o,s){const l=o[u.YEL],d=la(o,s),g=d[6];pg(2,d,n(()=>id(l,g),l))}function Dg(n,o,s){yE(n,o,s)}function yE(n,o,s){const l=o[u.YEL],d=o[u.eDl];if(n.loadingState!==$o.NOT_STARTED)return n.loadingPromise??Promise.resolve();const g=la(o,s),v=function I_(n,o){return(0,u.XRZ)(n,o.primaryTmplIndex+u.Yw1)}(d,n);n.loadingState=$o.IN_PROGRESS,v_(1,g);let C=n.dependencyResolverFn;const b=l.get(u.u5s).add();return C?(n.loadingPromise=Promise.allSettled(C()).then(W=>{let J=!1;const me=[],ze=[];for(const Ye of W){if("fulfilled"!==Ye.status){J=!0;break}{const sn=Ye.value,Rn=(0,u.xUg)(sn)||(0,u.HaV)(sn);if(Rn)me.push(Rn);else{const hr=(0,u.oyA)(sn);hr&&ze.push(hr)}}}if(J){if(n.loadingState=$o.FAILED,null===n.errorTmplIndex){const sn=new u.buA(-750,!1);Ky(o,sn)}}else{n.loadingState=$o.COMPLETE;const Ye=v.tView;if(me.length>0){Ye.directiveRegistry=ed(Ye.directiveRegistry,me);const sn=me.map(hr=>hr.type),Rn=(0,u.jXY)(!1,...sn);n.providers=Rn}ze.length>0&&(Ye.pipeRegistry=ed(Ye.pipeRegistry,ze))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,b()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=$o.COMPLETE,b()}),n.loadingPromise)}function x_(n,o){return o[u.YEL].get(BT,null,{optional:!0})?.behavior!==nE.Manual}function rd(n,o,s){const l=o[u.eDl],d=o[s.index];if(!x_(0,o))return;const g=la(o,s),v=is(l,s);switch(kT(g),v.loadingState){case $o.NOT_STARTED:Hc(ro.Loading,s,d),yE(v,o,s),v.loadingState===$o.IN_PROGRESS&&Of(v,s,d);break;case $o.IN_PROGRESS:Hc(ro.Loading,s,d),Of(v,s,d);break;case $o.COMPLETE:Hc(ro.Complete,s,d);break;case $o.FAILED:Hc(ro.Error,s,d)}}function id(n,o,s){return vh.apply(this,arguments)}function vh(){return(vh=(0,h.A)(function*(n,o,s){const l=n.get(bs);if(l.hydrating.has(o))return;const{parentBlockPromise:g,hydrationQueue:v}=function Cn(n,o){const s=o.get(bs),d=o.get(Yi).get("__nghDeferData__",{});let g=!1,v=n,C=null;const b=[];for(;!g&&v;){g=s.has(v);const W=s.hydrating.get(v);if(null===C&&null!=W){C=W.promise;break}b.unshift(v),v=d[v].p}return{parentBlockPromise:C,hydrationQueue:b}}(o,n);if(0===v.length)return;null!==g&&v.shift(),function cw(n,o){for(let s of o)n.hydrating.set(s,lD())}(l,v),null!==g&&(yield g);const C=v[0];l.has(C)?yield k_(n,v,s):l.awaitParentBlock(C,(0,h.A)(function*(){return yield k_(n,v,s)}))})).apply(this,arguments)}function k_(n,o,s){return vE.apply(this,arguments)}function vE(){return(vE=(0,h.A)(function*(n,o,s){const l=n.get(bs),d=l.hydrating,g=n.get(u.rev),v=g.add();for(let b=0;b<o.length;b++){const W=o[b],J=l.get(W);if(null==J){cD(b,o,l),Cg(o.slice(b),l);break}if(yield dD(J),yield uD(n),lw(J)){QI(J),Cg(o.slice(b),l);break}d.get(W).resolve()}const C=o[o.length-1];yield d.get(C)?.promise,g.remove(v),s&&s(o),function dv(n,o,s,l){null!==n&&(s.cleanup(o),lh(n.lContainer),function jm(n){const o=n._views;for(const s of o){const l=Ks(s);null!==l&&null!==l[u.jgP]&&((0,u.q$2)(l)?Hu(l):lh(l))}}(l))}(l.get(C),o,l,n.get(Ig))})).apply(this,arguments)}function lw(n){return la(n.lView,n.tNode)[1]===ro.Error}function cD(n,o,s){const l=n-1,d=l>-1?s.get(o[l]):null;d&&lh(d.lContainer)}function Cg(n,o){const s=o.hydrating;for(const l in n)s.get(l)?.reject();o.cleanup(n)}function uD(n){return new Promise(o=>Dl(o,{injector:n}))}function dD(n){return qc.apply(this,arguments)}function qc(){return(qc=(0,h.A)(function*(n){const{tNode:o,lView:s}=n,l=la(s,o);return new Promise(d=>{(function Ya(n,o){Array.isArray(n[8])||(n[8]=[]),n[8].push(o)})(l,d),rd(0,s,o)})})).apply(this,arguments)}function Ri(n,o,s){return 0===n?EE(o,s):2!==n||!EE(o,s)}function EE(n,o){const s=n[u.YEL],l=is(n[u.eDl],o),d=Eo(s),g=function hD(n){return null!=n&&!(1&~n)}(l.flags),C=null!==la(n,o)[6];return!(g&&C&&d)}function Ja(n,o){const s=is(n,o);return s.hydrateTriggers??=new Map}function CE(n,o,s,l){const d=(0,u.OAn)();return _o(d,(0,u.xbp)(),o)&&((0,u.klJ)(),function Up(n,o,s,l,d,g){const v=(0,u.d31)(n,o);Xd(o[u.GpT],v,g,n.value,s,l,d)}((0,u.CpD)(),d,n,o,s,l)),CE}const Tw=new u.nKC("",{providedIn:"root",factory:()=>!1}),Dw=new u.nKC("",{providedIn:"root",factory:()=>Cw}),Cw=4e3,sd=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function kf(n){return n[u.YEL].get(Tw,!1)}function V_(n){const o=ad.get(n);if(o){for(const s of o.cleanupFns)s();ad.delete(n)}Za.delete(n)}const Ih=()=>{},ad=new WeakMap,Za=new WeakMap,Th=new WeakMap;function U_(n,o){const s=Th.get(n);if(s&&s.length>0){const l=s.findIndex(d=>d===o);l>-1&&s.splice(l,1)}0===s?.length&&Th.delete(n)}function ld(n,o){const s=Th.get(n)?.shift(),l=o[u.rQE];if(l){const g=ku(n.index,l)?.previousSibling;s&&g&&s===g&&s.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function cd(n,o){Th.has(n)?Th.get(n)?.push(o):Th.set(n,[o])}function Ag(n){const o=n[u.Isx]??={};return o.enter??=new Map}function ud(n){const o=n[u.Isx]??={};return o.leave??=new Map}function ys(n){const o="function"==typeof n?n():n;let s=Array.isArray(o)?o:null;return"string"==typeof o&&(s=o.trim().split(/\s+/).filter(l=>l)),s}function Ol(n,o){const s=Za.get(o);return void 0===s||o===n.target&&(void 0!==s.animationName&&n.animationName===s.animationName||void 0!==s.propertyName&&n.propertyName===s.propertyName)}function vs(n,o,s){const l=n.get(o.index)??{animateFns:[]};l.animateFns.push(s),n.set(o.index,l)}function bE(n,o){if(n)for(const s of n)s();for(const s of o)s()}function Lf(n,o){const s=ud(n).get(o.index);s&&(s.resolvers=void 0)}function B_(n,o,s,l,d){U_(o,s),bE(l,d),Lf(n,o)}class Sw{destroy(o){}updateValue(o,s){}swap(o,s){const l=Math.min(o,s),d=Math.max(o,s),g=this.detach(d);if(d-l>1){const v=this.detach(l);this.attach(l,g),this.attach(d,v)}else this.attach(l,g)}move(o,s){this.attach(s,this.detach(o,!0))}}function wE(n,o,s,l,d){return n===s&&Object.is(o,l)?1:Object.is(d(n,o),d(s,l))?-1:0}function W_(n,o,s,l){return!(void 0===o||!o.has(l)||(n.attach(s,o.get(l)),o.delete(l),0))}function Ch(n,o,s,l,d){if(W_(n,o,l,s(l,d)))n.updateValue(l,d);else{const g=n.create(l,d);n.attach(l,g)}}function bD(n,o,s,l){const d=new Set;for(let g=o;g<=s;g++)d.add(l(g,n.at(g)));return d}class Vf{kvMap=new Map;_vMap=void 0;has(o){return this.kvMap.has(o)}delete(o){if(!this.has(o))return!1;const s=this.kvMap.get(o);return void 0!==this._vMap&&this._vMap.has(s)?(this.kvMap.set(o,this._vMap.get(s)),this._vMap.delete(s)):this.kvMap.delete(o),!0}get(o){return this.kvMap.get(o)}set(o,s){if(this.kvMap.has(o)){let l=this.kvMap.get(o);void 0===this._vMap&&(this._vMap=new Map);const d=this._vMap;for(;d.has(l);)l=d.get(l);d.set(l,s)}else this.kvMap.set(o,s)}forEach(o){for(let[s,l]of this.kvMap)if(o(l,s),void 0!==this._vMap){const d=this._vMap;for(;d.has(l);)l=d.get(l),o(l,s)}}}function SE(n,o,s,l,d,g,v,C){gs("NgControlFlow");const b=(0,u.OAn)(),W=(0,u.klJ)();return Sl(b,W,n,o,s,l,d,(0,u.db4)(W.consts,g),512,v,C),SE}class K_{lContainer;$implicit;$index;constructor(o,s,l){this.lContainer=o,this.$implicit=s,this.$index=l}get $count(){return this.lContainer.length-u.Y20}}class RD{hasEmptyBlock;trackByFn;liveCollection;constructor(o,s,l){this.hasEmptyBlock=o,this.trackByFn=s,this.liveCollection=l}}class PD extends Sw{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(o,s,l){super(),this.lContainer=o,this.hostLView=s,this.templateTNode=l}get length(){return this.lContainer.length-u.Y20}at(o){return this.getLView(o)[u.SKP].$implicit}attach(o,s){const l=s[u.tcA];this.needsIndexUpdate||=o!==this.length,hf(this.lContainer,s,o,Zd(this.templateTNode,l))}detach(o,s){return this.needsIndexUpdate||=o!==this.length-1,s&&function OD(n,o){if(n.length<=u.Y20)return;const l=n[u.Y20+o];l&&l[u.Isx]&&(l[u.Isx].skipLeaveAnimations=!0)}(this.lContainer,o),function ME(n,o){return Wp(n,o)}(this.lContainer,o)}create(o,s){const l=zu(this.lContainer,this.templateTNode.tView.ssrId),d=Jd(this.hostLView,this.templateTNode,new K_(this.lContainer,s,o),{dehydratedView:l});return this.operationsCounter?.recordCreate(),d}destroy(o){Ga(o[u.eDl],o),this.operationsCounter?.recordDestroy()}updateValue(o,s){this.getLView(o)[u.SKP].$implicit=s}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let o=0;o<this.length;o++)this.getLView(o)[u.SKP].$index=o}getLView(o){return function Nw(n,o){return Uu(n,o)}(this.lContainer,o)}}function Rg(n,o){return n[o]}function H_(n,o){return(0,u.XRZ)(n,o)}function PE(n,o,s){const l=(0,u.OAn)();return _o(l,(0,u.xbp)(),o)&&((0,u.klJ)(),qs((0,u.CpD)(),l,n,o,l[u.GpT],s)),PE}function Mg(n,o,s,l,d){Fu(o,n,s,d?"class":"style",l)}function Uf(n,o,s,l){const d=(0,u.OAn)(),g=d[u.eDl],v=n+u.Yw1,C=g.firstCreatePass?Qm(v,d,2,o,Bs,(0,u.ckz)(),s,l):g.data[v];if(Qd(C,d,n,o,xE),(0,u.yoD)(C)){const b=d[u.eDl];qe(b,d,C),mr(b,C,d)}return null!=l&&Ct(d,C),Uf}function Bf(){const n=(0,u.klJ)(),s=Bp((0,u.Mx4)());return n.firstCreatePass&&Ev(n,s),(0,u.UhH)(s)&&(0,u.krE)(),(0,u.N79)(),null!=s.classesWithoutHost&&function fr(n){return!!(8&n.flags)}(s)&&Mg(n,s,(0,u.OAn)(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Gn(n){return!!(16&n.flags)}(s)&&Mg(n,s,(0,u.OAn)(),s.stylesWithoutHost,!1),Bf}function OE(n,o,s,l){return Uf(n,o,s,l),Bf(),OE}function NE(n,o,s,l){const d=(0,u.OAn)(),g=d[u.eDl],v=n+u.Yw1,C=g.firstCreatePass?Ym(v,g,2,o,s,l):g.data[v];return Qd(C,d,n,o,xE),null!=l&&Ct(d,C),NE}function z_(){const o=Bp((0,u.Mx4)());return(0,u.UhH)(o)&&(0,u.krE)(),(0,u.N79)(),z_}let xE=(n,o,s,l,d)=>((0,u.m7n)(!0),Rc(o[u.GpT],l,(0,u.UaU)()));function Pg(n,o,s){const l=(0,u.OAn)(),d=l[u.eDl],g=n+u.Yw1,v=d.firstCreatePass?Qm(g,l,8,"ng-container",Bs,(0,u.ckz)(),o,s):d.data[g];if(Qd(v,l,n,"ng-container",FE),(0,u.yoD)(v)){const C=l[u.eDl];qe(C,l,v),mr(C,v,l)}return null!=s&&Ct(l,v),Pg}function $f(){const n=(0,u.klJ)(),s=Bp((0,u.Mx4)());return n.firstCreatePass&&Ev(n,s),$f}function kE(n,o,s){return Pg(n,o,s),$f(),kE}function LE(n,o,s){const l=(0,u.OAn)(),d=l[u.eDl],g=n+u.Yw1,v=d.firstCreatePass?Ym(g,d,8,"ng-container",o,s):d.data[g];return Qd(v,l,n,"ng-container",FE),null!=s&&Ct(l,v),LE}function xD(){return Bp((0,u.Mx4)()),$f}let FE=(n,o,s,l,d)=>((0,u.m7n)(!0),Sc(o[u.GpT],""));function FD(){return(0,u.OAn)()}const xl=void 0;var Fw=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xl,"{1} 'at' {0}",xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VE(n){const o=Math.floor(Math.abs(n)),s=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===s?1:5}];let jf={};function dd(n){const o=function BE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=$D(o);if(s)return s;const l=o.split("-")[0];if(s=$D(l),s)return s;if("en"===l)return Fw;throw new u.buA(701,!1)}function BD(n){return dd(n)[Wf.PluralCase]}function $D(n){return n in jf||(jf[n]=u.laP.ng&&u.laP.ng.common&&u.laP.ng.common.locales&&u.laP.ng.common.locales[n]),jf[n]}var Wf=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Wf||{});const jD=["zero","one","two","few","many"],G_="en-US",Og={marker:"element"},Ng={marker:"ICU"};var Ys=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Ys||{});let $E=G_;function $w(n){"string"==typeof n&&($E=n.toLowerCase().replace(/_/g,"-"))}let Kf=0,Hf=0;let xi=(n,o,s,l)=>((0,u.m7n)(!0),function jE(n,o,s){const l=n[u.GpT];switch(s){case Node.COMMENT_NODE:return Sc(l,o);case Node.TEXT_NODE:return Od(l,o);case Node.ELEMENT_NODE:return Rc(l,o,null)}}(n,s,l));function ho(n,o,s,l){const d=s[u.GpT];let v,g=null;for(let C=0;C<o.length;C++){const b=o[C];if("string"==typeof b){const W=o[++C];null===s[W]&&(s[W]=xi(s,0,b,Node.TEXT_NODE))}else if("number"==typeof b)switch(1&b){case 0:const W=Gp(b);let J,me;if(null===g&&(g=W,v=d.parentNode(l)),W===g?(J=l,me=v):(J=null,me=(0,u.IvY)(s[W])),null!==me){const Rn=rv(b);Yl(d,me,s[Rn],J,!1);const _r=zp(n,Rn);if(null!==_r&&"object"==typeof _r){const xn=xm(_r,s);null!==xn&&ho(n,_r.create[xn],s,s[_r.anchorIdx])}}break;case 1:const Ye=o[++C],sn=o[++C];Xd(d,(0,u.vaC)(b>>>1,s),null,null,Ye,sn,null)}else switch(b){case Ng:const W=o[++C],J=o[++C];null===s[J]&&ot(s[J]=xi(s,0,W,Node.COMMENT_NODE),s);break;case Og:const me=o[++C],ze=o[++C];null===s[ze]&&ot(s[ze]=xi(s,0,me,Node.ELEMENT_NODE),s)}}}function q_(n,o,s,l,d){for(let g=0;g<s.length;g++){const v=s[g],C=s[++g];if(v&d){let b="";for(let W=g+1;W<=g+C;W++){const J=s[W];if("string"==typeof J)b+=J;else if("number"==typeof J)if(J<0)b+=(0,u.eFE)(o[l-J]);else{const me=J>>>2;switch(3&J){case 1:const ze=s[++W],Ye=s[++W],sn=n.data[me];"string"==typeof sn?Xd(o[u.GpT],o[me],null,sn,ze,b,Ye):qs(sn,o,ze,b,o[u.GpT],Ye);break;case 0:const Rn=o[me];null!==Rn&&Cp(o[u.GpT],Rn,b);break;case 2:xg(n,zp(n,me),o,b);break;case 3:HD(n,zp(n,me),l,o)}}}}else{const b=s[g+1];if(b>0&&!(3&~b)){const J=zp(n,b>>>2);o[J.currentCaseLViewIndex]<0&&HD(n,J,l,o)}}g+=C}}function HD(n,o,s,l){let d=l[o.currentCaseLViewIndex];if(null!==d){let g=Kf;d<0&&(d=l[o.currentCaseLViewIndex]=~d,g=-1),q_(n,l,o.update[d],s,g)}}function xg(n,o,s,l){const d=function Wo(n,o){let s=n.cases.indexOf(o);if(-1===s)switch(n.type){case 1:{const l=function Uw(n,o){const s=BD(o)(parseInt(n,10)),l=jD[s];return void 0!==l?l:"other"}(o,function WD(){return $E}());s=n.cases.indexOf(l),-1===s&&"other"!==l&&(s=n.cases.indexOf("other"));break}case 0:s=n.cases.indexOf("other")}return-1===s?null:s}(o,l);if(xm(o,s)!==d&&(WE(n,o,s),s[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const v=s[o.anchorIdx];v&&ho(n,o.create[d],s,v)}}function WE(n,o,s){let l=xm(o,s);if(null!==l){const d=o.remove[l];for(let g=0;g<d.length;g++){const v=d[g];if(v>0){const C=(0,u.vaC)(v,s);null!==C&&Au(s[u.GpT],C)}else WE(n,zp(n,~v),s)}}}const Q_=/\ufffd(\d+):?\d*\ufffd/gi,jw=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Ww=/\ufffd(\d+)\ufffd/,KE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,HE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,kg=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Kw=/\uE500/g;function XD(n,o,s,l,d,g,v){const C=Zl(n,l,1,null);let b=C<<Ys.SHIFT,W=(0,u.Ab)();o===W&&(W=null),null===W&&(b|=Ys.APPEND_EAGERLY),v&&(b|=Ys.COMMENT,function Su(n){void 0===Yh&&(Yh=n())}(Xp)),d.push(b,null===g?"":g);const J=ju(n,C,v?32:1,null===g?"":g,null);MI(s,J);const me=J.index;return(0,u.iMd)(J,!1),null!==W&&o!==W&&function xA(n,o){let s=n.insertBeforeIndex;null===s?(kp(Hp,nv),s=n.insertBeforeIndex=[null,o]):((0,u.Xln)(Array.isArray(s),!0,"Expecting array here"),s.push(o))}(W,me),J}function qD(n,o,s,l,d,g,v,C){const b=C.match(Q_),J=XD(o,s,l,v,d,b?null:C,!1).index;b&&oi(g,C,J,null,0,null),n.push({kind:0,index:J})}function oi(n,o,s,l,d,g){const v=n.length,C=v+1;n.push(null,null);const b=v+2,W=o.split(Q_);let J=0;for(let me=0;me<W.length;me++){const ze=W[me];if(1&me){const Ye=d+parseInt(ze,10);n.push(-1-Ye),J|=Lg(Ye)}else""!==ze&&n.push(ze)}return n.push(s<<2|(l?1:0)),l&&n.push(l,g),n[v]=J,n[C]=n.length-b,J}function Y_(n){let o=0;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l&&l<0&&o++}return o}function Lg(n){return 1<<Math.min(n,31)}function zE(n){let o,g,s="",l=0,d=!1;for(;null!==(o=HE.exec(n));)d?o[0]===`\ufffd/*${g}\ufffd`&&(l=o.index,d=!1):(s+=n.substring(l,o.index+o[0].length),g=o[1],d=!0);return s+=n.slice(l),s}function Fg(n,o,s,l,d,g,v){let C=0;const b={type:g.type,currentCaseLViewIndex:Zl(o,s,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function zw(n,o,s){n.push(Lg(o.mainBinding),2,-1-o.mainBinding,s<<2|2)})(l,g,v),function NI(n,o,s){const l=n.data[o];null===l?n.data[o]=s:l.value=s}(o,v,b);const W=g.values,J=[];for(let me=0;me<W.length;me++){const ze=W[me],Ye=[];for(let Rn=0;Rn<ze.length;Rn++){const hr=ze[Rn];if("string"!=typeof hr){const _r=Ye.push(hr)-1;ze[Rn]=`\x3c!--\ufffd${_r}\ufffd--\x3e`}}const sn=[];J.push(sn),C=da(sn,o,b,s,l,d,g.cases[me],ze.join(""),Ye)|C}C&&function YD(n,o,s){n.push(o,1,s<<2|3)}(l,C,v),n.push({kind:3,index:v,cases:J,currentCaseLViewIndex:b.currentCaseLViewIndex})}function Ll(n){const o=[],s=[];let l=1,d=0;const g=GE(n=n.replace(KE,function(v,C,b){return l="select"===b?0:1,d=parseInt(C.slice(1),10),""}));for(let v=0;v<g.length;){let C=g[v++].trim();1===l&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&o.push(C);const b=GE(g[v++]);o.length>s.length&&s.push(b)}return{type:l,mainBinding:d,cases:o,values:s}}function GE(n){if(!n)return[];let o=0;const s=[],l=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(n);){const C=g.index;if("}"==g[0]){if(s.pop(),0==s.length){const b=n.substring(o,C);KE.test(b)?l.push(Ll(b)):l.push(b),o=C+1}}else{if(0==s.length){const b=n.substring(o,C);l.push(b),o=C+1}s.push("{")}}const v=n.substring(o);return l.push(v),l}function da(n,o,s,l,d,g,v,C,b){const W=[],J=[],me=[];s.cases.push(v),s.create.push(W),s.remove.push(J),s.update.push(me);const Ye=Ia(_n()).getInertBodyElement(C),sn=$t(Ye)||Ye;return sn?QD(n,o,s,l,d,W,J,me,sn,g,b,0):0}function QD(n,o,s,l,d,g,v,C,b,W,J,me){let ze=0,Ye=b.firstChild;for(;Ye;){const sn=Zl(o,l,1,null);switch(Ye.nodeType){case Node.ELEMENT_NODE:const Rn=Ye,hr=Rn.tagName.toLowerCase();if(fu.hasOwnProperty(hr)){Z_(g,Og,hr,W,sn),o.data[sn]=hr;const Fs=Rn.attributes;for(let tl=0;tl<Fs.length;tl++){const Vl=Fs.item(tl),My=Vl.name.toLowerCase();Vl.value.match(Q_)?Ba.hasOwnProperty(My)&&oi(C,Vl.value,sn,Vl.name,0,pu[My]?Ta:null):JD(g,sn,Vl)}const fo={kind:1,index:sn,children:[]};n.push(fo),ze=QD(fo.children,o,s,l,d,g,v,C,Ye,sn,J,me+1)|ze,J_(v,sn,me)}break;case Node.TEXT_NODE:const _r=Ye.textContent||"",xn=_r.match(Q_);Z_(g,null,xn?"":_r,W,sn),J_(v,sn,me),xn&&(ze=oi(C,_r,sn,null,0,null)|ze),n.push({kind:0,index:sn});break;case Node.COMMENT_NODE:const eo=Ww.exec(Ye.textContent||"");if(eo){const fo=J[parseInt(eo[1],10)];Z_(g,Ng,"",W,sn),Fg(n,o,l,d,W,fo,sn),XE(v,sn,me)}}Ye=Ye.nextSibling}return ze}function J_(n,o,s){0===s&&n.push(o)}function XE(n,o,s){0===s&&(n.push(~o),n.push(o))}function Z_(n,o,s,l,d){null!==o&&n.push(o),n.push(s,d,function LI(n,o,s){return n|o<<17|s<<1}(0,l,d))}function JD(n,o,s){n.push(o<<1|1,s.name,s.value)}const ZD=/\[(\ufffd.+?\ufffd?)\]/,eC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Gw=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Xw=/{([A-Z0-9_]+)}/g,qw=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Do=/\/\*/,Qw=/\d+\:(\d+)/;function Vg(n,o,s=-1){const l=(0,u.klJ)(),d=(0,u.OAn)(),g=u.Yw1+n,v=(0,u.db4)(l.consts,o),C=(0,u.Ab)();l.firstCreatePass&&function Hw(n,o,s,l,d,g){const v=(0,u.Ab)(),C=[],b=[],W=[[]],J=[[]];d=function hc(n,o){if(function FI(n){return-1===n}(o))return zE(n);{const s=n.indexOf(`:${o}\ufffd`)+2+o.toString().length,l=n.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return zE(n.substring(s,l))}}(d,g);const me=function GD(n){return n.replace(Kw," ")}(d).split(kg);for(let ze=0;ze<me.length;ze++){let Ye=me[ze];if(1&ze){const sn=47===Ye.charCodeAt(0),Rn=Ye.charCodeAt(sn?1:0),hr=u.Yw1+Number.parseInt(Ye.substring(sn?2:1));if(sn)W.shift(),J.shift(),(0,u.iMd)((0,u.Ab)(),!1);else{const _r=xI(n,W[0],hr);W.unshift([]),(0,u.iMd)(_r,!0);const xn={kind:2,index:hr,children:[],type:35===Rn?0:1};J[0].push(xn),J.unshift(xn.children)}}else{const sn=GE(Ye);for(let Rn=0;Rn<sn.length;Rn++){let hr=sn[Rn];if(1&Rn){const _r=hr;if("object"!=typeof _r)throw new Error(`Unable to parse ICU expression in "${d}" message.`);const eo=XD(n,v,W[0],s,C,"",!0).index;Fg(J[0],n,s,b,o,_r,eo)}else""!==hr&&qD(J[0],n,v,W[0],C,b,s,hr)}}}n.data[l]={create:C,update:b,ast:J[0],parentTNodeIndex:o}}(l,null===C?0:C.index,d,g,v,s),2===l.type?d[u.b5C][u.Wg1]|=32:d[u.Wg1]|=32;const b=l.data[g],J=qo(l,C===d[u.qlT]?null:C,d);(function hd(n,o,s,l){const d=n[u.GpT];for(let g=0;g<o.length;g++){const v=o[g++],W=(v&Ys.APPEND_EAGERLY)===Ys.APPEND_EAGERLY,J=v>>>Ys.SHIFT;let me=n[J],ze=!1;null===me&&(me=n[J]=xi(n,0,o[g],(v&Ys.COMMENT)===Ys.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ze=(0,u.SX7)()),W&&null!==s&&ze&&Yl(d,s,me,l,!1)}})(d,b.create,J,C&&8&C.type?d[C.index]:null),(0,u.xyx)(!0)}function ey(){(0,u.xyx)(!1)}function wh(n,o,s){const l=(0,u.OAn)(),d=(0,u.klJ)(),g=(0,u.Mx4)();return Ug(d,l,l[u.GpT],g,n,o,s),wh}function Ug(n,o,s,l,d,g,v){let C=!0,b=null;if((3&l.type||v)&&(b??=qa(l,o,g),dh(l,n,o,v,s,d,g,b)&&(C=!1)),C){const W=l.outputs?.[d],J=l.hostDirectiveOutputs?.[d];if(J&&J.length)for(let me=0;me<J.length;me+=2){const ze=J[me],Ye=J[me+1];b??=qa(l,o,g),rg(l,o,ze,Ye,d,b)}if(W&&W.length)for(const me of W)b??=qa(l,o,g),rg(l,o,me,d,d,b)}}function nC(n=1){return(0,u.jvu)(n)}function qE(n,o){let s=null;const l=function mm(n){const o=n.attrs;if(null!=o){const s=o.indexOf(5);if(!(1&s))return o[s+1]}return null}(n);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?Aa(n,g,!0):By(l,g))return d}else s=d}return s}function QE(n){const o=(0,u.OAn)()[u.b5C][u.qlT];if(!o.projection){const l=o.projection=(0,u.WfI)(n?n.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){if(128!==g.type){const v=n?qE(g,n):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g)}g=g.next}}}function Sh(n,o=0,s,l,d,g){const v=(0,u.OAn)(),C=(0,u.klJ)(),b=l?n+1:null;null!==b&&Sl(v,C,b,l,d,g,null,s);const W=aa(C,u.Yw1+n,16,null,s||null);null===W.projection&&(W.projection=o),(0,u.Pfq)();const me=!v[u.tcA]||(0,u.KtD)();null===v[u.b5C][u.qlT].projection[W.projection]&&null!==b?function Bg(n,o,s){const l=u.Yw1+s,d=o.data[l],g=n[l],v=zu(g,d.tView.ssrId);hf(g,Jd(n,d,void 0,{dehydratedView:v}),0,Zd(d,v))}(v,C,b):me&&!Ws(W)&&function p(n,o,s){m(o[u.GpT],0,o,s,Hd(n,s,o),Yr(s.parent||o[u.qlT],s,o))}(C,v,W)}function Xf(n,o,s,l){a_(n,o,s,l)}function rC(n,o,s){_T(n,o,s)}function ty(n){const o=(0,u.OAn)(),s=(0,u.klJ)(),l=(0,u.w7Z)();(0,u.GA0)(l+1);const d=cg(s,l);if(n.dirty&&(0,u.vOT)(o)===!(2&~d.metadata.flags)){if(null===d.matches)n.reset([]);else{const g=yT(o,l);n.reset(g,io),n.notifyOnChanges()}return!0}return!1}function qf(){return o_((0,u.OAn)(),(0,u.w7Z)())}function iC(n){const o=(0,u.VPL)();return(0,u.Hh6)(o,u.Yw1+n)}function ry(n,o){return n<<17|o<<2}function Jc(n){return n>>17&32767}function JE(n){return 2|n}function Zc(n){return(131068&n)>>2}function iy(n,o){return-131069&n|o<<2}function Qf(n){return 1|n}function Rh(n,o,s,l){const d=n[s+1],g=null===o;let v=l?Jc(d):Zc(d),C=!1;for(;0!==v&&(!1===C||g);){const W=n[v+1];ZE(n[v],o)&&(C=!0,n[v+1]=l?Qf(W):JE(W)),v=l?Jc(W):Zc(W)}C&&(n[s+1]=l?JE(d):Qf(d))}function ZE(n,o){return null===n||null==o||(Array.isArray(n)?n[1]:n)===o||!(!Array.isArray(n)||"string"!=typeof o)&&(0,u.FRF)(n,o)>=0}const os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sC(n){return n.substring(os.key,os.keyEnd)}function rS(n){return n.substring(os.value,os.valueEnd)}function lC(n,o){const s=os.textEnd;return s===o?-1:(o=os.keyEnd=function e0(n,o,s){for(;o<s&&n.charCodeAt(o)>32;)o++;return o}(n,os.key=o,s),fd(n,o,s))}function cC(n,o){const s=os.textEnd;let l=os.key=fd(n,o,s);return s===l?-1:(l=os.keyEnd=function t0(n,o,s){let l;for(;o<s&&(45===(l=n.charCodeAt(o))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)o++;return o}(n,l,s),l=$g(n,l,s),l=os.value=fd(n,l,s),l=os.valueEnd=function jg(n,o,s){let l=-1,d=-1,g=-1,v=o,C=v;for(;v<s;){const b=n.charCodeAt(v++);if(59===b)return C;34===b||39===b?C=v=pd(n,b,v,s):o===v-4&&85===g&&82===d&&76===l&&40===b?C=v=pd(n,41,v,s):b>32&&(C=v),g=d,d=l,l=-33&b}return C}(n,l,s),$g(n,l,s))}function Fl(n){os.key=0,os.keyEnd=0,os.value=0,os.valueEnd=0,os.textEnd=n.length}function fd(n,o,s){for(;o<s&&n.charCodeAt(o)<=32;)o++;return o}function $g(n,o,s,l){return(o=fd(n,o,s))<s&&o++,o}function pd(n,o,s,l){let d=-1,g=s;for(;g<l;){const v=n.charCodeAt(g++);if(v==o&&92!==d)return g;d=92==v&&92===d?0:v}throw new Error}function n0(n,o){return Hg(n,o,null,!0),n0}function Kg(n,o){for(let s=function iS(n){return Fl(n),cC(n,fd(n,0,os.textEnd))}(o);s>=0;s=cC(o,s))a0(n,sC(o),rS(o))}function aS(n,o){for(let s=function aC(n){return Fl(n),lC(n,fd(n,0,os.textEnd))}(o);s>=0;s=lC(o,s))(0,u.ezK)(n,sC(o),!0)}function Hg(n,o,s,l){const d=(0,u.OAn)(),g=(0,u.klJ)(),v=(0,u.b$O)(2);g.firstUpdatePass&&zg(g,n,v,l),o!==Bi&&_o(d,v,o)&&c0(g,g.data[(0,u._px)()],d,d[u.GpT],n,d[v+1]=function Zf(n,o){return null==n||""===n||("string"==typeof o?n+=o:"object"==typeof n&&(n=(0,u.AsM)(Ui(n)))),n}(o,s),l,v)}function Yf(n,o,s,l){const d=(0,u.klJ)(),g=(0,u.b$O)(2);d.firstUpdatePass&&zg(d,null,g,l);const v=(0,u.OAn)();if(s!==Bi&&_o(v,g,s)){const C=d.data[(0,u._px)()];if(u0(C,l)&&!r0(d,g)){let b=l?C.classesWithoutHost:C.stylesWithoutHost;null!==b&&(s=(0,u.n$e)(b,s||"")),Mg(d,C,v,s,l)}else!function Ph(n,o,s,l,d,g,v,C){d===Bi&&(d=u.Mlv);let b=0,W=0,J=0<d.length?d[0]:null,me=0<g.length?g[0]:null;for(;null!==J||null!==me;){const ze=b<d.length?d[b+1]:void 0,Ye=W<g.length?g[W+1]:void 0;let Rn,sn=null;J===me?(b+=2,W+=2,ze!==Ye&&(sn=me,Rn=Ye)):null===me||null!==J&&J<me?(b+=2,sn=J):(W+=2,sn=me,Rn=Ye),null!==sn&&c0(n,o,s,l,sn,Rn,v,C),J=b<d.length?d[b]:null,me=W<g.length?g[W]:null}}(d,C,v,v[u.GpT],v[g+1],v[g+1]=function s0(n,o,s){if(null==s||""===s)return u.Mlv;const l=[],d=Ui(s);if(Array.isArray(d))for(let g=0;g<d.length;g++)n(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&n(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(n,o,s),l,g)}}function r0(n,o){return o>=n.expandoStartIndex}function zg(n,o,s,l){const d=n.data;if(null===d[s+1]){const g=d[(0,u._px)()],v=r0(n,s);u0(g,l)&&null===o&&!v&&(o=!1),o=function Mh(n,o,s,l){const d=(0,u.MT)(n);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(s=tu(s=Ra(null,n,o,s,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||n[v]!==d)if(s=Ra(d,n,o,s,l),null===g){let b=function o0(n,o,s){const l=s?o.classBindings:o.styleBindings;if(0!==Zc(l))return n[Jc(l)]}(n,o,l);void 0!==b&&Array.isArray(b)&&(b=Ra(null,n,o,b[1],l),b=tu(b,o.attrs,l),function lS(n,o,s,l){n[Jc(s?o.classBindings:o.styleBindings)]=l}(n,o,l,b))}else g=function Co(n,o,s){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=tu(l,n[g].hostAttrs,s);return tu(l,o.attrs,s)}(n,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),s}(d,g,o,l),function nS(n,o,s,l,d,g){let v=g?o.classBindings:o.styleBindings,C=Jc(v),b=Zc(v);n[l]=s;let J,W=!1;if(Array.isArray(s)?(J=s[1],(null===J||(0,u.FRF)(s,J)>0)&&(W=!0)):J=s,d)if(0!==b){const ze=Jc(n[C+1]);n[l+1]=ry(ze,C),0!==ze&&(n[ze+1]=iy(n[ze+1],l)),n[C+1]=function YE(n,o){return 131071&n|o<<17}(n[C+1],l)}else n[l+1]=ry(C,0),0!==C&&(n[C+1]=iy(n[C+1],l)),C=l;else n[l+1]=ry(b,0),0===C?C=l:n[b+1]=iy(n[b+1],l),b=l;W&&(n[l+1]=JE(n[l+1])),Rh(n,J,l,!0),Rh(n,J,l,!1),function oy(n,o,s,l,d){const g=d?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof o&&(0,u.FRF)(g,o)>=0&&(s[l+1]=Qf(s[l+1]))}(o,J,n,l,g),v=ry(C,b),g?o.classBindings=v:o.styleBindings=v}(d,g,o,s,v,l)}}function Ra(n,o,s,l,d){let g=null;const v=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<v&&(g=o[C],l=tu(l,g.hostAttrs,d),g!==n);)C++;return null!==n&&(s.directiveStylingLast=C),l}function tu(n,o,s){const l=s?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),(0,u.ezK)(n,v,!!s||o[++g]))}return void 0===n?null:n}function a0(n,o,s){(0,u.ezK)(n,o,Ui(s))}function l0(n,o,s){const l=String(o);""!==l&&!l.includes(" ")&&(0,u.ezK)(n,l,s)}function c0(n,o,s,l,d,g,v,C){if(!(3&o.type))return;const b=n.data,W=b[C+1],J=function oC(n){return!(1&~n)}(W)?nu(b,o,s,d,Zc(W),v):void 0;Jf(J)||(Jf(g)||function tS(n){return!(2&~n)}(W)&&(g=nu(b,null,s,d,C,v)),function B(n,o,s,l,d){if(o)d?n.addClass(s,l):n.removeClass(s,l);else{let g=-1===l.indexOf("-")?void 0:ec.DashCase;null==d?n.removeStyle(s,l,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=ec.Important),n.setStyle(s,l,d,g))}}(l,v,(0,u.vaC)((0,u._px)(),s),d,g))}function nu(n,o,s,l,d,g){const v=null===o;let C;for(;d>0;){const b=n[d],W=Array.isArray(b),J=W?b[1]:b,me=null===J;let ze=s[d+1];ze===Bi&&(ze=me?u.Mlv:void 0);let Ye=me?(0,u.K7h)(ze,l):J===l?ze:void 0;if(W&&!Jf(Ye)&&(Ye=(0,u.K7h)(b,l)),Jf(Ye)&&(C=Ye,v))return C;const sn=n[d+1];d=v?Jc(sn):Zc(sn)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(C=(0,u.K7h)(b,l))}return C}function Jf(n){return void 0!==n}function u0(n,o){return!!(n.flags&(o?8:16))}function Gg(n,o=""){const s=(0,u.OAn)(),l=(0,u.klJ)(),d=n+u.Yw1,g=l.firstCreatePass?aa(l,d,1,o,null):l.data[d],v=uC(l,s,g,o,n);s[d]=v,(0,u.SX7)()&&zd(l,s,v,g),(0,u.iMd)(g,!1)}let uC=(n,o,s,l,d)=>((0,u.m7n)(!0),Od(o[u.GpT],l));function dC(n,o){let s=!1,l=(0,u.c$7)();for(let g=1;g<o.length;g+=2)s=_o(n,l++,o[g])||s;if((0,u.Kw3)(l),!s)return Bi;let d=o[0];for(let g=1;g<o.length;g+=2)d+=(0,u.eFE)(o[g])+(g+1!==o.length?o[g+1]:"");return d}function hC(n,o,s,l=""){return _o(n,(0,u.xbp)(),s)?o+(0,u.eFE)(s)+l:Bi}function fC(n,o,s,l,d,g=""){const C=$c(n,(0,u.c$7)(),s,d);return(0,u.b$O)(2),C?o+(0,u.eFE)(s)+l+(0,u.eFE)(d)+g:Bi}function pC(n,o,s,l,d,g,v,C=""){const W=Df(n,(0,u.c$7)(),s,d,v);return(0,u.b$O)(3),W?o+(0,u.eFE)(s)+l+(0,u.eFE)(d)+g+(0,u.eFE)(v)+C:Bi}function d0(n,o,s,l,d,g,v,C,b,W=""){const me=Ls(n,(0,u.c$7)(),s,d,v,b);return(0,u.b$O)(4),me?o+(0,u.eFE)(s)+l+(0,u.eFE)(d)+g+(0,u.eFE)(v)+C+(0,u.eFE)(b)+W:Bi}function h0(n,o,s,l,d,g,v,C,b,W,J,me=""){const ze=(0,u.c$7)();let Ye=Ls(n,ze,s,d,v,b);return Ye=_o(n,ze+4,J)||Ye,(0,u.b$O)(5),Ye?o+(0,u.eFE)(s)+l+(0,u.eFE)(d)+g+(0,u.eFE)(v)+C+(0,u.eFE)(b)+W+(0,u.eFE)(J)+me:Bi}function gC(n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye=""){const sn=(0,u.c$7)();let Rn=Ls(n,sn,s,d,v,b);return Rn=$c(n,sn+4,J,ze)||Rn,(0,u.b$O)(6),Rn?o+(0,u.eFE)(s)+l+(0,u.eFE)(d)+g+(0,u.eFE)(v)+C+(0,u.eFE)(b)+W+(0,u.eFE)(J)+me+(0,u.eFE)(ze)+Ye:Bi}function mC(n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn,Rn=""){const hr=(0,u.c$7)();let _r=Ls(n,hr,s,d,v,b);return _r=Df(n,hr+4,J,ze,sn)||_r,(0,u.b$O)(7),_r?o+(0,u.eFE)(s)+l+(0,u.eFE)(d)+g+(0,u.eFE)(v)+C+(0,u.eFE)(b)+W+(0,u.eFE)(J)+me+(0,u.eFE)(ze)+Ye+(0,u.eFE)(sn)+Rn:Bi}function _C(n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn,Rn,hr,_r=""){const xn=(0,u.c$7)();let eo=Ls(n,xn,s,d,v,b);return eo=Ls(n,xn+4,J,ze,sn,hr)||eo,(0,u.b$O)(8),eo?o+(0,u.eFE)(s)+l+(0,u.eFE)(d)+g+(0,u.eFE)(v)+C+(0,u.eFE)(b)+W+(0,u.eFE)(J)+me+(0,u.eFE)(ze)+Ye+(0,u.eFE)(sn)+Rn+(0,u.eFE)(hr)+_r:Bi}function sy(n,o,s){const l=(0,u.OAn)(),d=hC(l,n,o,s);return d!==Bi&&fc(l,(0,u._px)(),d),sy}function fc(n,o,s){const l=(0,u.vaC)(o,n);Cp(n[u.GpT],l,s)}function g0(n,o,s){(0,u.n$r)(o)&&(o=o());const l=(0,u.OAn)();return _o(l,(0,u.xbp)(),o)&&((0,u.klJ)(),qs((0,u.CpD)(),l,n,o,l[u.GpT],s)),g0}function IC(n,o){const s=(0,u.n$r)(n);return s&&n.set(o),s}function cy(n,o){const s=(0,u.OAn)(),l=(0,u.klJ)(),d=(0,u.Mx4)();return Ug(l,s,s[u.GpT],d,n,o),cy}const uy={};function y0(n,o,s,l,d){if(n=(0,u.nl4)(n),Array.isArray(n))for(let g=0;g<n.length;g++)y0(n[g],o,s,l,d);else{const g=(0,u.klJ)(),v=(0,u.OAn)(),C=(0,u.Mx4)();let b=(0,u.Y3W)(n)?n:(0,u.nl4)(n.provide);const W=(0,u.Rc9)(n),J=1048575&C.providerIndexes,me=C.directiveStart,ze=C.providerIndexes>>20;if((0,u.Y3W)(n)||!n.multi){const Ye=new vn(W,d,uh,null),sn=hy(b,o,d?J:J+ze,me);-1===sn?(Wr(si(C,v),g,b),v0(g,n,o.length),o.push(b),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),s.push(Ye),v.push(Ye)):(s[sn]=Ye,v[sn]=Ye)}else{const Ye=hy(b,o,J+ze,me),sn=hy(b,o,J,J+ze),hr=sn>=0&&s[sn];if(d&&!hr||!d&&!(Ye>=0&&s[Ye])){Wr(si(C,v),g,b);const _r=function vS(n,o,s,l,d){const v=new vn(n,s,uh,null);return v.multi=[],v.index=o,v.componentProviders=0,bC(v,d,l&&!s),v}(d?wC:yS,s.length,d,l,W);!d&&hr&&(s[sn].providerFactory=_r),v0(g,n,o.length,0),o.push(b),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),s.push(_r),v.push(_r)}else v0(g,n,Ye>-1?Ye:sn,bC(s[d?sn:Ye],W,!d&&l));!d&&l&&hr&&s[sn].componentProviders++}}}function v0(n,o,s,l){const d=(0,u.Y3W)(o),g=(0,u.MME)(o);if(d||g){const b=(g?(0,u.nl4)(o.useClass):o).prototype.ngOnDestroy;if(b){const W=n.destroyHooks||(n.destroyHooks=[]);if(!d&&o.multi){const J=W.indexOf(s);-1===J?W.push(s,[l,b]):W[J+1].push(l,b)}else W.push(s,b)}}}function bC(n,o,s){return s&&n.componentProviders++,n.multi.push(o)-1}function hy(n,o,s,l){for(let d=s;d<l;d++)if(o[d]===n)return d;return-1}function yS(n,o,s,l,d){return fy(this.multi,[])}function wC(n,o,s,l,d){const g=this.multi;let v;if(this.providerFactory){const C=this.providerFactory.componentProviders,b=Lr(l,l[u.eDl],this.providerFactory.index,d);v=b.slice(0,C),fy(g,v);for(let W=C;W<b.length;W++)v.push(b[W])}else v=[],fy(g,v);return v}function fy(n,o){for(let s=0;s<n.length;s++)o.push((0,n[s])());return o}function Qg(n,o=[]){return s=>{s.providersResolver=(l,d)=>function _S(n,o,s){const l=(0,u.klJ)();if(l.firstCreatePass){const d=(0,u.JlV)(n);y0(s,l.data,l.blueprint,d,!0),y0(o,l.data,l.blueprint,d,!1)}}(l,d?d(n):n,o)}}function py(n){if("function"==typeof n)return n;const o=(0,u.Bqz)(n);return o.some(u.Jzi)?()=>o.map(u.nl4).map(gy):o.map(gy)}function gy(n){return gv(n)?n.ngModule:n}function Yg(n,o){const s=n[o];return s===Bi?void 0:s}function NC(n,o,s,l,d,g){const v=o+s;return _o(n,v,d)?Xa(n,v+1,g?l.call(g,d):l(d)):Yg(n,v+1)}function xC(n,o,s,l,d,g,v){const C=o+s;return $c(n,C,d,g)?Xa(n,C+2,v?l.call(v,d,g):l(d,g)):Yg(n,C+2)}function E0(n,o,s,l,d,g,v,C){const b=o+s;return Df(n,b,d,g,v)?Xa(n,b+3,C?l.call(C,d,g,v):l(d,g,v)):Yg(n,b+3)}function yy(n,o,s,l,d,g,v,C,b){const W=o+s;return Ls(n,W,d,g,v,C)?Xa(n,W+4,b?l.call(b,d,g,v,C):l(d,g,v,C)):Yg(n,W+4)}function kC(n,o,s,l,d,g){let v=o+s,C=!1;for(let b=0;b<d.length;b++)_o(n,v++,d[b])&&(C=!0);return C?Xa(n,v,l.apply(g,d)):Yg(n,v)}function yd(n,o){return n[u.eDl].data[o].pure}function Oh(n,o,s,l,d){const g=d[u.eDl];if(g!==l.tView)for(let v=u.Yw1;v<g.bindingStartIndex;v++){const C=d[v];if((0,u.A0l)(C)){(0,u.q$2)(C[u.jgP])&&Oh(n,o,s,l,C[u.jgP]);for(let b=u.Y20;b<C.length;b++)Oh(n,o,s,l,C[b])}else(0,u.q$2)(C)&&Oh(n,o,s,l,C)}else!function D0(n,o,s,l,d){const g=d[u.SKP];let v=d[u.jgP];const C=d[u.f7T],b=d[u.qlT],W=d[u.YEL].get(dr,null),J=()=>{if(l.encapsulation===yi.ShadowDom){const sn=v.cloneNode(!1);v.replaceWith(sn),v=sn}const me=kd(s),ze=Mc(C,me,g,Pc(s),v,b,null,null,null,null,null);(function SS(n,o,s,l){for(let d=u.Yw1;d<n[u.eDl].bindingStartIndex;d++){const g=n[d];if(((0,u.q$2)(g)||(0,u.A0l)(g))&&g[u.K29]===o){g[u.K29]=s;break}}n[u.EJG]===o&&(n[u.EJG]=s),n[u.Yrj]===o&&(n[u.Yrj]=s),s[u.K29]=o[u.K29],o[u.K29]=null,n[l]=s})(C,d,ze,b.index),Ga(d[u.eDl],d);const Ye=d[u.M0L].rendererFactory;(function T0(n,o){n.componentReplaced?.(o.id)})(Ye,l),ze[u.GpT]=Ye.createRenderer(v,s),xc(d[u.eDl],d),function em(n){if(null!==n.projection){for(const o of n.projection)br(o)&&(o.projectionNext=null,o.flags&=-3);n.projection=null}}(b),Yd(me,ze,g),wm(me,ze,me.template,g)};null===W?Ey(n,o,J):W.run(()=>Ey(n,o,J))}(n,o,s,l,d)}function Ey(n,o,s){try{s()}catch(l){if(null!==o&&l.message){const g=l.message+(l.stack?"\n"+l.stack:"");n?.hot?.send?.("angular:invalidate",{id:o,message:g,error:!0})}throw l}}const vd={\u0275\u0275animateEnter:function Nl(n){if(gs("NgAnimateEnter"),!sd)return Nl;const o=(0,u.OAn)();if(kf(o))return Nl;const s=(0,u.Mx4)();return ld(s,o),vs(Ag(o),s,()=>function Qc(n,o,s){const l=(0,u.d31)(o,n),d=n[u.GpT],g=n[u.YEL].get(dr),v=ys(s),C=[],b=J=>{if(J.target!==l)return;const me=J instanceof AnimationEvent?"animationend":"transitionend";g.runOutsideAngular(()=>{d.listen(l,me,W)})},W=J=>{J.target===l&&function Dh(n,o,s){const l=ad.get(o);if(n.target===o&&l&&Ol(n,o)){n.stopImmediatePropagation();for(const d of l.classList)s.removeClass(o,d);V_(o)}}(J,l,d)};if(v&&v.length>0){g.runOutsideAngular(()=>{C.push(d.listen(l,"animationstart",b)),C.push(d.listen(l,"transitionstart",b))}),function Aw(n,o,s){const l=ad.get(n);if(l){for(const d of o)l.classList.push(d);for(const d of s)l.cleanupFns.push(d)}else ad.set(n,{classList:o,cleanupFns:s})}(l,v,C);for(const J of v)d.addClass(l,J);g.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(Oc(l,Za,sd),!Za.has(l)){for(const J of v)d.removeClass(l,J);V_(l)}})})}}(o,s,n)),jd(o[u.YEL]),Nc(o[u.YEL],Ag(o)),Nl},\u0275\u0275animateEnterListener:function $_(n){if(gs("NgAnimateEnter"),!sd)return $_;const o=(0,u.OAn)();if(kf(o))return $_;const s=(0,u.Mx4)();return ld(s,o),vs(Ag(o),s,()=>function wg(n,o,s){const l=(0,u.d31)(o,n);s.call(n[u.SKP],{target:l,animationComplete:Ih})}(o,s,n)),jd(o[u.YEL]),Nc(o[u.YEL],Ag(o)),$_},\u0275\u0275animateLeave:function Ff(n){if(gs("NgAnimateLeave"),!sd)return Ff;const o=(0,u.OAn)();if(kf(o))return Ff;const l=(0,u.Mx4)();return ld(l,o),vs(ud(o),l,()=>function AD(n,o,s){const{promise:l,resolve:d}=lD(),g=(0,u.d31)(o,n),v=n[u.GpT],C=n[u.YEL].get(dr);El.add(n),(ud(n).get(o.index).resolvers??=[]).push(d);const b=ys(s);return b&&b.length>0?function As(n,o,s,l,d,g){!function bg(n,o){if(!sd)return;const s=ad.get(n);if(s&&s.classList.length>0&&function AE(n,o){for(const s of o)if(n.classList.contains(s))return!0;return!1}(n,s.classList))for(const l of s.classList)o.removeClass(n,l);V_(n)}(n,d);const v=[],C=ud(s).get(o.index)?.resolvers,b=W=>{if(W.target===n&&(W instanceof CustomEvent||Ol(W,n))){if(W.stopImmediatePropagation(),Za.delete(n),U_(o,n),Array.isArray(o.projection))for(const J of l)d.removeClass(n,J);bE(C,v),Lf(s,o)}};g.runOutsideAngular(()=>{v.push(d.listen(n,"animationend",b)),v.push(d.listen(n,"transitionend",b))}),cd(o,n);for(const W of l)d.addClass(n,W);g.runOutsideAngular(()=>{requestAnimationFrame(()=>{Oc(n,Za,sd),Za.has(n)||(U_(o,n),bE(C,v),Lf(s,o))})})}(g,o,n,b,v,C):d(),{promise:l,resolve:d}}(o,l,n)),jd(o[u.YEL]),Ff},\u0275\u0275animateLeaveListener:function j_(n){if(gs("NgAnimateLeave"),!sd)return j_;const o=(0,u.OAn)(),s=(0,u.Mx4)();return ld(s,o),El.add(o),vs(ud(o),s,()=>function bw(n,o,s){const{promise:l,resolve:d}=lD(),g=(0,u.d31)(o,n),v=[],C=n[u.GpT],b=kf(n),W=n[u.YEL].get(dr),J=n[u.YEL].get(Dw);(ud(n).get(o.index).resolvers??=[]).push(d);const me=ud(n).get(o.index)?.resolvers;if(b)B_(n,o,g,me,v);else{const ze=setTimeout(()=>B_(n,o,g,me,v),J),Ye={target:g,animationComplete:()=>{B_(n,o,g,me,v),clearTimeout(ze)}};cd(o,g),W.runOutsideAngular(()=>{v.push(C.listen(g,"animationend",()=>{B_(n,o,g,me,v),clearTimeout(ze)},{once:!0}))}),s.call(n[u.SKP],Ye)}return{promise:l,resolve:d}}(o,s,n)),jd(o[u.YEL]),j_},\u0275\u0275attribute:CE,\u0275\u0275defineComponent:d_,\u0275\u0275defineDirective:fh,\u0275\u0275defineInjectable:u.jDH,\u0275\u0275defineInjector:u.G2t,\u0275\u0275defineNgModule:hg,\u0275\u0275definePipe:zv,\u0275\u0275directiveInject:uh,\u0275\u0275getInheritedFactory:pi,\u0275\u0275inject:u.KVO,\u0275\u0275injectAttribute:ki,\u0275\u0275invalidFactory:tT,\u0275\u0275invalidFactoryDep:u.dmw,\u0275\u0275templateRefExtractor:function wS(n,o){return Kp(n,o)},\u0275\u0275resetView:u.Njj,\u0275\u0275HostDirectivesFeature:function Rb(n){const o=s=>{const l=Array.isArray(n);null===s.hostDirectives?(s.resolveHostDirectives=PT,s.hostDirectives=l?n.map(m_):[n]):l?s.hostDirectives.unshift(...n.map(m_)):s.hostDirectives.unshift(n)};return o.ngInherit=!0,o},\u0275\u0275NgOnChangesFeature:ht,\u0275\u0275ProvidersFeature:Qg,\u0275\u0275CopyDefinitionFeature:function Sb(n){let s,o=RT(n.type);s=(0,u.JlV)(n)?o.\u0275cmp:o.\u0275dir;const l=n;for(const d of bb)l[d]=s[d];if((0,u.JlV)(s))for(const d of wb)l[d]=s[d]},\u0275\u0275InheritDefinitionFeature:qv,\u0275\u0275ExternalStylesFeature:function SC(n){return o=>{n.length<1||(o.getExternalStyles=s=>n.map(d=>d+"?ngcomp"+(s?"="+encodeURIComponent(s):"")+"&e="+o.encapsulation))}},\u0275\u0275nextContext:nC,\u0275\u0275namespaceHTML:u.joV,\u0275\u0275namespaceMathML:u.By9,\u0275\u0275namespaceSVG:u.qSk,\u0275\u0275enableBindings:u.cSN,\u0275\u0275disableBindings:u.fuf,\u0275\u0275elementStart:Uf,\u0275\u0275elementEnd:Bf,\u0275\u0275element:OE,\u0275\u0275elementContainerStart:Pg,\u0275\u0275elementContainerEnd:$f,\u0275\u0275domElement:function ND(n,o,s,l){return NE(n,o,s,l),z_(),ND},\u0275\u0275domElementStart:NE,\u0275\u0275domElementEnd:z_,\u0275\u0275domElementContainer:function kD(n,o,s){return LE(n,o,s),xD(),kD},\u0275\u0275domElementContainerStart:LE,\u0275\u0275domElementContainerEnd:xD,\u0275\u0275domTemplate:function Cs(n,o,s,l,d,g,v,C){const b=(0,u.OAn)(),W=(0,u.klJ)();return Sl(b,W,n,o,s,l,d,(0,u.db4)(W.consts,g),void 0,v,C),Cs},\u0275\u0275domListener:function Ko(n,o,s){const l=(0,u.OAn)(),d=(0,u.klJ)(),g=(0,u.Mx4)();return(3&g.type||s)&&dh(g,d,l,s,l[u.GpT],n,o,qa(g,l,o)),Ko},\u0275\u0275elementContainer:kE,\u0275\u0275pureFunction0:function RC(n,o,s){const l=(0,u.gxQ)()+n,d=(0,u.OAn)();return d[l]===Bi?Xa(d,l,s?o.call(s):o()):Tf(d,l)},\u0275\u0275pureFunction1:function DS(n,o,s,l){return NC((0,u.OAn)(),(0,u.gxQ)(),n,o,s,l)},\u0275\u0275pureFunction2:function CS(n,o,s,l,d){return xC((0,u.OAn)(),(0,u.gxQ)(),n,o,s,l,d)},\u0275\u0275pureFunction3:function MC(n,o,s,l,d,g){return E0((0,u.OAn)(),(0,u.gxQ)(),n,o,s,l,d,g)},\u0275\u0275pureFunction4:function gd(n,o,s,l,d,g,v){return yy((0,u.OAn)(),(0,u.gxQ)(),n,o,s,l,d,g,v)},\u0275\u0275pureFunction5:function PC(n,o,s,l,d,g,v,C){const b=(0,u.gxQ)()+n,W=(0,u.OAn)(),J=Ls(W,b,s,l,d,g);return _o(W,b+4,v)||J?Xa(W,b+5,C?o.call(C,s,l,d,g,v):o(s,l,d,g,v)):Tf(W,b+5)},\u0275\u0275pureFunction6:function OC(n,o,s,l,d,g,v,C,b){const W=(0,u.gxQ)()+n,J=(0,u.OAn)(),me=Ls(J,W,s,l,d,g);return $c(J,W+4,v,C)||me?Xa(J,W+6,b?o.call(b,s,l,d,g,v,C):o(s,l,d,g,v,C)):Tf(J,W+6)},\u0275\u0275pureFunction7:function md(n,o,s,l,d,g,v,C,b,W){const J=(0,u.gxQ)()+n,me=(0,u.OAn)();let ze=Ls(me,J,s,l,d,g);return Df(me,J+4,v,C,b)||ze?Xa(me,J+7,W?o.call(W,s,l,d,g,v,C,b):o(s,l,d,g,v,C,b)):Tf(me,J+7)},\u0275\u0275pureFunction8:function my(n,o,s,l,d,g,v,C,b,W,J){const me=(0,u.gxQ)()+n,ze=(0,u.OAn)(),Ye=Ls(ze,me,s,l,d,g);return Ls(ze,me+4,v,C,b,W)||Ye?Xa(ze,me+8,J?o.call(J,s,l,d,g,v,C,b,W):o(s,l,d,g,v,C,b,W)):Tf(ze,me+8)},\u0275\u0275pureFunctionV:function _y(n,o,s,l){return kC((0,u.OAn)(),(0,u.gxQ)(),n,o,s,l)},\u0275\u0275getCurrentView:FD,\u0275\u0275restoreView:u.eBV,\u0275\u0275listener:wh,\u0275\u0275projection:Sh,\u0275\u0275syntheticHostProperty:function UD(n,o,s){const l=(0,u.OAn)();if(_o(l,(0,u.xbp)(),o)){const g=(0,u.klJ)(),v=(0,u.CpD)();bl(v,l,n,o,gI((0,u.MT)(g.data),v,l),s)}return UD},\u0275\u0275syntheticHostListener:function tC(n,o){const s=(0,u.Mx4)(),l=(0,u.OAn)(),d=(0,u.klJ)();return Ug(d,l,gI((0,u.MT)(d.data),s,l),s,n,o),tC},\u0275\u0275pipeBind1:function AS(n,o,s){const l=n+u.Yw1,d=(0,u.OAn)(),g=(0,u.Hh6)(d,l);return yd(d,l)?NC(d,(0,u.gxQ)(),o,g.transform,s,g):g.transform(s)},\u0275\u0275pipeBind2:function vy(n,o,s,l){const d=n+u.Yw1,g=(0,u.OAn)(),v=(0,u.Hh6)(g,d);return yd(g,d)?xC(g,(0,u.gxQ)(),o,v.transform,s,l,v):v.transform(s,l)},\u0275\u0275pipeBind3:function LC(n,o,s,l,d){const g=n+u.Yw1,v=(0,u.OAn)(),C=(0,u.Hh6)(v,g);return yd(v,g)?E0(v,(0,u.gxQ)(),o,C.transform,s,l,d,C):C.transform(s,l,d)},\u0275\u0275pipeBind4:function bS(n,o,s,l,d,g){const v=n+u.Yw1,C=(0,u.OAn)(),b=(0,u.Hh6)(C,v);return yd(C,v)?yy(C,(0,u.gxQ)(),o,b.transform,s,l,d,g,b):b.transform(s,l,d,g)},\u0275\u0275pipeBindV:function I0(n,o,s){const l=n+u.Yw1,d=(0,u.OAn)(),g=(0,u.Hh6)(d,l);return yd(d,l)?kC(d,(0,u.gxQ)(),o,g.transform,s,g):g.transform.apply(g,s)},\u0275\u0275projectionDef:QE,\u0275\u0275domProperty:function VD(n,o,s){const l=(0,u.OAn)();return _o(l,(0,u.xbp)(),o)&&((0,u.klJ)(),bl((0,u.CpD)(),l,n,o,l[u.GpT],s)),VD},\u0275\u0275ariaProperty:function TD(n,o){const s=(0,u.OAn)();if(_o(s,(0,u.xbp)(),o)){const d=(0,u.klJ)(),g=(0,u.CpD)();if(Fu(g,d,s,n,o))(0,u.Qs1)(g)&&df(s,g.index);else{const C=(0,u.d31)(g,s);Xd(s[u.GpT],C,null,g.value,n,o,null)}}return TD},\u0275\u0275property:PE,\u0275\u0275pipe:function _d(n,o){const s=(0,u.klJ)();let l;const d=n+u.Yw1;s.firstCreatePass?(l=function Jg(n,o){if(o)for(let s=o.length-1;s>=0;s--){const l=o[s];if(n===l.name)return l}}(o,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks??=[]).push(d,l.onDestroy)):l=s.data[d];const g=l.factory||(l.factory=(0,u.wGu)(l.type,!0)),C=(0,u.a2B)(uh);try{const b=Hr(!1),W=g();return Hr(b),(0,u.M_e)(s,(0,u.OAn)(),d,W),W}finally{(0,u.a2B)(C)}},\u0275\u0275queryRefresh:ty,\u0275\u0275queryAdvance:function eS(n=1){(0,u.GA0)((0,u.w7Z)()+n)},\u0275\u0275viewQuery:rC,\u0275\u0275viewQuerySignal:function ny(n,o,s,l){IT(n,_T(o,s,l))},\u0275\u0275loadQuery:qf,\u0275\u0275contentQuery:Xf,\u0275\u0275contentQuerySignal:function Zw(n,o,s,l,d){IT(o,a_(n,s,l,d))},\u0275\u0275reference:iC,\u0275\u0275classMap:function sS(n){Yf(l0,aS,n,!0)},\u0275\u0275styleMap:function oS(n){Yf(a0,Kg,n,!1)},\u0275\u0275styleProp:function eu(n,o,s){return Hg(n,o,s,!1),eu},\u0275\u0275classProp:n0,\u0275\u0275advance:Im,\u0275\u0275template:__,\u0275\u0275conditional:function Sg(n,o){gs("NgControlFlow");const s=(0,u.OAn)(),l=(0,u.xbp)(),d=s[l]!==Bi?s[l]:-1,g=-1!==d?Rg(s,u.Yw1+d):void 0;if(_o(s,l,n)){const C=(0,k.Ht)(null);try{if(void 0!==g&&Pm(g,0),-1!==n){const b=u.Yw1+n,W=Rg(s,b),J=H_(s[u.eDl],b),me=null;hf(W,Jd(s,J,o,{dehydratedView:me}),0,Zd(J,me))}}finally{(0,k.Ht)(C)}}else if(void 0!==g){const C=Uu(g,0);void 0!==C&&(C[u.SKP]=o)}},\u0275\u0275conditionalCreate:function Mw(n,o,s,l,d,g,v,C){gs("NgControlFlow");const b=(0,u.OAn)(),W=(0,u.klJ)();return Sl(b,W,n,o,s,l,d,(0,u.db4)(W.consts,g),256,v,C),SE},\u0275\u0275conditionalBranchCreate:SE,\u0275\u0275defer:function Eh(n,o,s,l,d,g,v,C,b,W){const J=(0,u.OAn)(),me=(0,u.klJ)(),ze=n+u.Yw1,Ye=Sl(J,me,n,null,0,0),sn=J[u.YEL],Rn=Eo(sn);if(me.firstCreatePass){gs("NgDefer");const tl={primaryTmplIndex:o,loadingTmplIndex:l??null,placeholderTmplIndex:d??null,errorTmplIndex:g??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:s??null,loadingState:$o.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:W??0};b?.(me,tl,C,v),function Ob(n,o,s){const l=E_(o);n.data[l]=s}(me,ze,tl)}const hr=J[ze];pT(hr,Ye,J);let _r=null,xn=null;if(hr[u.qFA]?.length>0){const tl=hr[u.qFA][0].data;xn=tl.di??null,_r=tl.s}const eo=[null,Ju.Initial,null,null,null,null,xn,_r,null,null];!function Pb(n,o,s){n[E_(o)]=s}(J,ze,eo);let Fs=null;null!==xn&&Rn&&(Fs=sn.get(bs),Fs.add(xn,{lView:J,tNode:Ye,lContainer:hr}));const fo=()=>{kT(eo),null!==xn&&Fs?.cleanup([xn])};pg(0,eo,()=>(0,u.DyX)(J,fo)),(0,u.ik5)(J,fo)},\u0275\u0275deferWhen:function dw(n){const o=(0,u.OAn)(),s=(0,u.CpD)();if(Ri(0,o,s)&&_o(o,(0,u.xbp)(),n)){const d=(0,k.Ht)(null);try{const g=!!n,C=la(o,s)[1];!1===g&&C===Ju.Initial?mh(o,s):!0===g&&(C===Ju.Initial||C===ro.Placeholder)&&rd(0,o,s)}finally{(0,k.Ht)(d)}}},\u0275\u0275deferOnIdle:function pD(){Ri(0,(0,u.OAn)(),(0,u.Mx4)())&&aw(gh)},\u0275\u0275deferOnImmediate:function gD(){const n=(0,u.OAn)(),o=(0,u.Mx4)();Ri(0,n,o)&&(null===is(n[u.eDl],o).loadingTmplIndex&&mh(n,o),rd(0,n,o))},\u0275\u0275deferOnTimer:function mw(n){Ri(0,(0,u.OAn)(),(0,u.Mx4)())&&aw(Mf(n))},\u0275\u0275deferOnHover:function _D(n,o){const s=(0,u.OAn)(),l=(0,u.Mx4)();Ri(0,s,l)&&(mh(s,l),Qa(s,l,n,o,xa,()=>rd(0,s,l),0))},\u0275\u0275deferOnInteraction:function vD(n,o){const s=(0,u.OAn)(),l=(0,u.Mx4)();Ri(0,s,l)&&(mh(s,l),Qa(s,l,n,o,lu,()=>rd(0,s,l),0))},\u0275\u0275deferOnViewport:function Ew(n,o){const s=(0,u.OAn)(),l=(0,u.Mx4)();Ri(0,s,l)&&(mh(s,l),Qa(s,l,n,o,T_,()=>rd(0,s,l),0))},\u0275\u0275deferPrefetchWhen:function hw(n){const o=(0,u.OAn)(),s=(0,u.CpD)();if(Ri(1,o,s)&&_o(o,(0,u.xbp)(),n)){const d=(0,k.Ht)(null);try{const g=!!n,C=is(o[u.eDl],s);!0===g&&C.loadingState===$o.NOT_STARTED&&Dg(C,o,s)}finally{(0,k.Ht)(d)}}},\u0275\u0275deferPrefetchOnIdle:function gw(){Ri(1,(0,u.OAn)(),(0,u.Mx4)())&&N_(gh)},\u0275\u0275deferPrefetchOnImmediate:function F_(){const n=(0,u.OAn)(),o=(0,u.Mx4)();if(!Ri(1,n,o))return;const l=is(n[u.eDl],o);l.loadingState===$o.NOT_STARTED&&yE(l,n,o)},\u0275\u0275deferPrefetchOnTimer:function DE(n){Ri(1,(0,u.OAn)(),(0,u.Mx4)())&&N_(Mf(n))},\u0275\u0275deferPrefetchOnHover:function yD(n,o){const s=(0,u.OAn)(),l=(0,u.Mx4)();if(!Ri(1,s,l))return;const g=is(s[u.eDl],l);g.loadingState===$o.NOT_STARTED&&Qa(s,l,n,o,xa,()=>Dg(g,s,l),1)},\u0275\u0275deferPrefetchOnInteraction:function ED(n,o){const s=(0,u.OAn)(),l=(0,u.Mx4)();if(!Ri(1,s,l))return;const g=is(s[u.eDl],l);g.loadingState===$o.NOT_STARTED&&Qa(s,l,n,o,lu,()=>Dg(g,s,l),1)},\u0275\u0275deferPrefetchOnViewport:function ID(n,o){const s=(0,u.OAn)(),l=(0,u.Mx4)();if(!Ri(1,s,l))return;const g=is(s[u.eDl],l);g.loadingState===$o.NOT_STARTED&&Qa(s,l,n,o,T_,()=>Dg(g,s,l),1)},\u0275\u0275deferHydrateWhen:function fw(n){const o=(0,u.OAn)(),s=(0,u.CpD)();if(!Ri(2,o,s))return;const l=(0,u.xbp)();if(Ja((0,u.klJ)(),s).set(6,null),_o(o,l,n)){const v=o[u.YEL],C=(0,k.Ht)(null);try{1==!!n&&id(v,la(o,s)[6])}finally{(0,k.Ht)(C)}}},\u0275\u0275deferHydrateNever:function pw(){const n=(0,u.OAn)(),o=(0,u.Mx4)();Ri(2,n,o)&&Ja((0,u.klJ)(),o).set(7,null)},\u0275\u0275deferHydrateOnIdle:function TE(){const n=(0,u.OAn)(),o=(0,u.Mx4)();Ri(2,n,o)&&(Ja((0,u.klJ)(),o).set(0,null),Tg(gh,n,o))},\u0275\u0275deferHydrateOnImmediate:function mD(){const n=(0,u.OAn)(),o=(0,u.Mx4)();Ri(2,n,o)&&(Ja((0,u.klJ)(),o).set(1,null),id(n[u.YEL],la(n,o)[6]))},\u0275\u0275deferHydrateOnTimer:function _w(n){const o=(0,u.OAn)(),s=(0,u.Mx4)();Ri(2,o,s)&&(Ja((0,u.klJ)(),s).set(5,{delay:n}),Tg(Mf(n),o,s))},\u0275\u0275deferHydrateOnHover:function yw(){const n=(0,u.OAn)(),o=(0,u.Mx4)();Ri(2,n,o)&&Ja((0,u.klJ)(),o).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function vw(){const n=(0,u.OAn)(),o=(0,u.Mx4)();Ri(2,n,o)&&Ja((0,u.klJ)(),o).set(3,null)},\u0275\u0275deferHydrateOnViewport:function Iw(){const n=(0,u.OAn)(),o=(0,u.Mx4)();Ri(2,n,o)&&Ja((0,u.klJ)(),o).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function A_(n,o,s,l){const d=n.consts;null!=s&&(o.placeholderBlockConfig=(0,u.db4)(d,s)),null!=l&&(o.loadingBlockConfig=(0,u.db4)(d,l)),null===lE&&(lE=Lb)},\u0275\u0275repeater:function RE(n){const o=(0,k.Ht)(null),s=(0,u._px)();try{const l=(0,u.OAn)(),d=l[u.eDl],g=l[s],v=s+1,C=Rg(l,v);if(void 0===g.liveCollection){const W=H_(d,v);g.liveCollection=new PD(C,l,W)}else g.liveCollection.reset();const b=g.liveCollection;if(function Rw(n,o,s){let l,d,g=0,v=n.length-1;if(Array.isArray(o)){let b=o.length-1;for(;g<=v&&g<=b;){const W=n.at(g),J=o[g],me=wE(g,W,g,J,s);if(0!==me){me<0&&n.updateValue(g,J),g++;continue}const ze=n.at(v),Ye=o[b],sn=wE(v,ze,b,Ye,s);if(0!==sn){sn<0&&n.updateValue(v,Ye),v--,b--;continue}const Rn=s(g,W),hr=s(v,ze),_r=s(g,J);if(Object.is(_r,hr)){const xn=s(b,Ye);Object.is(xn,Rn)?(n.swap(g,v),n.updateValue(v,Ye),b--,v--):n.move(v,g),n.updateValue(g,J),g++;continue}if(l??=new Vf,d??=bD(n,g,v,s),W_(n,l,g,_r))n.updateValue(g,J),g++,v++;else if(d.has(_r))l.set(Rn,n.detach(g)),v--;else{const xn=n.create(g,o[g]);n.attach(g,xn),g++,v++}}for(;g<=b;)Ch(n,l,s,g,o[g]),g++}else if(null!=o){const b=o[Symbol.iterator]();let W=b.next();for(;!W.done&&g<=v;){const J=n.at(g),me=W.value,ze=wE(g,J,g,me,s);if(0!==ze)ze<0&&n.updateValue(g,me),g++,W=b.next();else{l??=new Vf,d??=bD(n,g,v,s);const Ye=s(g,me);if(W_(n,l,g,Ye))n.updateValue(g,me),g++,v++,W=b.next();else if(d.has(Ye)){const sn=s(g,J);l.set(sn,n.detach(g)),v--}else n.attach(g,n.create(g,me)),g++,v++,W=b.next()}}for(;!W.done;)Ch(n,l,s,n.length,W.value),W=b.next()}for(;g<=v;)n.destroy(n.detach(v--));l?.forEach(b=>{n.destroy(b)})}(b,n,g.trackByFn),b.updateIndexes(),g.hasEmptyBlock){const W=(0,u.xbp)(),J=0===b.length;if(_o(l,W,J)){const me=s+2,ze=Rg(l,me);if(J){const Ye=H_(d,me),sn=null;hf(ze,Jd(l,Ye,void 0,{dehydratedView:sn}),0,Zd(Ye,sn))}else d.firstUpdatePass&&Jp(ze),Pm(ze,0)}}}finally{(0,k.Ht)(o)}},\u0275\u0275repeaterCreate:function MD(n,o,s,l,d,g,v,C,b,W,J,me,ze){gs("NgControlFlow");const Ye=(0,u.OAn)(),sn=(0,u.klJ)(),Rn=void 0!==b,hr=(0,u.OAn)(),_r=C?v.bind(hr[u.b5C][u.SKP]):v,xn=new RD(Rn,_r);hr[u.Yw1+n]=xn,Sl(Ye,sn,n+1,o,s,l,d,(0,u.db4)(sn.consts,g),256),Rn&&Sl(Ye,sn,n+2,b,W,J,me,(0,u.db4)(sn.consts,ze),512)},\u0275\u0275repeaterTrackByIndex:function wD(n){return n},\u0275\u0275repeaterTrackByIdentity:function SD(n,o){return o},\u0275\u0275componentInstance:function ww(){return(0,u.OAn)()[u.b5C][u.SKP]},\u0275\u0275text:Gg,\u0275\u0275textInterpolate:function yC(n){return sy("",n),yC},\u0275\u0275textInterpolate1:sy,\u0275\u0275textInterpolate2:function vC(n,o,s,l,d){const g=(0,u.OAn)(),v=fC(g,n,o,s,l,d);return v!==Bi&&fc(g,(0,u._px)(),v),vC},\u0275\u0275textInterpolate3:function Xg(n,o,s,l,d,g,v){const C=(0,u.OAn)(),b=pC(C,n,o,s,l,d,g,v);return b!==Bi&&fc(C,(0,u._px)(),b),Xg},\u0275\u0275textInterpolate4:function ay(n,o,s,l,d,g,v,C,b){const W=(0,u.OAn)(),J=d0(W,n,o,s,l,d,g,v,C,b);return J!==Bi&&fc(W,(0,u._px)(),J),ay},\u0275\u0275textInterpolate5:function f0(n,o,s,l,d,g,v,C,b,W,J){const me=(0,u.OAn)(),ze=h0(me,n,o,s,l,d,g,v,C,b,W,J);return ze!==Bi&&fc(me,(0,u._px)(),ze),f0},\u0275\u0275textInterpolate6:function qg(n,o,s,l,d,g,v,C,b,W,J,me,ze){const Ye=(0,u.OAn)(),sn=gC(Ye,n,o,s,l,d,g,v,C,b,W,J,me,ze);return sn!==Bi&&fc(Ye,(0,u._px)(),sn),qg},\u0275\u0275textInterpolate7:function EC(n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn){const Rn=(0,u.OAn)(),hr=mC(Rn,n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn);return hr!==Bi&&fc(Rn,(0,u._px)(),hr),EC},\u0275\u0275textInterpolate8:function ly(n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn,Rn,hr){const _r=(0,u.OAn)(),xn=_C(_r,n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn,Rn,hr);return xn!==Bi&&fc(_r,(0,u._px)(),xn),ly},\u0275\u0275textInterpolateV:function p0(n){const o=(0,u.OAn)(),s=dC(o,n);return s!==Bi&&fc(o,(0,u._px)(),s),p0},\u0275\u0275i18n:function zf(n,o,s){Vg(n,o,s),ey()},\u0275\u0275i18nAttributes:function Yc(n,o){const s=(0,u.klJ)(),l=(0,u.db4)(s.consts,o);!function Ah(n,o,s){const d=(0,u.Mx4)().index,g=[];if(n.firstCreatePass&&null===n.data[o]){for(let v=0;v<s.length;v+=2){const C=s[v],b=s[v+1];if(""!==b){if(jw.test(b))throw new Error(`ICU expressions are not supported in attributes. Message: "${b}".`);oi(g,b,d,C,Y_(g),null)}}n.data[o]=g}}(s,n+u.Yw1,l)},\u0275\u0275i18nExp:function Gf(n){return function X_(n){n&&(Kf|=1<<Math.min(Hf,31)),Hf++}(_o((0,u.OAn)(),(0,u.xbp)(),n)),Gf},\u0275\u0275i18nStart:Vg,\u0275\u0275i18nEnd:ey,\u0275\u0275i18nApply:function ti(n){!function KD(n,o,s){if(Hf>0){const l=n.data[s];q_(n,o,Array.isArray(l)?l:l.update,(0,u.c$7)()-Hf-1,Kf)}Kf=0,Hf=0}((0,u.klJ)(),(0,u.OAn)(),n+u.Yw1)},\u0275\u0275i18nPostprocess:function Jw(n,o={}){return function Yw(n,o={}){let s=n;if(ZD.test(n)){const l={},d=[0];s=s.replace(eC,(g,v,C)=>{const b=v||C,W=l[b]||[];if(W.length||(b.split("|").forEach(Rn=>{const hr=Rn.match(Qw),_r=hr?parseInt(hr[1],10):0,xn=Do.test(Rn);W.push([_r,xn,Rn])}),l[b]=W),!W.length)throw new Error(`i18n postprocess: unmatched placeholder - ${b}`);const J=d[d.length-1];let me=0;for(let Rn=0;Rn<W.length;Rn++)if(W[Rn][0]===J){me=Rn;break}const[ze,Ye,sn]=W[me];return Ye?d.pop():J!==ze&&d.push(ze),W.splice(me,1),sn})}return Object.keys(o).length&&(s=s.replace(Gw,(l,d,g,v,C,b)=>o.hasOwnProperty(g)?`${d}${o[g]}${b}`:l),s=s.replace(Xw,(l,d)=>o.hasOwnProperty(d)?o[d]:l),s=s.replace(qw,(l,d)=>{if(o.hasOwnProperty(d)){const g=o[d];if(!g.length)throw new Error(`i18n postprocess: unmatched ICU - ${l} with key: ${d}`);return g.shift()}return l})),s}(n,o)},\u0275\u0275resolveWindow:Hh,\u0275\u0275resolveDocument:function Iu(n){return n.ownerDocument},\u0275\u0275resolveBody:function Rd(n){return n.ownerDocument.body},\u0275\u0275setComponentScope:function IS(n,o,s){const l=n.\u0275cmp;l.directiveDefs=Wc(o,h_),l.pipeDefs=Wc(s,u.oyA)},\u0275\u0275setNgModuleScope:function TS(n,o){return Ce(()=>{const s=(0,u.WbQ)(n);s.declarations=py(o.declarations||u.Mlv),s.imports=py(o.imports||u.Mlv),s.exports=py(o.exports||u.Mlv),o.bootstrap&&(s.bootstrap=py(o.bootstrap)),Ef.registerNgModule(n,o)})},\u0275\u0275registerNgModuleType:AT,\u0275\u0275getComponentDepsFactory:function ep(n,o){return()=>{try{return Ef.getComponentDependencies(n,o).dependencies}catch(s){throw console.error(`Computing dependencies in local compilation mode for the component "${n.name}" failed with the exception:`,s),s}}},\u0275setClassDebugInfo:function FC(n,o){const s=(0,u.xUg)(n);null!==s&&(s.debugInfo=o)},\u0275\u0275declareLet:function TC(n){const o=(0,u.klJ)(),s=(0,u.OAn)(),l=n+u.Yw1,d=aa(o,l,128,null,null);return(0,u.iMd)(d,!1),(0,u.M_e)(o,s,l,uy),TC},\u0275\u0275storeLet:function uS(n){gs("NgLet");const o=(0,u.klJ)(),s=(0,u.OAn)(),l=(0,u._px)();return(0,u.M_e)(o,s,l,n),n},\u0275\u0275readContextLet:function dS(n){const o=(0,u.VPL)(),s=(0,u.Hh6)(o,u.Yw1+n);if(s===uy)throw new u.buA(314,!1);return s},\u0275\u0275attachSourceLocations:function hS(n,o){const s=(0,u.klJ)(),l=(0,u.OAn)(),d=l[u.GpT],g="data-ng-source-location";for(const[v,C,b,W]of o){(0,u.XRZ)(s,v+u.Yw1);const me=(0,u.vaC)(v+u.Yw1,l);me.hasAttribute(g)||d.setAttribute(me,g,`${n}@o:${C},l:${b},c:${W}`)}},\u0275\u0275interpolate:function DC(n){return _o((0,u.OAn)(),(0,u.xbp)(),n)?(0,u.eFE)(n):Bi},\u0275\u0275interpolate1:function dy(n,o,s=""){return hC((0,u.OAn)(),n,o,s)},\u0275\u0275interpolate2:function m0(n,o,s,l,d=""){return fC((0,u.OAn)(),n,o,s,l,d)},\u0275\u0275interpolate3:function CC(n,o,s,l,d,g,v=""){return pC((0,u.OAn)(),n,o,s,l,d,g,v)},\u0275\u0275interpolate4:function fS(n,o,s,l,d,g,v,C,b=""){return d0((0,u.OAn)(),n,o,s,l,d,g,v,C,b)},\u0275\u0275interpolate5:function AC(n,o,s,l,d,g,v,C,b,W,J=""){return h0((0,u.OAn)(),n,o,s,l,d,g,v,C,b,W,J)},\u0275\u0275interpolate6:function _0(n,o,s,l,d,g,v,C,b,W,J,me,ze=""){return gC((0,u.OAn)(),n,o,s,l,d,g,v,C,b,W,J,me,ze)},\u0275\u0275interpolate7:function pS(n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn=""){return mC((0,u.OAn)(),n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn)},\u0275\u0275interpolate8:function gS(n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn,Rn,hr=""){return _C((0,u.OAn)(),n,o,s,l,d,g,v,C,b,W,J,me,ze,Ye,sn,Rn,hr)},\u0275\u0275interpolateV:function mS(n){return dC((0,u.OAn)(),n)},\u0275\u0275sanitizeHtml:function Zi(n){const o=ia();return o?A(o.sanitize(lr.HTML,n)||""):Yo(n,"HTML")?A(Ui(n)):function De(n,o){let s=null;try{Y=Y||Ia(n);let l=o?String(o):"";s=Y.getInertBodyElement(l);let d=5,g=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=g,g=s.innerHTML,s=Y.getInertBodyElement(l)}while(l!==g);return Si((new Ad).sanitizeChildren($t(s)||s))}finally{if(s){const l=$t(s)||s;for(;l.firstChild;)l.firstChild.remove()}}}(_n(),(0,u.eFE)(n))},\u0275\u0275sanitizeStyle:function cs(n){const o=ia();return o?o.sanitize(lr.STYLE,n)||"":Yo(n,"Style")?Ui(n):(0,u.eFE)(n)},\u0275\u0275sanitizeResourceUrl:co,\u0275\u0275sanitizeScript:function $a(n){const o=ia();if(o)return O(o.sanitize(lr.SCRIPT,n)||"");if(Yo(n,"Script"))return O(Ui(n));throw new u.buA(905,!1)},\u0275\u0275sanitizeUrl:Uo,\u0275\u0275sanitizeUrlOrResourceUrl:Wh,\u0275\u0275trustConstantHtml:function Sd(n){return Si(n[0])},\u0275\u0275trustConstantResourceUrl:function ky(n){return function Wn(n){return Xl()?.createScriptURL(n)||n}(n[0])},\u0275\u0275validateIframeAttribute:function wf(n,o,s){const l=(0,u.OAn)(),d=(0,u.CpD)(),g=(0,u.d31)(d,l);if(2===d.type&&"iframe"===o.toLowerCase()){const v=g;throw v.src="",v.srcdoc=Si(""),Au(l[u.GpT],v),new u.buA(-910,!1)}return n},forwardRef:u.Rfq,resolveForwardRef:u.nl4,\u0275\u0275twoWayProperty:g0,\u0275\u0275twoWayBindingSet:IC,\u0275\u0275twoWayListener:cy,\u0275\u0275replaceMetadata:function UC(n,o,s,l,d=null,g=null){const v=(0,u.xUg)(n);o.apply(null,[n,s,...l]);const{newDef:C,oldDef:b}=function Zg(n,o){const s={...n};return{newDef:Object.assign(n,o,{directiveDefs:s.directiveDefs,pipeDefs:s.pipeDefs,setInput:s.setInput,type:s.type}),oldDef:s}}(v,(0,u.xUg)(n));if(n[u.CQl]=C,b.tView){const W=function hn(){return so}().values();for(const J of W)(0,u.EFk)(J)&&null===J[u.f7T]&&Oh(d,g,C,b,J)}},\u0275\u0275getReplaceMetadataURL:function VC(n,o,s){const l=`./@ng/component?c=${n}&t=${encodeURIComponent(o)}`;return new URL(l,s).href}};let tp=null;function RS(n){null!==tp&&(n.defaultEncapsulation!==tp.defaultEncapsulation||n.preserveWhitespaces!==tp.preserveWhitespaces)||(tp=n)}const tm=[];function jC(n){return gv(n)?n.ngModule:n}const QC=pe("NgModule",n=>n,void 0,0,(n,o)=>function w0(n,o={}){(function S0(n,o){const l=(0,u.Bqz)(o.declarations||u.Mlv);let d=null;Object.defineProperty(n,u.hmW,{configurable:!0,get:()=>(null===d&&(d=Rt().compileNgModule(vd,`ng:///${n.name}/\u0275mod.js`,{type:n,bootstrap:(0,u.Bqz)(o.bootstrap||u.Mlv).map(u.nl4),declarations:l.map(u.nl4),imports:(0,u.Bqz)(o.imports||u.Mlv).map(u.nl4).map(jC),exports:(0,u.Bqz)(o.exports||u.Mlv).map(u.nl4).map(jC),schemas:o.schemas?(0,u.Bqz)(o.schemas):null,id:o.id||null}),d.schemas||(d.schemas=[])),d)});let g=null;Object.defineProperty(n,u.zSs,{get:()=>{if(null===g){const C=Rt();g=C.compileFactory(vd,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,deps:ye(n),target:C.FactoryTarget.NgModule,typeArgumentCount:0})}return g},configurable:!1});let v=null;Object.defineProperty(n,u.ONQ,{get:()=>{if(null===v){const C={name:n.name,type:n,providers:o.providers||u.Mlv,imports:[(o.imports||u.Mlv).map(u.nl4),(o.exports||u.Mlv).map(u.nl4)]};v=Rt().compileInjector(vd,`ng:///${n.name}/\u0275inj.js`,C)}return v},configurable:!1})})(n,o),void 0!==o.id&&AT(n,o.id),function $C(n,o){tm.push({moduleType:n,ngModule:o})}(n,o)}(n,o));class YC{ngModuleFactory;componentFactories;constructor(o,s){this.ngModuleFactory=o,this.componentFactories=s}}let xS=(()=>{class n{compileModuleSync(s){return new wT(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),g=Ts((0,u.phH)(s).declarations).reduce((v,C)=>{const b=(0,u.xUg)(C);return b&&v.push(new ig(b)),v},[]);return new YC(l,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const U0=new u.nKC("");let kS=(()=>{class n{zone=(0,u.WQX)(dr);changeDetectionScheduler=(0,u.WQX)(u.hk6);applicationRef=(0,u.WQX)(Ig);applicationErrorHandler=(0,u.WQX)(u.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(s){this.applicationErrorHandler(s)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ay=new u.nKC("",{factory:()=>!1});function JC({ngZoneFactory:n,ignoreChangesOutsideZone:o,scheduleInRootZone:s}){return n??=()=>new dr({...$0(),scheduleInRootZone:s}),[{provide:dr,useFactory:n},{provide:u.Z63,multi:!0,useFactory:()=>{const l=(0,u.WQX)(kS,{optional:!0});return()=>l.initialize()}},{provide:u.Z63,multi:!0,useFactory:()=>{const l=(0,u.WQX)(ZC);return()=>{l.initialize()}}},!0===o?{provide:u.Jy$,useValue:!0}:[],{provide:u.AQb,useValue:s??Ps},{provide:u.ZTf,useFactory:()=>{const l=(0,u.WQX)(dr),d=(0,u.WQX)(u.uvJ);let g;return v=>{l.runOutsideAngular(()=>{d.destroyed&&!g?setTimeout(()=>{throw v}):(g??=d.get(u.zcH),g.handleError(v))})}}}]}function $0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let ZC=(()=>{class n{subscription=new Te.yU;initialized=!1;zone=(0,u.WQX)(dr);pendingTasks=(0,u.WQX)(u.rev);initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{dr.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{dr.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W0=(()=>{class n{applicationErrorHandler=(0,u.WQX)(u.ZTf);appRef=(0,u.WQX)(Ig);taskService=(0,u.WQX)(u.rev);ngZone=(0,u.WQX)(dr);zonelessEnabled=(0,u.WQX)(u.Evm);tracing=(0,u.WQX)(Ud,{optional:!0});disableScheduling=(0,u.WQX)(u.Jy$,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ef):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,u.WQX)(u.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Op||!this.zoneIsDefined)}notify(s){if(!this.zonelessEnabled&&5===s)return;let l=!1;switch(s){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,l=!0;break;case 12:this.appRef.dirtyFlags|=16,l=!0;break;case 11:l=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(l))return;const d=this.useMicrotaskScheduler?wa:Sp;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>d(()=>this.tick())):this.ngZone.runOutsideAngular(()=>d(()=>this.tick()))}shouldScheduleTick(s){return!(this.disableScheduling&&!s||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ef+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){this.taskService.remove(s),this.applicationErrorHandler(l)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wa(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const s=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(s)}}static \u0275fac=function(l){return new(l||n)};static \u0275prov=(0,u.jDH)({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ru=new u.nKC("",{providedIn:"root",factory:()=>(0,u.WQX)(ru,{optional:!0,skipSelf:!0})||function ap(){return typeof $localize<"u"&&$localize.locale||G_}()}),LS=new u.nKC("",{providedIn:"root",factory:()=>"USD"})},3669:(Ln,Tt,L)=>{"use strict";function h(u){return u}L.d(Tt,{D:()=>h})},3726:(Ln,Tt,L)=>{"use strict";L.d(Tt,{R:()=>le});var h=L(8750),u=L(1985),k=L(1397),$=L(7441),Te=L(8071),fe=L(6450);const Ce=["addListener","removeListener"],He=["addEventListener","removeEventListener"],Se=["on","off"];function le(We,st,it,et){if((0,Te.T)(it)&&(et=it,it=void 0),et)return le(We,st,it).pipe((0,fe.I)(et));const[vt,Rt]=function Le(We){return(0,Te.T)(We.addEventListener)&&(0,Te.T)(We.removeEventListener)}(We)?He.map(Fe=>dt=>We[Fe](st,dt,it)):function Pe(We){return(0,Te.T)(We.addListener)&&(0,Te.T)(We.removeListener)}(We)?Ce.map(pe(We,st)):function Me(We){return(0,Te.T)(We.on)&&(0,Te.T)(We.off)}(We)?Se.map(pe(We,st)):[];if(!vt&&(0,$.X)(We))return(0,k.Z)(Fe=>le(Fe,st,it))((0,h.Tg)(We));if(!vt)throw new TypeError("Invalid event target");return new u.c(Fe=>{const dt=(...ke)=>Fe.next(1<ke.length?ke:ke[0]);return vt(dt),()=>Rt(dt)})}function pe(We,st){return it=>et=>We[it](st,et)}},3774:(Ln,Tt,L)=>{"use strict";L.d(Tt,{v:()=>$});var h=L(9350),u=L(9974),k=L(4360);function $(fe=Te){return(0,u.N)((Ce,He)=>{let Se=!1;Ce.subscribe((0,k._)(He,le=>{Se=!0,He.next(le)},()=>Se?He.complete():He.error(fe())))})}function Te(){return new h.G}},3794:(Ln,Tt,L)=>{"use strict";L.d(Tt,{R0:()=>fe,ms:()=>$,lI:()=>Te});var h=L(8071);function k(Ce){return Ce[Ce.length-1]}function $(Ce){return(0,h.T)(k(Ce))?Ce.pop():void 0}function Te(Ce){return function u(Ce){return Ce&&(0,h.T)(Ce.schedule)}(k(Ce))?Ce.pop():void 0}function fe(Ce,He){return"number"==typeof k(Ce)?Ce.pop():He}},3939:(Ln,Tt,L)=>{"use strict";L.r(Tt),L.d(Tt,{mdTransitionAnimation:()=>fe});var h=L(2541),u=L(7951);L(5705),L(9596),L(4674);const fe=(Ce,He)=>{var Se,le,pe;const Le="back"===He.direction,st=He.leavingEl,it=(0,u.g)(He.enteringEl),et=it.querySelector("ion-toolbar"),vt=(0,h.c)();if(vt.addElement(it).fill("both").beforeRemoveClass("ion-page-invisible"),Le?vt.duration((null!==(Se=He.duration)&&void 0!==Se?Se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):vt.duration((null!==(le=He.duration)&&void 0!==le?le:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),et){const Rt=(0,h.c)();Rt.addElement(et),vt.addAnimation(Rt)}if(st&&Le){vt.duration((null!==(pe=He.duration)&&void 0!==pe?pe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Rt=(0,h.c)();Rt.addElement((0,u.g)(st)).onFinish(Fe=>{1===Fe&&Rt.elements.length>0&&Rt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),vt.addAnimation(Rt)}return vt}},4084:(Ln,Tt,L)=>{"use strict";L.d(Tt,{nX:()=>Ni,Pu:()=>pl,Zp:()=>_n,nU:()=>Gr,wU:()=>Dn,c1:()=>Ge,XR:()=>Vh,wF:()=>kr,lW:()=>Xr,mo:()=>Kr,Z:()=>wr,J2:()=>Gl,Xk:()=>Fn,J_:()=>va,bw:()=>$n,b:()=>Cr,tD:()=>Zt,Ix:()=>Si,D$:()=>Yt,n3:()=>de,OY:()=>Lo,Sd:()=>pi,bK:()=>Ic,gk:()=>yi,Lg:()=>hu,wO:()=>oo,Us:()=>Na,we:()=>Ot});var h=L(2615),u=L(7303),k=L(3664),$=L(7705),Te=L(9295),fe=L(1985),Ce=L(8071),Se=L(8455),le=L(7673),pe=L(4412),Pe=L(4572),Me=L(9350),Le=L(8793),We=L(8750);function st(D){return new fe.c(M=>{(0,We.Tg)(D()).subscribe(M)})}var it=L(1203);function et(D,M){const A=(0,Ce.T)(D)?D:()=>D,O=G=>G.error(A());return new fe.c(M?G=>M.schedule(O,0,G):O)}var vt=L(983),Rt=L(8359),Fe=L(9974),dt=L(4360);function ke(){return(0,Fe.N)((D,M)=>{let A=null;D._refCount++;const O=(0,dt._)(M,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(A=null);const G=D._connection,ae=A;A=null,G&&(!ae||G===ae)&&G.unsubscribe(),M.unsubscribe()});D.subscribe(O),O.closed||(A=D.connect())})}class Ve extends fe.c{constructor(M,A){super(),this.source=M,this.subjectFactory=A,this._subject=null,this._refCount=0,this._connection=null,(0,Fe.S)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Rt.yU;const A=this.getSubject();M.add(this.source.subscribe((0,dt._)(A,void 0,()=>{this._teardown(),A.complete()},O=>{this._teardown(),A.error(O)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Rt.yU.EMPTY)}return M}refCount(){return ke()(this)}}var Ze=L(1413),_t=L(6354),ct=L(5558),Oe=L(6697),ln=L(9172),ut=L(5964),Mn=L(1397),zt=L(1594),kt=L(274),ht=L(8141),jt=L(9437),tn=L(2816),dn=L(9901);function re(D){return D<=0?()=>vt.w:(0,Fe.N)((M,A)=>{let O=[];M.subscribe((0,dt._)(A,G=>{O.push(G),D<O.length&&O.shift()},()=>{for(const G of O)A.next(G);A.complete()},void 0,()=>{O=null}))})}var _e=L(3774),Ue=L(3669),tt=L(980),wt=L(5343);function Gt(D){return(0,Fe.N)((M,A)=>{(0,We.Tg)(D).subscribe((0,dt._)(A,()=>A.complete(),wt.l)),!A.closed&&M.subscribe(A)})}let lt=(()=>{class D{_doc;constructor(A){this._doc=A}getTitle(){return this._doc.title}setTitle(A){this._doc.title=A||""}static \u0275fac=function(O){return new(O||D)(h.KVO(h.qQL))};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Fn="primary",ni=Symbol("RouteTitle");class jr{params;constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const A=this.params[M];return Array.isArray(A)?A[0]:A}return null}getAll(M){if(this.has(M)){const A=this.params[M];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function ri(D){return new jr(D)}function Pi(D,M,A){const O=A.path.split("/");if(O.length>D.length||"full"===A.pathMatch&&(M.hasChildren()||O.length<D.length))return null;const G={};for(let ae=0;ae<O.length;ae++){const Ne=O[ae],Dt=D[ae];if(":"===Ne[0])G[Ne.substring(1)]=Dt;else if(Ne!==Dt.path)return null}return{consumed:D.slice(0,O.length),posParams:G}}function ii(D,M){const A=D?$i(D):void 0,O=M?$i(M):void 0;if(!A||!O||A.length!=O.length)return!1;let G;for(let ae=0;ae<A.length;ae++)if(G=A[ae],!Ti(D[G],M[G]))return!1;return!0}function $i(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function Ti(D,M){if(Array.isArray(D)&&Array.isArray(M)){if(D.length!==M.length)return!1;const A=[...D].sort(),O=[...M].sort();return A.every((G,ae)=>O[ae]===G)}return D===M}function Wr(D){return D.length>0?D[D.length-1]:null}function Be(D){return function He(D){return!!D&&(D instanceof fe.c||(0,Ce.T)(D.lift)&&(0,Ce.T)(D.subscribe))}(D)?D:(0,k.yLl)(D)?(0,Se.H)(Promise.resolve(D)):(0,le.of)(D)}const $e={exact:function Vn(D,M,A){if(!Dr(D.segments,M.segments)||!Rr(D.segments,M.segments,A)||D.numberOfChildren!==M.numberOfChildren)return!1;for(const O in M.children)if(!D.children[O]||!Vn(D.children[O],M.children[O],A))return!1;return!0},subset:Fr},nt={exact:function bt(D,M){return ii(D,M)},subset:function Kn(D,M){return Object.keys(M).length<=Object.keys(D).length&&Object.keys(M).every(A=>Ti(D[A],M[A]))},ignored:()=>!0};function Kt(D,M,A){return $e[A.paths](D.root,M.root,A.matrixParams)&&nt[A.queryParams](D.queryParams,M.queryParams)&&!("exact"===A.fragment&&D.fragment!==M.fragment)}function Fr(D,M,A){return Lr(D,M,M.segments,A)}function Lr(D,M,A,O){if(D.segments.length>A.length){const G=D.segments.slice(0,A.length);return!(!Dr(G,A)||M.hasChildren()||!Rr(G,A,O))}if(D.segments.length===A.length){if(!Dr(D.segments,A)||!Rr(D.segments,A,O))return!1;for(const G in M.children)if(!D.children[G]||!Fr(D.children[G],M.children[G],O))return!1;return!0}{const G=A.slice(0,D.segments.length),ae=A.slice(D.segments.length);return!!(Dr(D.segments,G)&&Rr(D.segments,G,O)&&D.children[Fn])&&Lr(D.children[Fn],M,ae,O)}}function Rr(D,M,A){return M.every((O,G)=>nt[A](D[G].parameters,O.parameters))}class Pr{root;queryParams;fragment;_queryParamMap;constructor(M=new Hn([],{}),A={},O=null){this.root=M,this.queryParams=A,this.fragment=O}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){return Ci.serialize(this)}}class Hn{segments;children;parent=null;constructor(M,A){this.segments=M,this.children=A,Object.values(A).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return li(this)}}class yr{path;parameters;_parameterMap;constructor(M,A){this.path=M,this.parameters=A}get parameterMap(){return this._parameterMap??=ri(this.parameters),this._parameterMap}toString(){return at(this)}}function Dr(D,M){return D.length===M.length&&D.every((A,O)=>A.path===M[O].path)}let pi=(()=>{class D{static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:()=>new Gr,providedIn:"root"})}return D})();class Gr{parse(M){const A=new io(M);return new Pr(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(M){const A=`/${ki(M.root,!0)}`,O=function Un(D){const M=Object.entries(D).map(([A,O])=>Array.isArray(O)?O.map(G=>`${It(A)}=${It(G)}`).join("&"):`${It(A)}=${It(O)}`).filter(A=>A);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${A}${O}${"string"==typeof M.fragment?`#${function nn(D){return encodeURI(D)}(M.fragment)}`:""}`}}const Ci=new Gr;function li(D){return D.segments.map(M=>at(M)).join("/")}function ki(D,M){if(!D.hasChildren())return li(D);if(M){const A=D.children[Fn]?ki(D.children[Fn],!1):"",O=[];return Object.entries(D.children).forEach(([G,ae])=>{G!==Fn&&O.push(`${G}:${ki(ae,!1)}`)}),O.length>0?`${A}(${O.join("//")})`:A}{const A=function Di(D,M){let A=[];return Object.entries(D.children).forEach(([O,G])=>{O===Fn&&(A=A.concat(M(G,O)))}),Object.entries(D.children).forEach(([O,G])=>{O!==Fn&&(A=A.concat(M(G,O)))}),A}(D,(O,G)=>G===Fn?[ki(D.children[Fn],!1)]:[`${G}:${ki(O,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Fn]?`${li(D)}/${A[0]}`:`${li(D)}/(${A.join("//")})`}}function xt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function It(D){return xt(D).replace(/%3B/gi,";")}function ye(D){return xt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qe(D){return decodeURIComponent(D)}function Ae(D){return Qe(D.replace(/\+/g,"%20"))}function at(D){return`${ye(D.path)}${function Qt(D){return Object.entries(D).map(([M,A])=>`;${ye(M)}=${ye(A)}`).join("")}(D.parameters)}`}const tr=/^[^\/()?;#]+/;function pr(D){const M=D.match(tr);return M?M[0]:""}const zr=/^[^\/()?;=#]+/,xo=/^[^=?&#]+/,Zr=/^[^&#]+/;class io{url;remaining;constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(M.length>0||Object.keys(A).length>0)&&(O[Fn]=new Hn(M,A)),O}parseSegment(){const M=pr(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new h.buA(4009,!1);return this.capture(M),new yr(Qe(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const A=function Ki(D){const M=D.match(zr);return M?M[0]:""}(this.remaining);if(!A)return;this.capture(A);let O="";if(this.consumeOptional("=")){const G=pr(this.remaining);G&&(O=G,this.capture(O))}M[Qe(A)]=Qe(O)}parseQueryParam(M){const A=function po(D){const M=D.match(xo);return M?M[0]:""}(this.remaining);if(!A)return;this.capture(A);let O="";if(this.consumeOptional("=")){const Ne=function gi(D){const M=D.match(Zr);return M?M[0]:""}(this.remaining);Ne&&(O=Ne,this.capture(O))}const G=Ae(A),ae=Ae(O);if(M.hasOwnProperty(G)){let Ne=M[G];Array.isArray(Ne)||(Ne=[Ne],M[G]=Ne),Ne.push(ae)}else M[G]=ae}parseParens(M){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=pr(this.remaining),G=this.remaining[O.length];if("/"!==G&&")"!==G&&";"!==G)throw new h.buA(4010,!1);let ae;O.indexOf(":")>-1?(ae=O.slice(0,O.indexOf(":")),this.capture(ae),this.capture(":")):M&&(ae=Fn);const Ne=this.parseChildren();A[ae]=1===Object.keys(Ne).length&&Ne[Fn]?Ne[Fn]:new Hn([],Ne),this.consumeOptional("//")}return A}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new h.buA(4011,!1)}}function Ao(D){return D.segments.length>0?new Hn([],{[Fn]:D}):D}function yo(D){const M={};for(const[O,G]of Object.entries(D.children)){const ae=yo(G);if(O===Fn&&0===ae.segments.length&&ae.hasChildren())for(const[Ne,Dt]of Object.entries(ae.children))M[Ne]=Dt;else(ae.segments.length>0||ae.hasChildren())&&(M[O]=ae)}return function ko(D){if(1===D.numberOfChildren&&D.children[Fn]){const M=D.children[Fn];return new Hn(D.segments.concat(M.segments),M.children)}return D}(new Hn(D.segments,M))}function oo(D){return D instanceof Pr}function Oi(D){let M;const G=Ao(function A(ae){const Ne={};for(const fn of ae.children){const Qn=A(fn);Ne[fn.outlet]=Qn}const Dt=new Hn(ae.url,Ne);return ae===D&&(M=Dt),Dt}(D.root));return M??G}function Li(D,M,A,O){let G=D;for(;G.parent;)G=G.parent;if(0===M.length)return ji(G,G,G,A,O);const ae=function xe(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new ve(!0,0,D);let M=0,A=!1;const O=D.reduce((G,ae,Ne)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Dt={};return Object.entries(ae.outlets).forEach(([fn,Qn])=>{Dt[fn]="string"==typeof Qn?Qn.split("/"):Qn}),[...G,{outlets:Dt}]}if(ae.segmentPath)return[...G,ae.segmentPath]}return"string"!=typeof ae?[...G,ae]:0===Ne?(ae.split("/").forEach((Dt,fn)=>{0==fn&&"."===Dt||(0==fn&&""===Dt?A=!0:".."===Dt?M++:""!=Dt&&G.push(Dt))}),G):[...G,ae]},[]);return new ve(A,M,O)}(M);if(ae.toRoot())return ji(G,G,new Hn([],{}),A,O);const Ne=function ge(D,M,A){if(D.isAbsolute)return new ne(M,!0,0);if(!A)return new ne(M,!1,NaN);if(null===A.parent)return new ne(A,!0,0);const O=qi(D.commands[0])?0:1;return function ft(D,M,A){let O=D,G=M,ae=A;for(;ae>G;){if(ae-=G,O=O.parent,!O)throw new h.buA(4005,!1);G=O.segments.length}return new ne(O,!1,G-ae)}(A,A.segments.length-1+O,D.numberOfDoubleDots)}(ae,G,D),Dt=Ne.processChildren?F(Ne.segmentGroup,Ne.index,ae.commands):Sn(Ne.segmentGroup,Ne.index,ae.commands);return ji(G,Ne.segmentGroup,Dt,A,O)}function qi(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Mi(D){return"object"==typeof D&&null!=D&&D.outlets}function ji(D,M,A,O,G){let Ne,ae={};O&&Object.entries(O).forEach(([fn,Qn])=>{ae[fn]=Array.isArray(Qn)?Qn.map(ci=>`${ci}`):`${Qn}`}),Ne=D===M?A:so(D,M,A);const Dt=Ao(yo(Ne));return new Pr(Dt,ae,G)}function so(D,M,A){const O={};return Object.entries(D.children).forEach(([G,ae])=>{O[G]=ae===M?A:so(ae,M,A)}),new Hn(D.segments,O)}class ve{isAbsolute;numberOfDoubleDots;commands;constructor(M,A,O){if(this.isAbsolute=M,this.numberOfDoubleDots=A,this.commands=O,M&&O.length>0&&qi(O[0]))throw new h.buA(4003,!1);const G=O.find(Mi);if(G&&G!==Wr(O))throw new h.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ne{segmentGroup;processChildren;index;constructor(M,A,O){this.segmentGroup=M,this.processChildren=A,this.index=O}}function Sn(D,M,A){if(D??=new Hn([],{}),0===D.segments.length&&D.hasChildren())return F(D,M,A);const O=function Ee(D,M,A){let O=0,G=M;const ae={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(O>=A.length)return ae;const Ne=D.segments[G],Dt=A[O];if(Mi(Dt))break;const fn=`${Dt}`,Qn=O<A.length-1?A[O+1]:null;if(G>0&&void 0===fn)break;if(fn&&Qn&&"object"==typeof Qn&&void 0===Qn.outlets){if(!un(fn,Qn,Ne))return ae;O+=2}else{if(!un(fn,{},Ne))return ae;O++}G++}return{match:!0,pathIndex:G,commandIndex:O}}(D,M,A),G=A.slice(O.commandIndex);if(O.match&&O.pathIndex<D.segments.length){const ae=new Hn(D.segments.slice(0,O.pathIndex),{});return ae.children[Fn]=new Hn(D.segments.slice(O.pathIndex),D.children),F(ae,0,G)}return O.match&&0===G.length?new Hn(D.segments,{}):O.match&&!D.hasChildren()?Z(D,M,A):O.match?F(D,0,G):Z(D,M,A)}function F(D,M,A){if(0===A.length)return new Hn(D.segments,{});{const O=function hn(D){return Mi(D[0])?D[0].outlets:{[Fn]:D}}(A),G={};if(Object.keys(O).some(ae=>ae!==Fn)&&D.children[Fn]&&1===D.numberOfChildren&&0===D.children[Fn].segments.length){const ae=F(D.children[Fn],M,A);return new Hn(D.segments,ae.children)}return Object.entries(O).forEach(([ae,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(G[ae]=Sn(D.children[ae],M,Ne))}),Object.entries(D.children).forEach(([ae,Ne])=>{void 0===O[ae]&&(G[ae]=Ne)}),new Hn(D.segments,G)}}function Z(D,M,A){const O=D.segments.slice(0,M);let G=0;for(;G<A.length;){const ae=A[G];if(Mi(ae)){const fn=ue(ae.outlets);return new Hn(O,fn)}if(0===G&&qi(A[0])){O.push(new yr(D.segments[M].path,ot(A[0]))),G++;continue}const Ne=Mi(ae)?ae.outlets[Fn]:`${ae}`,Dt=G<A.length-1?A[G+1]:null;Ne&&Dt&&qi(Dt)?(O.push(new yr(Ne,ot(Dt))),G+=2):(O.push(new yr(Ne,{})),G++)}return new Hn(O,{})}function ue(D){const M={};return Object.entries(D).forEach(([A,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(M[A]=Z(new Hn([],{}),0,O))}),M}function ot(D){const M={};return Object.entries(D).forEach(([A,O])=>M[A]=`${O}`),M}function un(D,M,A){return D==A.path&&ii(M,A.parameters)}const Dn="imperative";var mn=function(D){return D[D.NavigationStart=0]="NavigationStart",D[D.NavigationEnd=1]="NavigationEnd",D[D.NavigationCancel=2]="NavigationCancel",D[D.NavigationError=3]="NavigationError",D[D.RoutesRecognized=4]="RoutesRecognized",D[D.ResolveStart=5]="ResolveStart",D[D.ResolveEnd=6]="ResolveEnd",D[D.GuardsCheckStart=7]="GuardsCheckStart",D[D.GuardsCheckEnd=8]="GuardsCheckEnd",D[D.RouteConfigLoadStart=9]="RouteConfigLoadStart",D[D.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",D[D.ChildActivationStart=11]="ChildActivationStart",D[D.ChildActivationEnd=12]="ChildActivationEnd",D[D.ActivationStart=13]="ActivationStart",D[D.ActivationEnd=14]="ActivationEnd",D[D.Scroll=15]="Scroll",D[D.NavigationSkipped=16]="NavigationSkipped",D}(mn||{});class xr{id;url;constructor(M,A){this.id=M,this.url=A}}class wr extends xr{type=mn.NavigationStart;navigationTrigger;restoredState;constructor(M,A,O="imperative",G=null){super(M,A),this.navigationTrigger=O,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kr extends xr{urlAfterRedirects;type=mn.NavigationEnd;constructor(M,A,O){super(M,A),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var nr=function(D){return D[D.Redirect=0]="Redirect",D[D.SupersededByNewNavigation=1]="SupersededByNewNavigation",D[D.NoDataFromResolver=2]="NoDataFromResolver",D[D.GuardRejected=3]="GuardRejected",D[D.Aborted=4]="Aborted",D}(nr||{}),Kr=function(D){return D[D.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",D[D.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",D}(Kr||{});class Ir extends xr{reason;code;type=mn.NavigationCancel;constructor(M,A,O,G){super(M,A),this.reason=O,this.code=G}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xr extends xr{reason;code;type=mn.NavigationSkipped;constructor(M,A,O,G){super(M,A),this.reason=O,this.code=G}}class wo extends xr{error;target;type=mn.NavigationError;constructor(M,A,O,G){super(M,A),this.error=O,this.target=G}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class So extends xr{urlAfterRedirects;state;type=mn.RoutesRecognized;constructor(M,A,O,G){super(M,A),this.urlAfterRedirects=O,this.state=G}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro extends xr{urlAfterRedirects;state;type=mn.GuardsCheckStart;constructor(M,A,O,G){super(M,A),this.urlAfterRedirects=O,this.state=G}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H extends xr{urlAfterRedirects;state;shouldActivate;type=mn.GuardsCheckEnd;constructor(M,A,O,G,ae){super(M,A),this.urlAfterRedirects=O,this.state=G,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Br extends xr{urlAfterRedirects;state;type=mn.ResolveStart;constructor(M,A,O,G){super(M,A),this.urlAfterRedirects=O,this.state=G}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends xr{urlAfterRedirects;state;type=mn.ResolveEnd;constructor(M,A,O,G){super(M,A),this.urlAfterRedirects=O,this.state=G}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N{route;type=mn.RouteConfigLoadStart;constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class he{route;type=mn.RouteConfigLoadEnd;constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vr{snapshot;type=mn.ChildActivationStart;constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{snapshot;type=mn.ChildActivationEnd;constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{snapshot;type=mn.ActivationStart;constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{snapshot;type=mn.ActivationEnd;constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{routerEvent;position;anchor;type=mn.Scroll;constructor(M,A,O){this.routerEvent=M,this.position=A,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class no{}class ss{url;navigationBehaviorOptions;constructor(M,A){this.url=M,this.navigationBehaviorOptions=A}}function Na(D){switch(D.type){case mn.ActivationEnd:return`ActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case mn.ActivationStart:return`ActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case mn.ChildActivationEnd:return`ChildActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case mn.ChildActivationStart:return`ChildActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case mn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case mn.GuardsCheckStart:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case mn.NavigationCancel:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case mn.NavigationSkipped:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case mn.NavigationEnd:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case mn.NavigationError:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case mn.NavigationStart:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case mn.ResolveEnd:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case mn.ResolveStart:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case mn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${D.route.path})`;case mn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${D.route.path})`;case mn.RoutesRecognized:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case mn.Scroll:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}function ee(D){return D.outlet||Fn}function Et(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let M=D.parent;M;M=M.parent){const A=M.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class Jt{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Et(this.route?.snapshot)??this.rootInjector}constructor(M){this.rootInjector=M,this.children=new _n(this.rootInjector)}}let _n=(()=>{class D{rootInjector;contexts=new Map;constructor(A){this.rootInjector=A}onChildOutletCreated(A,O){const G=this.getOrCreateContext(A);G.outlet=O,this.contexts.set(A,G)}onChildOutletDestroyed(A){const O=this.getContext(A);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let O=this.getContext(A);return O||(O=new Jt(this.rootInjector),this.contexts.set(A,O)),O}getContext(A){return this.contexts.get(A)||null}static \u0275fac=function(O){return new(O||D)(h.KVO(h.uvJ))};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class Nn{_root;constructor(M){this._root=M}get root(){return this._root.value}parent(M){const A=this.pathFromRoot(M);return A.length>1?A[A.length-2]:null}children(M){const A=or(M,this._root);return A?A.children.map(O=>O.value):[]}firstChild(M){const A=or(M,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(M){const A=ur(M,this._root);return A.length<2?[]:A[A.length-2].children.map(G=>G.value).filter(G=>G!==M)}pathFromRoot(M){return ur(M,this._root).map(A=>A.value)}}function or(D,M){if(D===M.value)return M;for(const A of M.children){const O=or(D,A);if(O)return O}return null}function ur(D,M){if(D===M.value)return[M];for(const A of M.children){const O=ur(D,A);if(O.length)return O.unshift(M),O}return[]}class Tr{value;children;constructor(M,A){this.value=M,this.children=A}toString(){return`TreeNode(${this.value})`}}function rr(D){const M={};return D&&D.children.forEach(A=>M[A.value.outlet]=A),M}class Fi extends Nn{snapshot;constructor(M,A){super(M),this.snapshot=A,Fo(this,M)}toString(){return this.snapshot.toString()}}function mi(D){const M=function Qi(D){const ae=new Ho([],{},{},"",{},Fn,D,null,{});return new Yi("",new Tr(ae,[]))}(D),A=new pe.t([new yr("",{})]),O=new pe.t({}),G=new pe.t({}),ae=new pe.t({}),Ne=new pe.t(""),Dt=new Ni(A,O,ae,Ne,G,Fn,D,M.root);return Dt.snapshot=M.root,new Fi(new Tr(Dt,[]),M)}class Ni{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(M,A,O,G,ae,Ne,Dt,fn){this.urlSubject=M,this.paramsSubject=A,this.queryParamsSubject=O,this.fragmentSubject=G,this.dataSubject=ae,this.outlet=Ne,this.component=Dt,this._futureSnapshot=fn,this.title=this.dataSubject?.pipe((0,_t.T)(Qn=>Qn[ni]))??(0,le.of)(void 0),this.url=M,this.params=A,this.queryParams=O,this.fragment=G,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,_t.T)(M=>ri(M))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,_t.T)(M=>ri(M))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vi(D,M,A="emptyOnly"){let O;const{routeConfig:G}=D;return O=null===M||"always"!==A&&""!==G?.path&&(M.component||M.routeConfig?.loadComponent)?{params:{...D.params},data:{...D.data},resolve:{...D.data,...D._resolvedData??{}}}:{params:{...M.params,...D.params},data:{...M.data,...D.data},resolve:{...D.data,...M.data,...G?.data,...D._resolvedData}},G&&U(G)&&(O.resolve[ni]=G.title),O}class Ho{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ni]}constructor(M,A,O,G,ae,Ne,Dt,fn,Qn){this.url=M,this.params=A,this.queryParams=O,this.fragment=G,this.data=ae,this.outlet=Ne,this.component=Dt,this.routeConfig=fn,this._resolve=Qn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yi extends Nn{url;constructor(M,A){super(A),this.url=M,Fo(this,A)}toString(){return Is(this._root)}}function Fo(D,M){M.value._routerState=D,M.children.forEach(A=>Fo(D,A))}function Is(D){const M=D.children.length>0?` { ${D.children.map(Is).join(", ")} } `:"";return`${D.value}${M}`}function lo(D){if(D.snapshot){const M=D.snapshot,A=D._futureSnapshot;D.snapshot=A,ii(M.queryParams,A.queryParams)||D.queryParamsSubject.next(A.queryParams),M.fragment!==A.fragment&&D.fragmentSubject.next(A.fragment),ii(M.params,A.params)||D.paramsSubject.next(A.params),function si(D,M){if(D.length!==M.length)return!1;for(let A=0;A<D.length;++A)if(!ii(D[A],M[A]))return!1;return!0}(M.url,A.url)||D.urlSubject.next(A.url),ii(M.data,A.data)||D.dataSubject.next(A.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function R(D,M){const A=ii(D.params,M.params)&&function ui(D,M){return Dr(D,M)&&D.every((A,O)=>ii(A.parameters,M[O].parameters))}(D.url,M.url);return A&&!(!D.parent!=!M.parent)&&(!D.parent||R(D.parent,M.parent))}function U(D){return"string"==typeof D.title||null===D.title}const te=new h.nKC("");let de=(()=>{class D{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Fn;activateEvents=new k.bkB;deactivateEvents=new k.bkB;attachEvents=new k.bkB;detachEvents=new k.bkB;routerOutletData=(0,$.hFB)(void 0);parentContexts=(0,h.WQX)(_n);location=(0,h.WQX)(k.c1b);changeDetector=(0,h.WQX)($.gRc);inputBinder=(0,h.WQX)(Ge,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(A){if(A.name){const{firstChange:O,previousValue:G}=A.name;if(O)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){return this.parentContexts.getContext(A)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);A?.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.buA(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,O){this.activated=A,this._activatedRoute=O,this.location.insert(A.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,O){if(this.isActivated)throw new h.buA(4013,!1);this._activatedRoute=A;const G=this.location,Ne=A.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,fn=new Je(A,Dt,G.injector,this.routerOutletData);this.activated=G.createComponent(Ne,{index:G.length,injector:fn,environmentInjector:O}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(O){return new(O||D)};static \u0275dir=k.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[k.OA$]})}return D})();class Je{route;childContexts;parent;outletData;constructor(M,A,O,G){this.route=M,this.childContexts=A,this.parent=O,this.outletData=G}get(M,A){return M===Ni?this.route:M===_n?this.childContexts:M===te?this.outletData:this.parent.get(M,A)}}const Ge=new h.nKC("");let Zt=(()=>{class D{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){this.outletDataSubscriptions.get(A)?.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:O}=A,G=(0,Pe.z)([O.queryParams,O.params,O.data]).pipe((0,ct.n)(([ae,Ne,Dt],fn)=>(Dt={...ae,...Ne,...Dt},0===fn?(0,le.of)(Dt):Promise.resolve(Dt)))).subscribe(ae=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(A);const Ne=(0,$.HJs)(O.component);if(Ne)for(const{templateName:Dt}of Ne.inputs)A.activatedComponentRef.setInput(Dt,ae[Dt]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,G)}static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac})}return D})(),Ot=(()=>{class D{static \u0275fac=function(O){return new(O||D)};static \u0275cmp=k.VBU({type:D,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(O,G){1&O&&k.nrm(0,"router-outlet")},dependencies:[de],encapsulation:2})}return D})();function rn(D){const M=D.children&&D.children.map(rn),A=M?{...D,children:M}:{...D};return!A.component&&!A.loadComponent&&(M||A.loadChildren)&&A.outlet&&A.outlet!==Fn&&(A.component=Ot),A}function en(D,M,A){if(A&&D.shouldReuseRoute(M.value,A.value.snapshot)){const O=A.value;O._futureSnapshot=M.value;const G=function Pn(D,M,A){return M.children.map(O=>{for(const G of A.children)if(D.shouldReuseRoute(O.value,G.value.snapshot))return en(D,O,G);return en(D,O)})}(D,M,A);return new Tr(O,G)}{if(D.shouldAttach(M.value)){const ae=D.retrieve(M.value);if(null!==ae){const Ne=ae.route;return Ne.value._futureSnapshot=M.value,Ne.children=M.children.map(Dt=>en(D,Dt)),Ne}}const O=function An(D){return new Ni(new pe.t(D.url),new pe.t(D.params),new pe.t(D.queryParams),new pe.t(D.fragment),new pe.t(D.data),D.outlet,D.component,D)}(M.value),G=M.children.map(ae=>en(D,ae));return new Tr(O,G)}}class sr{redirectTo;navigationBehaviorOptions;constructor(M,A){this.redirectTo=M,this.navigationBehaviorOptions=A}}const Xn="ngNavigationCancelingError";function ei(D,M){const{redirectTo:A,navigationBehaviorOptions:O}=oo(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,G=$r(!1,nr.Redirect);return G.url=A,G.navigationBehaviorOptions=O,G}function $r(D,M){const A=new Error(`NavigationCancelingError: ${D||""}`);return A[Xn]=!0,A.cancellationCode=M,A}function zo(D){return!!D&&D[Xn]}class j{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(M,A,O,G,ae){this.routeReuseStrategy=M,this.futureState=A,this.currState=O,this.forwardEvent=G,this.inputBindingEnabled=ae}activate(M){const A=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,O,M),lo(this.futureState.root),this.activateChildRoutes(A,O,M)}deactivateChildRoutes(M,A,O){const G=rr(A);M.children.forEach(ae=>{const Ne=ae.value.outlet;this.deactivateRoutes(ae,G[Ne],O),delete G[Ne]}),Object.values(G).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,O)})}deactivateRoutes(M,A,O){const G=M.value,ae=A?A.value:null;if(G===ae)if(G.component){const Ne=O.getContext(G.outlet);Ne&&this.deactivateChildRoutes(M,A,Ne.children)}else this.deactivateChildRoutes(M,A,O);else ae&&this.deactivateRouteAndItsChildren(A,O)}deactivateRouteAndItsChildren(M,A){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,A):this.deactivateRouteAndOutlet(M,A)}detachAndStoreRouteSubtree(M,A){const O=A.getContext(M.value.outlet),G=O&&M.value.component?O.children:A,ae=rr(M);for(const Ne of Object.values(ae))this.deactivateRouteAndItsChildren(Ne,G);if(O&&O.outlet){const Ne=O.outlet.detach(),Dt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Ne,route:M,contexts:Dt})}}deactivateRouteAndOutlet(M,A){const O=A.getContext(M.value.outlet),G=O&&M.value.component?O.children:A,ae=rr(M);for(const Ne of Object.values(ae))this.deactivateRouteAndItsChildren(Ne,G);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(M,A,O){const G=rr(A);M.children.forEach(ae=>{this.activateRoutes(ae,G[ae.value.outlet],O),this.forwardEvent(new Hi(ae.value.snapshot))}),M.children.length&&this.forwardEvent(new qr(M.value.snapshot))}activateRoutes(M,A,O){const G=M.value,ae=A?A.value:null;if(lo(G),G===ae)if(G.component){const Ne=O.getOrCreateContext(G.outlet);this.activateChildRoutes(M,A,Ne.children)}else this.activateChildRoutes(M,A,O);else if(G.component){const Ne=O.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Dt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ne.children.onOutletReAttached(Dt.contexts),Ne.attachRef=Dt.componentRef,Ne.route=Dt.route.value,Ne.outlet&&Ne.outlet.attach(Dt.componentRef,Dt.route.value),lo(Dt.route.value),this.activateChildRoutes(M,null,Ne.children)}else Ne.attachRef=null,Ne.route=G,Ne.outlet&&Ne.outlet.activateWith(G,Ne.injector),this.activateChildRoutes(M,null,Ne.children)}else this.activateChildRoutes(M,null,O)}}class P{path;route;constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class ie{component;route;constructor(M,A){this.component=M,this.route=A}}function je(D,M,A){const O=D._root;return di(O,M?M._root:null,A,[O.value])}function qn(D,M){const A=Symbol(),O=M.get(D,A);return O===A?"function"!=typeof D||(0,h.muV)(D)?M.get(D):D:O}function di(D,M,A,O,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=rr(M);return D.children.forEach(Ne=>{(function Go(D,M,A,O,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,Ne=M?M.value:null,Dt=A?A.getContext(D.value.outlet):null;if(Ne&&ae.routeConfig===Ne.routeConfig){const fn=function es(D,M,A){if("function"==typeof A)return A(D,M);switch(A){case"pathParamsChange":return!Dr(D.url,M.url);case"pathParamsOrQueryParamsChange":return!Dr(D.url,M.url)||!ii(D.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!R(D,M)||!ii(D.queryParams,M.queryParams);default:return!R(D,M)}}(Ne,ae,ae.routeConfig.runGuardsAndResolvers);fn?G.canActivateChecks.push(new P(O)):(ae.data=Ne.data,ae._resolvedData=Ne._resolvedData),di(D,M,ae.component?Dt?Dt.children:null:A,O,G),fn&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&G.canDeactivateChecks.push(new ie(Dt.outlet.component,Ne))}else Ne&&vo(M,Dt,G),G.canActivateChecks.push(new P(O)),di(D,null,ae.component?Dt?Dt.children:null:A,O,G)})(Ne,ae[Ne.value.outlet],A,O.concat([Ne.value]),G),delete ae[Ne.value.outlet]}),Object.entries(ae).forEach(([Ne,Dt])=>vo(Dt,A.getContext(Ne),G)),G}function vo(D,M,A){const O=rr(D),G=D.value;Object.entries(O).forEach(([ae,Ne])=>{vo(Ne,G.component?M?M.children.getContext(ae):null:M,A)}),A.canDeactivateChecks.push(new ie(G.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,G))}function ds(D){return"function"==typeof D}function ea(D){return D instanceof Me.G||"EmptyError"===D?.name}const ka=Symbol("INITIAL_VALUE");function Vs(){return(0,ct.n)(D=>(0,Pe.z)(D.map(M=>M.pipe((0,Oe.s)(1),(0,ln.Z)(ka)))).pipe((0,_t.T)(M=>{for(const A of M)if(!0!==A){if(A===ka)return ka;if(!1===A||Id(A))return A}return!0}),(0,ut.p)(M=>M!==ka),(0,Oe.s)(1)))}function Id(D){return oo(D)||D instanceof sr}function bs(D){return(0,it.F)((0,ht.M)(M=>{if("boolean"!=typeof M)throw ei(0,M)}),(0,_t.T)(M=>!0===M))}class Ws{segmentGroup;constructor(M){this.segmentGroup=M||null}}class il extends Error{urlTree;constructor(M){super(),this.urlTree=M}}function Us(D){return et(new Ws(D))}function ma(D){return et(new h.buA(4e3,!1))}class _a{urlSerializer;urlTree;constructor(M,A){this.urlSerializer=M,this.urlTree=A}lineralizeSegments(M,A){let O=[],G=A.root;for(;;){if(O=O.concat(G.segments),0===G.numberOfChildren)return(0,le.of)(O);if(G.numberOfChildren>1||!G.children[Fn])return ma();G=G.children[Fn]}}applyRedirectCommands(M,A,O,G,ae){return function Hl(D,M,A){if("string"==typeof D)return(0,le.of)(D);const O=D,{queryParams:G,fragment:ae,routeConfig:Ne,url:Dt,outlet:fn,params:Qn,data:ci,title:Ui}=M;return Be((0,h.N4e)(A,()=>O({params:Qn,data:ci,queryParams:G,fragment:ae,routeConfig:Ne,url:Dt,outlet:fn,title:Ui})))}(A,G,ae).pipe((0,_t.T)(Ne=>{if(Ne instanceof Pr)throw new il(Ne);const Dt=this.applyRedirectCreateUrlTree(Ne,this.urlSerializer.parse(Ne),M,O);if("/"===Ne[0])throw new il(Dt);return Dt}))}applyRedirectCreateUrlTree(M,A,O,G){const ae=this.createSegmentGroup(M,A.root,O,G);return new Pr(ae,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(M,A){const O={};return Object.entries(M).forEach(([G,ae])=>{if("string"==typeof ae&&":"===ae[0]){const Dt=ae.substring(1);O[G]=A[Dt]}else O[G]=ae}),O}createSegmentGroup(M,A,O,G){const ae=this.createSegments(M,A.segments,O,G);let Ne={};return Object.entries(A.children).forEach(([Dt,fn])=>{Ne[Dt]=this.createSegmentGroup(M,fn,O,G)}),new Hn(ae,Ne)}createSegments(M,A,O,G){return A.map(ae=>":"===ae.path[0]?this.findPosParam(M,ae,G):this.findOrReturn(ae,O))}findPosParam(M,A,O){const G=O[A.path.substring(1)];if(!G)throw new h.buA(4001,!1);return G}findOrReturn(M,A){let O=0;for(const G of A){if(G.path===M.path)return A.splice(O),G;O++}return M}}const as={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ts(D,M,A,O,G){const ae=be(D,M,A);return ae.matched?(O=function Es(D,M){return D.providers&&!D._injector&&(D._injector=(0,k.Ol2)(D.providers,M,`Route: ${D.path}`)),D._injector??M}(M,O),function Kl(D,M,A,O){const G=M.canMatch;if(!G||0===G.length)return(0,le.of)(!0);const ae=G.map(Ne=>{const Dt=qn(Ne,D);return Be(function $l(D){return D&&ds(D.canMatch)}(Dt)?Dt.canMatch(M,A):(0,h.N4e)(D,()=>Dt(M,A)))});return(0,le.of)(ae).pipe(Vs(),bs())}(O,M,A).pipe((0,_t.T)(Ne=>!0===Ne?ae:{...as}))):(0,le.of)(ae)}function be(D,M,A){if("**"===M.path)return function vc(D){return{matched:!0,parameters:D.length>0?Wr(D).parameters:{},consumedSegments:D,remainingSegments:[],positionalParamSegments:{}}}(A);if(""===M.path)return"full"===M.pathMatch&&(D.hasChildren()||A.length>0)?{...as}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const G=(M.matcher||Pi)(A,D,M);if(!G)return{...as};const ae={};Object.entries(G.posParams??{}).forEach(([Dt,fn])=>{ae[Dt]=fn.path});const Ne=G.consumed.length>0?{...ae,...G.consumed[G.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:G.consumed,remainingSegments:A.slice(G.consumed.length),parameters:Ne,positionalParamSegments:G.posParams??{}}}function ol(D,M,A,O){return A.length>0&&function sl(D,M,A){return A.some(O=>ya(D,M,O)&&ee(O)!==Fn)}(D,A,O)?{segmentGroup:new Hn(M,Ua(O,new Hn(A,D.children))),slicedSegments:[]}:0===A.length&&function Mo(D,M,A){return A.some(O=>ya(D,M,O))}(D,A,O)?{segmentGroup:new Hn(D.segments,Ks(D,A,O,D.children)),slicedSegments:A}:{segmentGroup:new Hn(D.segments,D.children),slicedSegments:A}}function Ks(D,M,A,O){const G={};for(const ae of A)if(ya(D,M,ae)&&!O[ee(ae)]){const Ne=new Hn([],{});G[ee(ae)]=Ne}return{...O,...G}}function Ua(D,M){const A={};A[Fn]=M;for(const O of D)if(""===O.path&&ee(O)!==Fn){const G=new Hn([],{});A[ee(O)]=G}return A}function ya(D,M,A){return(!(D.hasChildren()||M.length>0)||"full"!==A.pathMatch)&&""===A.path}class ta{}class uu{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(M,A,O,G,ae,Ne,Dt){this.injector=M,this.configLoader=A,this.rootComponentType=O,this.config=G,this.urlTree=ae,this.paramsInheritanceStrategy=Ne,this.urlSerializer=Dt,this.applyRedirects=new _a(this.urlSerializer,this.urlTree)}noMatchError(M){return new h.buA(4002,`'${M.segmentGroup}'`)}recognize(){const M=ol(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe((0,_t.T)(({children:A,rootSnapshot:O})=>{const G=new Tr(O,A),ae=new Yi("",G),Ne=function bo(D,M,A=null,O=null){return Li(Oi(D),M,A,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Ne.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Ne),{state:ae,tree:Ne}}))}match(M){const A=new Ho([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Fn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,M,Fn,A).pipe((0,_t.T)(O=>({children:O,rootSnapshot:A})),(0,jt.W)(O=>{if(O instanceof il)return this.urlTree=O.urlTree,this.match(O.urlTree.root);throw O instanceof Ws?this.noMatchError(O):O}))}processSegmentGroup(M,A,O,G,ae){return 0===O.segments.length&&O.hasChildren()?this.processChildren(M,A,O,ae):this.processSegment(M,A,O,O.segments,G,!0,ae).pipe((0,_t.T)(Ne=>Ne instanceof Tr?[Ne]:[]))}processChildren(M,A,O,G){const ae=[];for(const Ne of Object.keys(O.children))"primary"===Ne?ae.unshift(Ne):ae.push(Ne);return(0,Se.H)(ae).pipe((0,kt.H)(Ne=>{const Dt=O.children[Ne],fn=function Re(D,M){const A=D.filter(O=>ee(O)===M);return A.push(...D.filter(O=>ee(O)!==M)),A}(A,Ne);return this.processSegmentGroup(M,fn,Dt,Ne,G)}),(0,tn.S)((Ne,Dt)=>(Ne.push(...Dt),Ne)),(0,dn.U)(null),function we(D,M){const A=arguments.length>=2;return O=>O.pipe(D?(0,ut.p)((G,ae)=>D(G,ae,O)):Ue.D,re(1),A?(0,dn.U)(M):(0,_e.v)(()=>new Me.G))}(),(0,Mn.Z)(Ne=>{if(null===Ne)return Us(O);const Dt=cl(Ne);return function ll(D){D.sort((M,A)=>M.value.outlet===Fn?-1:A.value.outlet===Fn?1:M.value.outlet.localeCompare(A.value.outlet))}(Dt),(0,le.of)(Dt)}))}processSegment(M,A,O,G,ae,Ne,Dt){return(0,Se.H)(A).pipe((0,kt.H)(fn=>this.processSegmentAgainstRoute(fn._injector??M,A,fn,O,G,ae,Ne,Dt).pipe((0,jt.W)(Qn=>{if(Qn instanceof Ws)return(0,le.of)(null);throw Qn}))),(0,zt.$)(fn=>!!fn),(0,jt.W)(fn=>{if(ea(fn))return function Or(D,M,A){return 0===M.length&&!D.children[A]}(O,G,ae)?(0,le.of)(new ta):Us(O);throw fn}))}processSegmentAgainstRoute(M,A,O,G,ae,Ne,Dt,fn){return ee(O)===Ne||Ne!==Fn&&ya(G,ae,O)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(M,G,O,ae,Ne,fn):this.allowRedirects&&Dt?this.expandSegmentAgainstRouteUsingRedirect(M,G,A,O,ae,Ne,fn):Us(G):Us(G)}expandSegmentAgainstRouteUsingRedirect(M,A,O,G,ae,Ne,Dt){const{matched:fn,parameters:Qn,consumedSegments:ci,positionalParamSegments:Ui,remainingSegments:Yo}=be(A,G,ae);if(!fn)return Us(A);"string"==typeof G.redirectTo&&"/"===G.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Xo=new Ho(ae,Qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Eo(G),ee(G),G.component??G._loadedComponent??null,G,Hs(G)),Jo=Vi(Xo,Dt,this.paramsInheritanceStrategy);return Xo.params=Object.freeze(Jo.params),Xo.data=Object.freeze(Jo.data),this.applyRedirects.applyRedirectCommands(ci,G.redirectTo,Ui,Xo,M).pipe((0,ct.n)(Gs=>this.applyRedirects.lineralizeSegments(G,Gs)),(0,Mn.Z)(Gs=>this.processSegment(M,O,A,Gs.concat(Yo),Ne,!1,Dt)))}matchSegmentAgainstRoute(M,A,O,G,ae,Ne){const Dt=ts(A,O,G,M);return"**"===O.path&&(A.children={}),Dt.pipe((0,ct.n)(fn=>fn.matched?this.getChildConfig(M=O._injector??M,O,G).pipe((0,ct.n)(({routes:Qn})=>{const ci=O._loadedInjector??M,{parameters:Ui,consumedSegments:Yo,remainingSegments:Xo}=fn,Jo=new Ho(Yo,Ui,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Eo(O),ee(O),O.component??O._loadedComponent??null,O,Hs(O)),Nt=Vi(Jo,Ne,this.paramsInheritanceStrategy);Jo.params=Object.freeze(Nt.params),Jo.data=Object.freeze(Nt.data);const{segmentGroup:Gs,slicedSegments:ws}=ol(A,Yo,Xo,Qn);if(0===ws.length&&Gs.hasChildren())return this.processChildren(ci,Qn,Gs,Jo).pipe((0,_t.T)(Ia=>new Tr(Jo,Ia)));if(0===Qn.length&&0===ws.length)return(0,le.of)(new Tr(Jo,[]));const Ea=ee(O)===ae;return this.processSegment(ci,Qn,Gs,ws,Ea?Fn:ae,!0,Jo).pipe((0,_t.T)(Ia=>new Tr(Jo,Ia instanceof Tr?[Ia]:[])))})):Us(A)))}getChildConfig(M,A,O){return A.children?(0,le.of)({routes:A.children,injector:M}):A.loadChildren?void 0!==A._loadedRoutes?(0,le.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function rl(D,M,A,O){const G=M.canLoad;if(void 0===G||0===G.length)return(0,le.of)(!0);const ae=G.map(Ne=>{const Dt=qn(Ne,D);return Be(function lu(D){return D&&ds(D.canLoad)}(Dt)?Dt.canLoad(M,A):(0,h.N4e)(D,()=>Dt(M,A)))});return(0,le.of)(ae).pipe(Vs(),bs())}(M,A,O).pipe((0,Mn.Z)(G=>G?this.configLoader.loadChildren(M,A).pipe((0,ht.M)(ae=>{A._loadedRoutes=ae.routes,A._loadedInjector=ae.injector})):function Va(){return et($r(!1,nr.GuardRejected))}())):(0,le.of)({routes:[],injector:M})}}function Dd(D){const M=D.value.routeConfig;return M&&""===M.path}function cl(D){const M=[],A=new Set;for(const O of D){if(!Dd(O)){M.push(O);continue}const G=M.find(ae=>O.value.routeConfig===ae.value.routeConfig);void 0!==G?(G.children.push(...O.children),A.add(G)):M.push(O)}for(const O of A){const G=cl(O.children);M.push(new Tr(O.value,G))}return M.filter(O=>!A.has(O))}function Eo(D){return D.data||{}}function Hs(D){return D.resolve||{}}function Lh(D){const M=D.children.map(A=>Lh(A)).flat();return[D,...M]}function zs(D){return(0,ct.n)(M=>{const A=D(M);return A?(0,Se.H)(A).pipe((0,_t.T)(()=>M)):(0,le.of)(M)})}let zn=(()=>{class D{buildTitle(A){let O,G=A.root;for(;void 0!==G;)O=this.getResolvedTitleForRoute(G)??O,G=G.children.find(ae=>ae.outlet===Fn);return O}getResolvedTitleForRoute(A){return A.data[ni]}static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:()=>(0,h.WQX)(ir),providedIn:"root"})}return D})(),ir=(()=>{class D extends zn{title;constructor(A){super(),this.title=A}updateTitle(A){const O=this.buildTitle(A);void 0!==O&&this.title.setTitle(O)}static \u0275fac=function(O){return new(O||D)(h.KVO(lt))};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const va=new h.nKC("",{providedIn:"root",factory:()=>({})}),$n=new h.nKC("");let Yt=(()=>{class D{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,h.WQX)(k.Ql9);loadComponent(A,O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,le.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const G=Be((0,h.N4e)(A,()=>O.loadComponent())).pipe((0,_t.T)(du),(0,ct.n)(hl),(0,ht.M)(Ne=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=Ne}),(0,tt.j)(()=>{this.componentLoaders.delete(O)})),ae=new Ve(G,()=>new Ze.B).pipe(ke());return this.componentLoaders.set(O,ae),ae}loadChildren(A,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,le.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ae=function Cn(D,M,A,O){return Be((0,h.N4e)(A,()=>D.loadChildren())).pipe((0,_t.T)(du),(0,ct.n)(hl),(0,Mn.Z)(G=>G instanceof k.PYt||Array.isArray(G)?(0,le.of)(G):(0,Se.H)(M.compileModuleAsync(G))),(0,_t.T)(G=>{O&&O(D);let ae,Ne,Dt=!1;return Array.isArray(G)?(Ne=G,!0):(ae=G.create(A).injector,Ne=ae.get($n,[],{optional:!0,self:!0}).flat()),{routes:Ne.map(rn),injector:ae}}))}(O,this.compiler,A,this.onLoadEndListener).pipe((0,tt.j)(()=>{this.childrenLoaders.delete(O)})),Ne=new Ve(ae,()=>new Ze.B).pipe(ke());return this.childrenLoaders.set(O,Ne),Ne}static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function du(D){return function Vo(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}function hl(D){return(0,le.of)(D)}let fl=(()=>{class D{static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:()=>(0,h.WQX)(Fh),providedIn:"root"})}return D})(),Fh=(()=>{class D{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,O){return A}static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const pl=new h.nKC(""),Ic=new h.nKC("");function hu(D,M,A){const O=D.get(Ic),G=D.get(h.qQL);if(!G.startViewTransition||O.skipNextTransition)return O.skipNextTransition=!1,new Promise(Qn=>setTimeout(Qn));let ae;const Ne=new Promise(Qn=>{ae=Qn}),Dt=G.startViewTransition(()=>(ae(),function Tc(D){return new Promise(M=>{(0,k.mal)({read:()=>setTimeout(M)},{injector:D})})}(D)));Dt.ready.catch(Qn=>{});const{onViewTransitionCreated:fn}=O;return fn&&(0,h.N4e)(D,()=>fn({transition:Dt,from:M,to:A})),Ne}const Vh=new h.nKC("");let Gl=(()=>{class D{currentNavigation=(0,h.vPA)(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ze.B;transitionAbortWithErrorSubject=new Ze.B;configLoader=(0,h.WQX)(Yt);environmentInjector=(0,h.WQX)(h.uvJ);destroyRef=(0,h.WQX)(h.abz);urlSerializer=(0,h.WQX)(pi);rootContexts=(0,h.WQX)(_n);location=(0,h.WQX)(u.aZ);inputBindingEnabled=null!==(0,h.WQX)(Ge,{optional:!0});titleStrategy=(0,h.WQX)(zn);options=(0,h.WQX)(va,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,h.WQX)(fl);createViewTransition=(0,h.WQX)(pl,{optional:!0});navigationErrorHandler=(0,h.WQX)(Vh,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,le.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=G=>this.events.next(new he(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new N(G)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(A){const O=++this.navigationId;(0,Te.O8)(()=>{this.transitions?.next({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:O})})}setupNavigations(A){return this.transitions=new pe.t(null),this.transitions.pipe((0,ut.p)(O=>null!==O),(0,ct.n)(O=>{let G=!1;return(0,le.of)(O).pipe((0,ct.n)(ae=>{if(this.navigationId>O.id)return this.cancelNavigationTransition(O,"",nr.SupersededByNewNavigation),vt.w;this.currentTransition=O,this.currentNavigation.set({id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,targetBrowserUrl:"string"==typeof ae.extras.browserUrl?this.urlSerializer.parse(ae.extras.browserUrl):ae.extras.browserUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>ae.abortController.abort()});const Ne=!A.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ne&&"reload"!==(ae.extras.onSameUrlNavigation??A.onSameUrlNavigation))return this.events.next(new Xr(ae.id,this.urlSerializer.serialize(ae.rawUrl),"",Kr.IgnoredSameUrlNavigation)),ae.resolve(!1),vt.w;if(this.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return(0,le.of)(ae).pipe((0,ct.n)(fn=>(this.events.next(new wr(fn.id,this.urlSerializer.serialize(fn.extractedUrl),fn.source,fn.restoredState)),fn.id!==this.navigationId?vt.w:Promise.resolve(fn))),function dl(D,M,A,O,G,ae){return(0,Mn.Z)(Ne=>function Ec(D,M,A,O,G,ae,Ne="emptyOnly"){return new uu(D,M,A,O,G,Ne,ae).recognize()}(D,M,A,O,Ne.extractedUrl,G,ae).pipe((0,_t.T)(({state:Dt,tree:fn})=>({...Ne,targetSnapshot:Dt,urlAfterRedirects:fn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ht.M)(fn=>{O.targetSnapshot=fn.targetSnapshot,O.urlAfterRedirects=fn.urlAfterRedirects,this.currentNavigation.update(ci=>(ci.finalUrl=fn.urlAfterRedirects,ci));const Qn=new So(fn.id,this.urlSerializer.serialize(fn.extractedUrl),this.urlSerializer.serialize(fn.urlAfterRedirects),fn.targetSnapshot);this.events.next(Qn)}));if(Ne&&this.urlHandlingStrategy.shouldProcessUrl(ae.currentRawUrl)){const{id:fn,extractedUrl:Qn,source:ci,restoredState:Ui,extras:Yo}=ae,Xo=new wr(fn,this.urlSerializer.serialize(Qn),ci,Ui);this.events.next(Xo);const Jo=mi(this.rootComponentType).snapshot;return this.currentTransition=O={...ae,targetSnapshot:Jo,urlAfterRedirects:Qn,extras:{...Yo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(Nt=>(Nt.finalUrl=Qn,Nt)),(0,le.of)(O)}return this.events.next(new Xr(ae.id,this.urlSerializer.serialize(ae.extractedUrl),"",Kr.IgnoredByUrlHandlingStrategy)),ae.resolve(!1),vt.w}),(0,ht.M)(ae=>{const Ne=new Ro(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Ne)}),(0,_t.T)(ae=>(this.currentTransition=O={...ae,guards:je(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)},O)),function _c(D,M){return(0,Mn.Z)(A=>{const{targetSnapshot:O,currentSnapshot:G,guards:{canActivateChecks:ae,canDeactivateChecks:Ne}}=A;return 0===Ne.length&&0===ae.length?(0,le.of)({...A,guardsResult:!0}):function Td(D,M,A,O){return(0,Se.H)(D).pipe((0,Mn.Z)(G=>function yc(D,M,A,O,G){const ae=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,le.of)(!0);const Ne=ae.map(Dt=>{const fn=Et(M)??G,Qn=qn(Dt,fn);return Be(function mc(D){return D&&ds(D.canDeactivate)}(Qn)?Qn.canDeactivate(D,M,A,O):(0,h.N4e)(fn,()=>Qn(D,M,A,O))).pipe((0,zt.$)())});return(0,le.of)(Ne).pipe(Vs())}(G.component,G.route,A,M,O)),(0,zt.$)(G=>!0!==G,!0))}(Ne,O,G,D).pipe((0,Mn.Z)(Dt=>Dt&&function js(D){return"boolean"==typeof D}(Dt)?function jl(D,M,A,O){return(0,Se.H)(M).pipe((0,kt.H)(G=>(0,Le.x)(function cu(D,M){return null!==D&&M&&M(new vr(D)),(0,le.of)(!0)}(G.route.parent,O),function La(D,M){return null!==D&&M&&M(new bi(D)),(0,le.of)(!0)}(G.route,O),function Wl(D,M,A){const O=M[M.length-1],ae=M.slice(0,M.length-1).reverse().map(Ne=>function jn(D){const M=D.routeConfig?D.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:D,guards:M}:null}(Ne)).filter(Ne=>null!==Ne).map(Ne=>st(()=>{const Dt=Ne.guards.map(fn=>{const Qn=Et(Ne.node)??A,ci=qn(fn,Qn);return Be(function gc(D){return D&&ds(D.canActivateChild)}(ci)?ci.canActivateChild(O,D):(0,h.N4e)(Qn,()=>ci(O,D))).pipe((0,zt.$)())});return(0,le.of)(Dt).pipe(Vs())}));return(0,le.of)(ae).pipe(Vs())}(D,G.path,A),function Fa(D,M,A){const O=M.routeConfig?M.routeConfig.canActivate:null;if(!O||0===O.length)return(0,le.of)(!0);const G=O.map(ae=>st(()=>{const Ne=Et(M)??A,Dt=qn(ae,Ne);return Be(function xa(D){return D&&ds(D.canActivate)}(Dt)?Dt.canActivate(M,D):(0,h.N4e)(Ne,()=>Dt(M,D))).pipe((0,zt.$)())}));return(0,le.of)(G).pipe(Vs())}(D,G.route,A))),(0,zt.$)(G=>!0!==G,!0))}(O,ae,D,M):(0,le.of)(Dt)),(0,_t.T)(Dt=>({...A,guardsResult:Dt})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,ht.M)(ae=>{if(O.guardsResult=ae.guardsResult,ae.guardsResult&&"boolean"!=typeof ae.guardsResult)throw ei(0,ae.guardsResult);const Ne=new H(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(Ne)}),(0,ut.p)(ae=>!!ae.guardsResult||(this.cancelNavigationTransition(ae,"",nr.GuardRejected),!1)),zs(ae=>{if(0!==ae.guards.canActivateChecks.length)return(0,le.of)(ae).pipe((0,ht.M)(Ne=>{const Dt=new Br(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(Dt)}),(0,ct.n)(Ne=>{let Dt=!1;return(0,le.of)(Ne).pipe(function zl(D,M){return(0,Mn.Z)(A=>{const{targetSnapshot:O,guards:{canActivateChecks:G}}=A;if(!G.length)return(0,le.of)(A);const ae=new Set(G.map(fn=>fn.route)),Ne=new Set;for(const fn of ae)if(!Ne.has(fn))for(const Qn of Lh(fn))Ne.add(Qn);let Dt=0;return(0,Se.H)(Ne).pipe((0,kt.H)(fn=>ae.has(fn)?function bn(D,M,A,O){const G=D.routeConfig,ae=D._resolve;return void 0!==G?.title&&!U(G)&&(ae[ni]=G.title),st(()=>(D.data=Vi(D,D.parent,A).resolve,function Io(D,M,A,O){const G=$i(D);if(0===G.length)return(0,le.of)({});const ae={};return(0,Se.H)(G).pipe((0,Mn.Z)(Ne=>function hs(D,M,A,O){const G=Et(M)??O,ae=qn(D,G);return Be(ae.resolve?ae.resolve(M,A):(0,h.N4e)(G,()=>ae(M,A)))}(D[Ne],M,A,O).pipe((0,zt.$)(),(0,ht.M)(Dt=>{if(Dt instanceof sr)throw ei(new Gr,Dt);ae[Ne]=Dt}))),re(1),(0,_t.T)(()=>ae),(0,jt.W)(Ne=>ea(Ne)?vt.w:et(Ne)))}(ae,D,M,O).pipe((0,_t.T)(Ne=>(D._resolvedData=Ne,D.data={...D.data,...Ne},null)))))}(fn,O,D,M):(fn.data=Vi(fn,fn.parent,D).resolve,(0,le.of)(void 0))),(0,ht.M)(()=>Dt++),re(1),(0,Mn.Z)(fn=>Dt===Ne.size?(0,le.of)(A):vt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ht.M)({next:()=>Dt=!0,complete:()=>{Dt||this.cancelNavigationTransition(Ne,"",nr.NoDataFromResolver)}}))}),(0,ht.M)(Ne=>{const Dt=new X(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(Dt)}))}),zs(ae=>{const Ne=Dt=>{const fn=[];if(Dt.routeConfig?.loadComponent){const Qn=Et(Dt)??this.environmentInjector;fn.push(this.configLoader.loadComponent(Qn,Dt.routeConfig).pipe((0,ht.M)(ci=>{Dt.component=ci}),(0,_t.T)(()=>{})))}for(const Qn of Dt.children)fn.push(...Ne(Qn));return fn};return(0,Pe.z)(Ne(ae.targetSnapshot.root)).pipe((0,dn.U)(null),(0,Oe.s)(1))}),zs(()=>this.afterPreactivation()),(0,ct.n)(()=>{const{currentSnapshot:ae,targetSnapshot:Ne}=O,Dt=this.createViewTransition?.(this.environmentInjector,ae.root,Ne.root);return Dt?(0,Se.H)(Dt).pipe((0,_t.T)(()=>O)):(0,le.of)(O)}),(0,_t.T)(ae=>{const Ne=function Lt(D,M,A){const O=en(D,M._root,A?A._root:void 0);return new Fi(O,M)}(A.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return this.currentTransition=O={...ae,targetRouterState:Ne},this.currentNavigation.update(Dt=>(Dt.targetRouterState=Ne,Dt)),O}),(0,ht.M)(()=>{this.events.next(new no)}),((D,M,A,O)=>(0,_t.T)(G=>(new j(M,G.targetRouterState,G.currentRouterState,A,O).activate(D),G)))(this.rootContexts,A.routeReuseStrategy,ae=>this.events.next(ae),this.inputBindingEnabled),(0,Oe.s)(1),Gt(new fe.c(ae=>{const Ne=O.abortController.signal,Dt=()=>ae.next();return Ne.addEventListener("abort",Dt),()=>Ne.removeEventListener("abort",Dt)}).pipe((0,ut.p)(()=>!G&&!O.targetRouterState),(0,ht.M)(()=>{this.cancelNavigationTransition(O,O.abortController.signal.reason+"",nr.Aborted)}))),(0,ht.M)({next:ae=>{G=!0,this.lastSuccessfulNavigation=(0,Te.O8)(this.currentNavigation),this.events.next(new kr(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects))),this.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{G=!0}}),Gt(this.transitionAbortWithErrorSubject.pipe((0,ht.M)(ae=>{throw ae}))),(0,tt.j)(()=>{G||this.cancelNavigationTransition(O,"",nr.SupersededByNewNavigation),this.currentTransition?.id===O.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),(0,jt.W)(ae=>{if(this.destroyed)return O.resolve(!1),vt.w;if(G=!0,zo(ae))this.events.next(new Ir(O.id,this.urlSerializer.serialize(O.extractedUrl),ae.message,ae.cancellationCode)),function Ji(D){return zo(D)&&oo(D.url)}(ae)?this.events.next(new ss(ae.url,ae.navigationBehaviorOptions)):O.resolve(!1);else{const Ne=new wo(O.id,this.urlSerializer.serialize(O.extractedUrl),ae,O.targetSnapshot??void 0);try{const Dt=(0,h.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Ne));if(!(Dt instanceof sr))throw this.events.next(Ne),ae;{const{message:fn,cancellationCode:Qn}=ei(0,Dt);this.events.next(new Ir(O.id,this.urlSerializer.serialize(O.extractedUrl),fn,Qn)),this.events.next(new ss(Dt.redirectTo,Dt.navigationBehaviorOptions))}}catch(Dt){this.options.resolveNavigationPromiseOnError?O.resolve(!1):O.reject(Dt)}}return vt.w}))}))}cancelNavigationTransition(A,O,G){const ae=new Ir(A.id,this.urlSerializer.serialize(A.extractedUrl),O,G);this.events.next(ae),A.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const A=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),O=(0,Te.O8)(this.currentNavigation),G=O?.targetBrowserUrl??O?.extractedUrl;return A.toString()!==G?.toString()&&!O?.extras.skipLocationChange}static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function Dc(D){return D!==Dn}let Cr=(()=>{class D{static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:()=>(0,h.WQX)(Cc),providedIn:"root"})}return D})();class gl{shouldDetach(M){return!1}store(M,A){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,A){return M.routeConfig===A.routeConfig}}let Cc=(()=>{class D extends gl{static \u0275fac=(()=>{let A;return function(G){return(A||(A=k.xGo(D)))(G||D)}})();static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),_i=(()=>{class D{urlSerializer=(0,h.WQX)(pi);options=(0,h.WQX)(va,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,h.WQX)(u.aZ);urlHandlingStrategy=(0,h.WQX)(fl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:A,initialUrl:O,targetBrowserUrl:G}){const ae=void 0!==A?this.urlHandlingStrategy.merge(A,O):O,Ne=G??ae;return Ne instanceof Pr?this.urlSerializer.serialize(Ne):Ne}commitTransition({targetRouterState:A,finalUrl:O,initialUrl:G}){O&&A?(this.currentUrlTree=O,this.rawUrlTree=this.urlHandlingStrategy.merge(O,G),this.routerState=A):this.rawUrlTree=G}routerState=mi(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:A}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A??this.rawUrlTree)}static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:()=>(0,h.WQX)(mr),providedIn:"root"})}return D})(),mr=(()=>{class D extends _i{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(A){return this.location.subscribe(O=>{"popstate"===O.type&&setTimeout(()=>{A(O.url,O.state,"popstate")})})}handleRouterEvent(A,O){A instanceof wr?this.updateStateMemento():A instanceof Xr?this.commitTransition(O):A instanceof So?"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(O),O)):A instanceof no?(this.commitTransition(O),"deferred"===this.urlUpdateStrategy&&!O.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(O),O)):A instanceof Ir&&A.code!==nr.SupersededByNewNavigation&&A.code!==nr.Redirect?this.restoreHistory(O):A instanceof wo?this.restoreHistory(O,!0):A instanceof kr&&(this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId)}setBrowserUrl(A,{extras:O,id:G}){const{replaceUrl:ae,state:Ne}=O;if(this.location.isCurrentPathEqualTo(A)||ae){const Dt=this.browserPageId,fn={...Ne,...this.generateNgRouterState(G,Dt)};this.location.replaceState(A,"",fn)}else{const Dt={...Ne,...this.generateNgRouterState(G,this.browserPageId+1)};this.location.go(A,"",Dt)}}restoreHistory(A,O=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.getCurrentUrlTree()===A.finalUrl&&0===ae&&(this.resetInternalState(A),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetInternalState(A),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,O){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:O}:{navigationId:A}}static \u0275fac=(()=>{let A;return function(G){return(A||(A=k.xGo(D)))(G||D)}})();static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function yi(D,M){D.events.pipe((0,ut.p)(A=>A instanceof kr||A instanceof Ir||A instanceof wo||A instanceof Xr),(0,_t.T)(A=>A instanceof kr||A instanceof Xr?0:A instanceof Ir&&(A.code===nr.Redirect||A.code===nr.SupersededByNewNavigation)?2:1),(0,ut.p)(A=>2!==A),(0,Oe.s)(1)).subscribe(()=>{M()})}const Qr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class D{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,h.WQX)(k.C7A);stateManager=(0,h.WQX)(_i);options=(0,h.WQX)(va,{optional:!0})||{};pendingTasks=(0,h.WQX)(h.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,h.WQX)(Gl);urlSerializer=(0,h.WQX)(pi);location=(0,h.WQX)(u.aZ);urlHandlingStrategy=(0,h.WQX)(fl);injector=(0,h.WQX)(h.uvJ);_events=new Ze.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,h.WQX)(Cr);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,h.WQX)($n,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,h.WQX)(Ge,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:A=>{this.console.warn(A)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Rt.yU;subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(O=>{try{const G=this.navigationTransitions.currentTransition,ae=(0,Te.O8)(this.navigationTransitions.currentNavigation);if(null!==G&&null!==ae)if(this.stateManager.handleRouterEvent(O,ae),O instanceof Ir&&O.code!==nr.Redirect&&O.code!==nr.SupersededByNewNavigation)this.navigated=!0;else if(O instanceof kr)this.navigated=!0;else if(O instanceof ss){const Ne=O.navigationBehaviorOptions,Dt=this.urlHandlingStrategy.merge(O.url,G.currentRawUrl),fn={browserUrl:G.extras.browserUrl,info:G.extras.info,skipLocationChange:G.extras.skipLocationChange,replaceUrl:G.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Dc(G.source),...Ne};this.scheduleNavigation(Dt,Dn,null,fn,{resolve:G.resolve,reject:G.reject,promise:G.promise})}(function ao(D){return!(D instanceof no||D instanceof ss)})(O)&&this._events.next(O)}catch(G){this.navigationTransitions.transitionAbortWithErrorSubject.next(G)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((A,O,G)=>{this.navigateToSyncWithBrowser(A,G,O)})}navigateToSyncWithBrowser(A,O,G){const ae={replaceUrl:!0},Ne=G?.navigationId?G:null;if(G){const fn={...G};delete fn.navigationId,delete fn.\u0275routerPageId,0!==Object.keys(fn).length&&(ae.state=fn)}const Dt=this.parseUrl(A);this.scheduleNavigation(Dt,O,Ne,ae).catch(fn=>{this.disposed||this.injector.get(h.ZTf)(fn)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return(0,Te.O8)(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(rn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,O={}){const{relativeTo:G,queryParams:ae,fragment:Ne,queryParamsHandling:Dt,preserveFragment:fn}=O,Qn=fn?this.currentUrlTree.fragment:Ne;let Ui,ci=null;switch(Dt??this.options.defaultQueryParamsHandling){case"merge":ci={...this.currentUrlTree.queryParams,...ae};break;case"preserve":ci=this.currentUrlTree.queryParams;break;default:ci=ae||null}null!==ci&&(ci=this.removeEmptyProps(ci));try{Ui=Oi(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||"/"!==A[0][0])&&(A=[]),Ui=this.currentUrlTree.root}return Li(Ui,A,ci,Qn??null)}navigateByUrl(A,O={skipLocationChange:!1}){const G=oo(A)?A:this.parseUrl(A),ae=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ae,Dn,null,O)}navigate(A,O={skipLocationChange:!1}){return function Wn(D){for(let M=0;M<D.length;M++)if(null==D[M])throw new h.buA(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,O),O)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){try{return this.urlSerializer.parse(A)}catch{return this.console.warn((0,h.OsK)(4018,!1)),this.urlSerializer.parse("/")}}isActive(A,O){let G;if(G=!0===O?{...Qr}:!1===O?{...Xl}:O,oo(A))return Kt(this.currentUrlTree,A,G);const ae=this.parseUrl(A);return Kt(this.currentUrlTree,ae,G)}removeEmptyProps(A){return Object.entries(A).reduce((O,[G,ae])=>(null!=ae&&(O[G]=ae),O),{})}scheduleNavigation(A,O,G,ae,Ne){if(this.disposed)return Promise.resolve(!1);let Dt,fn,Qn;Ne?(Dt=Ne.resolve,fn=Ne.reject,Qn=Ne.promise):Qn=new Promise((Ui,Yo)=>{Dt=Ui,fn=Yo});const ci=this.pendingTasks.add();return yi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ci))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:A,extras:ae,resolve:Dt,reject:fn,promise:Qn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qn.catch(Ui=>Promise.reject(Ui))}static \u0275fac=function(O){return new(O||D)};static \u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},4341:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Dg:()=>lo,YN:()=>zo,zX:()=>mi,VZ:()=>Ni,cz:()=>Oe,kq:()=>vt,vO:()=>Gn,BC:()=>on,cb:()=>On,cV:()=>ne,vS:()=>kr,YS:()=>Yi,qT:()=>Kr});var h=L(3664),u=L(2615),k=L(9295),$=L(7705),Te=L(7303),fe=L(8455),Ce=L(1985),He=L(3073),Se=L(8750),le=L(3794),pe=L(4360),Pe=L(6450),Me=L(8496),We=L(1413),st=L(6354);let it=(()=>{class K{_renderer;_elementRef;onChange=P=>{};onTouched=()=>{};constructor(P,ie){this._renderer=P,this._elementRef=ie}setProperty(P,ie){this._renderer.setProperty(this._elementRef.nativeElement,P,ie)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static \u0275fac=function(ie){return new(ie||K)(h.rXU(h.sFG),h.rXU(h.aKT))};static \u0275dir=h.FsC({type:K})}return K})(),et=(()=>{class K extends it{static \u0275fac=(()=>{let P;return function(je){return(P||(P=h.xGo(K)))(je||K)}})();static \u0275dir=h.FsC({type:K,features:[h.Vt3]})}return K})();const vt=new u.nKC(""),dt={provide:vt,useExisting:(0,u.Rfq)(()=>Ze),multi:!0},Ve=new u.nKC("");let Ze=(()=>{class K extends it{_compositionMode;_composing=!1;constructor(P,ie,je){super(P,ie),this._compositionMode=je,null==this._compositionMode&&(this._compositionMode=!function ke(){const K=(0,Te.rb)()?(0,Te.rb)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static \u0275fac=function(ie){return new(ie||K)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(Ve,8))};static \u0275dir=h.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,je){1&ie&&h.bIt("input",function(qn){return je._handleInput(qn.target.value)})("blur",function(){return je.onTouched()})("compositionstart",function(){return je._compositionStart()})("compositionend",function(qn){return je._compositionEnd(qn.target.value)})},standalone:!1,features:[h.Jv_([dt]),h.Vt3]})}return K})();function _t(K){return null==K||0===function ct(K){return null==K?null:Array.isArray(K)||"string"==typeof K?K.length:K instanceof Set?K.size:null}(K)}const Oe=new u.nKC(""),ln=new u.nKC(""),ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function ht(K){return _t(K.value)?{required:!0}:null}function tn(K){return _t(K.value)||ut.test(K.value)?null:{email:!0}}function Ue(K){return null}function we(K){return null!=K}function tt(K){return(0,h.yLl)(K)?(0,fe.H)(K):K}function wt(K){let j={};return K.forEach(P=>{j=null!=P?{...j,...P}:j}),0===Object.keys(j).length?null:j}function Gt(K,j){return j.map(P=>P(K))}function yn(K){return K.map(j=>function Ht(K){return!K.validate}(j)?j:P=>j.validate(P))}function In(K){return null!=K?function lt(K){if(!K)return null;const j=K.filter(we);return 0==j.length?null:function(P){return wt(Gt(P,j))}}(yn(K)):null}function Tn(K){return null!=K?function yt(K){if(!K)return null;const j=K.filter(we);return 0==j.length?null:function(P){return function Le(...K){const j=(0,le.ms)(K),{args:P,keys:ie}=(0,He.D)(K),je=new Ce.c(jn=>{const{length:qn}=P;if(!qn)return void jn.complete();const di=new Array(qn);let Go=qn,es=qn;for(let vo=0;vo<qn;vo++){let ds=!1;(0,Se.Tg)(P[vo]).subscribe((0,pe._)(jn,js=>{ds||(ds=!0,es--),di[vo]=js},()=>Go--,void 0,()=>{(!Go||!ds)&&(es||jn.next(ie?(0,Me.e)(ie,di):di),jn.complete())}))}});return j?je.pipe((0,Pe.I)(j)):je}(Gt(P,j).map(tt)).pipe((0,st.T)(wt))}}(yn(K)):null}function an(K,j){return null===K?[j]:Array.isArray(K)?[...K,j]:[K,j]}function Bt(K){return K?Array.isArray(K)?K:[K]:[]}function vn(K,j){return Array.isArray(K)?K.includes(j):K===j}function ar(K,j){const P=Bt(j);return Bt(K).forEach(je=>{vn(P,je)||P.push(je)}),P}function br(K,j){return Bt(j).filter(P=>!vn(K,P))}class Sr{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=In(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,P){return!!this.control&&this.control.hasError(j,P)}getError(j,P){return this.control?this.control.getError(j,P):null}}class fr extends Sr{name;get formDirective(){return null}get path(){return null}}class Gn extends Sr{_parent=null;name=null;valueAccessor=null}class cn{_cd;constructor(j){this._cd=j}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let on=(()=>{class K extends cn{constructor(P){super(P)}static \u0275fac=function(ie){return new(ie||K)(h.rXU(Gn,2))};static \u0275dir=h.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,je){2&ie&&h.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)},standalone:!1,features:[h.Vt3]})}return K})(),On=(()=>{class K extends cn{constructor(P){super(P)}static \u0275fac=function(ie){return new(ie||K)(h.rXU(fr,10))};static \u0275dir=h.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,je){2&ie&&h.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)("ng-submitted",je.isSubmitted)},standalone:!1,features:[h.Vt3]})}return K})();const Wr="VALID",Be="INVALID",$e="PENDING",nt="DISABLED";class Kt{}class bt extends Kt{value;source;constructor(j,P){super(),this.value=j,this.source=P}}class Vn extends Kt{pristine;source;constructor(j,P){super(),this.pristine=j,this.source=P}}class Kn extends Kt{touched;source;constructor(j,P){super(),this.touched=j,this.source=P}}class Fr extends Kt{status;source;constructor(j,P){super(),this.status=j,this.source=P}}class Lr extends Kt{source;constructor(j){super(),this.source=j}}class Rr extends Kt{source;constructor(j){super(),this.source=j}}function Pr(K){return(Dr(K)?K.validators:K)||null}function yr(K,j){return(Dr(j)?j.asyncValidators:K)||null}function Dr(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}class Gr{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(j,P){this._assignValidators(j),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get status(){return(0,k.O8)(this.statusReactive)}set status(j){(0,k.O8)(()=>this.statusReactive.set(j))}_status=(0,k.EW)(()=>this.statusReactive());statusReactive=(0,u.vPA)(void 0);get valid(){return this.status===Wr}get invalid(){return this.status===Be}get pending(){return this.status==$e}get disabled(){return this.status===nt}get enabled(){return this.status!==nt}errors;get pristine(){return(0,k.O8)(this.pristineReactive)}set pristine(j){(0,k.O8)(()=>this.pristineReactive.set(j))}_pristine=(0,k.EW)(()=>this.pristineReactive());pristineReactive=(0,u.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,k.O8)(this.touchedReactive)}set touched(j){(0,k.O8)(()=>this.touchedReactive.set(j))}_touched=(0,k.EW)(()=>this.touchedReactive());touchedReactive=(0,u.vPA)(!1);get untouched(){return!this.touched}_events=new We.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(ar(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(ar(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(br(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(br(j,this._rawAsyncValidators))}hasValidator(j){return vn(this._rawValidators,j)}hasAsyncValidator(j){return vn(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){const P=!1===this.touched;this.touched=!0;const ie=j.sourceControl??this;this._parent&&!j.onlySelf&&this._parent.markAsTouched({...j,sourceControl:ie}),P&&!1!==j.emitEvent&&this._events.next(new Kn(!0,ie))}markAllAsDirty(j={}){this.markAsDirty({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:this}),this._forEachChild(P=>P.markAllAsDirty(j))}markAllAsTouched(j={}){this.markAsTouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:this}),this._forEachChild(P=>P.markAllAsTouched(j))}markAsUntouched(j={}){const P=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ie=j.sourceControl??this;this._forEachChild(je=>{je.markAsUntouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:ie})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,ie),P&&!1!==j.emitEvent&&this._events.next(new Kn(!1,ie))}markAsDirty(j={}){const P=!0===this.pristine;this.pristine=!1;const ie=j.sourceControl??this;this._parent&&!j.onlySelf&&this._parent.markAsDirty({...j,sourceControl:ie}),P&&!1!==j.emitEvent&&this._events.next(new Vn(!1,ie))}markAsPristine(j={}){const P=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ie=j.sourceControl??this;this._forEachChild(je=>{je.markAsPristine({onlySelf:!0,emitEvent:j.emitEvent})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j,ie),P&&!1!==j.emitEvent&&this._events.next(new Vn(!0,ie))}markAsPending(j={}){this.status=$e;const P=j.sourceControl??this;!1!==j.emitEvent&&(this._events.next(new Fr(this.status,P)),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.markAsPending({...j,sourceControl:P})}disable(j={}){const P=this._parentMarkedDirty(j.onlySelf);this.status=nt,this.errors=null,this._forEachChild(je=>{je.disable({...j,onlySelf:!0})}),this._updateValue();const ie=j.sourceControl??this;!1!==j.emitEvent&&(this._events.next(new bt(this.value,ie)),this._events.next(new Fr(this.status,ie)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:P},this),this._onDisabledChange.forEach(je=>je(!0))}enable(j={}){const P=this._parentMarkedDirty(j.onlySelf);this.status=Wr,this._forEachChild(ie=>{ie.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:P},this),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(j,P){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine({},P),this._parent._updateTouched({},P))}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ie=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wr||this.status===$e)&&this._runAsyncValidator(ie,j.emitEvent)}const P=j.sourceControl??this;!1!==j.emitEvent&&(this._events.next(new bt(this.value,P)),this._events.next(new Fr(this.status,P)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity({...j,sourceControl:P})}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nt:Wr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j,P){if(this.asyncValidator){this.status=$e,this._hasOwnPendingAsyncValidator={emitEvent:!1!==P,shouldHaveEmitted:!1!==j};const ie=tt(this.asyncValidator(this));this._asyncValidationSubscription=ie.subscribe(je=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(je,{emitEvent:P,shouldHaveEmitted:j})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const j=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,j}return!1}setErrors(j,P={}){this.errors=j,this._updateControlsErrors(!1!==P.emitEvent,this,P.shouldHaveEmitted)}get(j){let P=j;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((ie,je)=>ie&&ie._find(je),this)}getError(j,P){const ie=P?this.get(P):this;return ie&&ie.errors?ie.errors[j]:null}hasError(j,P){return!!this.getError(j,P)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j,P,ie){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),(j||ie)&&this._events.next(new Fr(this.status,P)),this._parent&&this._parent._updateControlsErrors(j,P,ie)}_initObservables(){this.valueChanges=new h.bkB,this.statusChanges=new h.bkB}_calculateStatus(){return this._allControlsDisabled()?nt:this.errors?Be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($e)?$e:this._anyControlsHaveStatus(Be)?Be:Wr}_anyControlsHaveStatus(j){return this._anyControls(P=>P.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j,P){const ie=!this._anyControlsDirty(),je=this.pristine!==ie;this.pristine=ie,this._parent&&!j.onlySelf&&this._parent._updatePristine(j,P),je&&this._events.next(new Vn(this.pristine,P))}_updateTouched(j={},P){this.touched=this._anyControlsTouched(),this._events.next(new Kn(this.touched,P)),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,P)}_onDisabledChange=[];_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Dr(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function Hn(K){return Array.isArray(K)?In(K):K||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function ui(K){return Array.isArray(K)?Tn(K):K||null}(this._rawAsyncValidators)}}class Ci extends Gr{constructor(j,P,ie){super(Pr(P),yr(ie,P)),this.controls=j,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(j,P){return this.controls[j]?this.controls[j]:(this.controls[j]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(j,P,ie={}){this.registerControl(j,P),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(j,P={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(j,P,ie={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],P&&this.registerControl(j,P),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,P={}){(function pi(K,j,P){K._forEachChild((ie,je)=>{if(void 0===P[je])throw new u.buA(1002,"")})})(this,0,j),Object.keys(j).forEach(ie=>{(function Di(K,j,P){const ie=K.controls;if(!(j?Object.keys(ie):ie).length)throw new u.buA(1e3,"");if(!ie[P])throw new u.buA(1001,"")})(this,!0,ie),this.controls[ie].setValue(j[ie],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(j,P={}){null!=j&&(Object.keys(j).forEach(ie=>{const je=this.controls[ie];je&&je.patchValue(j[ie],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(j={},P={}){this._forEachChild((ie,je)=>{ie.reset(j?j[je]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P,this),this._updateTouched(P,this),this.updateValueAndValidity(P),!1!==P?.emitEvent&&this._events.next(new Rr(this))}getRawValue(){return this._reduceChildren({},(j,P,ie)=>(j[ie]=P.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(P,ie)=>!!ie._syncPendingControls()||P);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(P=>{const ie=this.controls[P];ie&&j(ie,P)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[P,ie]of Object.entries(this.controls))if(this.contains(P)&&j(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,ie,je)=>((ie.enabled||this.disabled)&&(P[je]=ie.value),P))}_reduceChildren(j,P){let ie=j;return this._forEachChild((je,jn)=>{ie=P(ie,je,jn)}),ie}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const ye=new u.nKC("",{providedIn:"root",factory:()=>Qe}),Qe="always";function at(K,j,P=Qe){pr(K,j),j.valueAccessor.writeValue(K.value),(K.disabled||"always"===P)&&j.valueAccessor.setDisabledState?.(K.disabled),function Ki(K,j){j.valueAccessor.registerOnChange(P=>{K._pendingValue=P,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&po(K,j)})}(K,j),function Zr(K,j){const P=(ie,je)=>{j.valueAccessor.writeValue(ie),je&&j.viewToModelUpdate(ie)};K.registerOnChange(P),j._registerOnDestroy(()=>{K._unregisterOnChange(P)})}(K,j),function xo(K,j){j.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&po(K,j),"submit"!==K.updateOn&&K.markAsTouched()})}(K,j),function tr(K,j){if(j.valueAccessor.setDisabledState){const P=ie=>{j.valueAccessor.setDisabledState(ie)};K.registerOnDisabledChange(P),j._registerOnDestroy(()=>{K._unregisterOnDisabledChange(P)})}}(K,j)}function Un(K,j){K.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(j)})}function pr(K,j){const P=function Pt(K){return K._rawValidators}(K);null!==j.validator?K.setValidators(an(P,j.validator)):"function"==typeof P&&K.setValidators([P]);const ie=function rt(K){return K._rawAsyncValidators}(K);null!==j.asyncValidator?K.setAsyncValidators(an(ie,j.asyncValidator)):"function"==typeof ie&&K.setAsyncValidators([ie]);const je=()=>K.updateValueAndValidity();Un(j._rawValidators,je),Un(j._rawAsyncValidators,je)}function po(K,j){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}const ve={provide:fr,useExisting:(0,u.Rfq)(()=>ne)},xe=Promise.resolve();let ne=(()=>{class K extends fr{callSetDisabledState;get submitted(){return(0,k.O8)(this.submittedReactive)}_submitted=(0,k.EW)(()=>this.submittedReactive());submittedReactive=(0,u.vPA)(!1);_directives=new Set;form;ngSubmit=new h.bkB;options;constructor(P,ie,je){super(),this.callSetDisabledState=je,this.form=new Ci({},In(P),Tn(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){xe.then(()=>{const ie=this._findContainer(P.path);P.control=ie.registerControl(P.name,P.control),at(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){xe.then(()=>{const ie=this._findContainer(P.path);ie&&ie.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){xe.then(()=>{const ie=this._findContainer(P.path),je=new Ci({});(function gi(K,j){pr(K,j)})(je,P),ie.registerControl(P.name,je),je.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){xe.then(()=>{const ie=this._findContainer(P.path);ie&&ie.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,ie){xe.then(()=>{this.form.get(P.path).setValue(ie)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submittedReactive.set(!0),function qi(K,j){K._syncPendingControls(),j.forEach(P=>{const ie=P.control;"submit"===ie.updateOn&&ie._pendingChange&&(P.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(P),this.form._events.next(new Lr(this.control)),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static \u0275fac=function(ie){return new(ie||K)(h.rXU(Oe,10),h.rXU(ln,10),h.rXU(ye,8))};static \u0275dir=h.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ie,je){1&ie&&h.bIt("submit",function(qn){return je.onSubmit(qn)})("reset",function(){return je.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[h.Jv_([ve]),h.Vt3]})}return K})();function ge(K,j){const P=K.indexOf(j);P>-1&&K.splice(P,1)}function ft(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const hn=class extends Gr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(j=null,P,ie){super(Pr(P),yr(ie,P)),this._applyFormState(j),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dr(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=ft(j)?j.value:j)}setValue(j,P={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(j,P={}){this.setValue(j,P)}reset(j=this.defaultValue,P={}){this._applyFormState(j),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1,!1!==P?.emitEvent&&this._events.next(new Rr(this))}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){ge(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){ge(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){ft(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},xr={provide:Gn,useExisting:(0,u.Rfq)(()=>kr)},wr=Promise.resolve();let kr=(()=>{class K extends Gn{_changeDetectorRef;callSetDisabledState;control=new hn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new h.bkB;constructor(P,ie,je,jn,qn,di){super(),this._changeDetectorRef=qn,this.callSetDisabledState=di,this._parent=P,this._setValidators(ie),this._setAsyncValidators(je),this.valueAccessor=function Mi(K,j){if(!j)return null;let P,ie,je;return Array.isArray(j),j.forEach(jn=>{jn.constructor===Ze?P=jn:function Li(K){return Object.getPrototypeOf(K.constructor)===et}(jn)?ie=jn:je=jn}),je||ie||P||null}(0,jn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const ie=P.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),function Oi(K,j){if(!K.hasOwnProperty("model"))return!1;const P=K.model;return!!P.isFirstChange()||!Object.is(j,P.currentValue)}(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){at(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){wr.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const ie=P.isDisabled.currentValue,je=0!==ie&&(0,$.L39)(ie);wr.then(()=>{je&&!this.control.disabled?this.control.disable():!je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?function Ae(K,j){return[...j.path,K]}(P,this._parent):[P]}static \u0275fac=function(ie){return new(ie||K)(h.rXU(fr,9),h.rXU(Oe,10),h.rXU(ln,10),h.rXU(vt,10),h.rXU($.gRc,8),h.rXU(ye,8))};static \u0275dir=h.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[h.Jv_([xr]),h.Vt3,h.OA$]})}return K})(),Kr=(()=>{class K{static \u0275fac=function(ie){return new(ie||K)};static \u0275dir=h.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return K})();function Tr(K){return"number"==typeof K?K:parseFloat(K)}let rr=(()=>{class K{_validator=Ue;_onChange;_enabled;ngOnChanges(P){if(this.inputName in P){const ie=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Ue,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static \u0275fac=function(ie){return new(ie||K)};static \u0275dir=h.FsC({type:K,features:[h.OA$]})}return K})();const Fi={provide:Oe,useExisting:(0,u.Rfq)(()=>mi),multi:!0};let mi=(()=>{class K extends rr{max;inputName="max";normalizeInput=P=>Tr(P);createValidator=P=>function kt(K){return j=>{if(null==j.value||null==K)return null;const P=parseFloat(j.value);return!isNaN(P)&&P>K?{max:{max:K,actual:j.value}}:null}}(P);static \u0275fac=(()=>{let P;return function(je){return(P||(P=h.xGo(K)))(je||K)}})();static \u0275dir=h.FsC({type:K,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ie,je){2&ie&&h.BMQ("max",je._enabled?je.max:null)},inputs:{max:"max"},standalone:!1,features:[h.Jv_([Fi]),h.Vt3]})}return K})();const Qi={provide:Oe,useExisting:(0,u.Rfq)(()=>Ni),multi:!0};let Ni=(()=>{class K extends rr{min;inputName="min";normalizeInput=P=>Tr(P);createValidator=P=>function zt(K){return j=>{if(null==j.value||null==K)return null;const P=parseFloat(j.value);return!isNaN(P)&&P<K?{min:{min:K,actual:j.value}}:null}}(P);static \u0275fac=(()=>{let P;return function(je){return(P||(P=h.xGo(K)))(je||K)}})();static \u0275dir=h.FsC({type:K,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ie,je){2&ie&&h.BMQ("min",je._enabled?je.min:null)},inputs:{min:"min"},standalone:!1,features:[h.Jv_([Qi]),h.Vt3]})}return K})();const Vi={provide:Oe,useExisting:(0,u.Rfq)(()=>Yi),multi:!0};let Yi=(()=>{class K extends rr{required;inputName="required";normalizeInput=$.L39;createValidator=P=>ht;enabled(P){return P}static \u0275fac=(()=>{let P;return function(je){return(P||(P=h.xGo(K)))(je||K)}})();static \u0275dir=h.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,je){2&ie&&h.BMQ("required",je._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[h.Jv_([Vi]),h.Vt3]})}return K})();const Is={provide:Oe,useExisting:(0,u.Rfq)(()=>lo),multi:!0};let lo=(()=>{class K extends rr{email;inputName="email";normalizeInput=$.L39;createValidator=P=>tn;enabled(P){return P}static \u0275fac=(()=>{let P;return function(je){return(P||(P=h.xGo(K)))(je||K)}})();static \u0275dir=h.FsC({type:K,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[h.Jv_([Is]),h.Vt3]})}return K})(),Lt=(()=>{class K{static \u0275fac=function(ie){return new(ie||K)};static \u0275mod=h.$C({type:K});static \u0275inj=u.G2t({})}return K})(),zo=(()=>{class K{static withConfig(P){return{ngModule:K,providers:[{provide:ye,useValue:P.callSetDisabledState??Qe}]}}static \u0275fac=function(ie){return new(ie||K)};static \u0275mod=h.$C({type:K});static \u0275inj=u.G2t({imports:[Lt]})}return K})()},4360:(Ln,Tt,L)=>{"use strict";L.d(Tt,{_:()=>u});var h=L(7707);function u($,Te,fe,Ce,He){return new k($,Te,fe,Ce,He)}class k extends h.vU{constructor(Te,fe,Ce,He,Se,le){super(Te),this.onFinalize=Se,this.shouldUnsubscribe=le,this._next=fe?function(pe){try{fe(pe)}catch(Pe){Te.error(Pe)}}:super._next,this._error=He?function(pe){try{He(pe)}catch(Pe){Te.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(pe){Te.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4412:(Ln,Tt,L)=>{"use strict";L.d(Tt,{t:()=>u});var h=L(1413);class u extends h.B{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const Te=super._subscribe($);return!Te.closed&&$.next(this._value),Te}getValue(){const{hasError:$,thrownError:Te,_value:fe}=this;if($)throw Te;return this._throwIfClosed(),fe}next($){super.next(this._value=$)}}},4572:(Ln,Tt,L)=>{"use strict";L.d(Tt,{z:()=>le});var h=L(1985),u=L(3073),k=L(8455),$=L(3669),Te=L(6450),fe=L(3794),Ce=L(8496),He=L(4360),Se=L(5225);function le(...Me){const Le=(0,fe.lI)(Me),We=(0,fe.ms)(Me),{args:st,keys:it}=(0,u.D)(Me);if(0===st.length)return(0,k.H)([],Le);const et=new h.c(function pe(Me,Le,We=$.D){return st=>{Pe(Le,()=>{const{length:it}=Me,et=new Array(it);let vt=it,Rt=it;for(let Fe=0;Fe<it;Fe++)Pe(Le,()=>{const dt=(0,k.H)(Me[Fe],Le);let ke=!1;dt.subscribe((0,He._)(st,Ve=>{et[Fe]=Ve,ke||(ke=!0,Rt--),Rt||st.next(We(et.slice()))},()=>{--vt||st.complete()}))},st)},st)}}(st,Le,it?vt=>(0,Ce.e)(it,vt):$.D));return We?et.pipe((0,Te.I)(We)):et}function Pe(Me,Le,We){Me?(0,Se.N)(We,Me,Le):Le()}},4674:(Ln,Tt,L)=>{"use strict";L.d(Tt,{a:()=>We,b:()=>fe,c:()=>$,d:()=>Rt,e:()=>st,f:()=>Se,g:()=>pe,h:()=>Te,i:()=>He,j:()=>ke,k:()=>Me,l:()=>it,m:()=>le,n:()=>Le,o:()=>vt,p:()=>Fe,q:()=>et,r:()=>Pe,s:()=>dt,t:()=>u});var h=L(5705);const u=(Ve,Ze=0)=>new Promise(_t=>{k(Ve,Ze,_t)}),k=(Ve,Ze=0,_t)=>{let ct,Oe;const ln={passive:!0},Mn=()=>{ct&&ct()},zt=kt=>{(void 0===kt||Ve===kt.target)&&(Mn(),_t(kt))};return Ve&&(Ve.addEventListener("webkitTransitionEnd",zt,ln),Ve.addEventListener("transitionend",zt,ln),Oe=setTimeout(zt,Ze+500),ct=()=>{void 0!==Oe&&(clearTimeout(Oe),Oe=void 0),Ve.removeEventListener("webkitTransitionEnd",zt,ln),Ve.removeEventListener("transitionend",zt,ln)}),Mn},$=(Ve,Ze)=>{Ve.componentOnReady?Ve.componentOnReady().then(_t=>Ze(_t)):Pe(()=>Ze(Ve))},Te=Ve=>void 0!==Ve.componentOnReady,fe=(Ve,Ze=[])=>{const _t={};return Ze.forEach(ct=>{Ve.hasAttribute(ct)&&(null!==Ve.getAttribute(ct)&&(_t[ct]=Ve.getAttribute(ct)),Ve.removeAttribute(ct))}),_t},Ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],He=(Ve,Ze)=>fe(Ve,Ce),Se=(Ve,Ze,_t,ct)=>Ve.addEventListener(Ze,_t,ct),le=(Ve,Ze,_t,ct)=>Ve.removeEventListener(Ze,_t,ct),pe=(Ve,Ze=Ve)=>Ve.shadowRoot||Ze,Pe=Ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ve):setTimeout(Ve),Me=Ve=>!!Ve.shadowRoot&&!!Ve.attachShadow,Le=Ve=>{if(Ve.focus(),Ve.classList.contains("ion-focusable")){const Ze=Ve.closest("ion-app");Ze&&Ze.setFocus([Ve])}},We=(Ve,Ze,_t,ct,Oe)=>{{let ln=Ze.querySelector("input.aux-input");ln||(ln=Ze.ownerDocument.createElement("input"),ln.type="hidden",ln.classList.add("aux-input"),Ze.appendChild(ln)),ln.disabled=Oe,ln.name=_t,ln.value=ct||""}},st=(Ve,Ze,_t)=>Math.max(Ve,Math.min(Ze,_t)),it=(Ve,Ze)=>{if(!Ve){const _t="ASSERT: "+Ze;throw(0,h.j)(_t),new Error(_t)}},et=Ve=>{if(Ve){const Ze=Ve.changedTouches;if(Ze&&Ze.length>0){const _t=Ze[0];return{x:_t.clientX,y:_t.clientY}}if(void 0!==Ve.pageX)return{x:Ve.pageX,y:Ve.pageY}}return{x:0,y:0}},vt=Ve=>{const Ze="rtl"===document.dir;switch(Ve){case"start":return Ze;case"end":return!Ze;default:throw new Error(`"${Ve}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Rt=(Ve,Ze)=>{const _t=Ve._original||Ve;return{_original:Ve,emit:Fe(_t.emit.bind(_t),Ze)}},Fe=(Ve,Ze=0)=>{let _t;return(...ct)=>{clearTimeout(_t),_t=setTimeout(Ve,Ze,...ct)}},dt=(Ve,Ze)=>{if(Ve??(Ve={}),Ze??(Ze={}),Ve===Ze)return!0;const _t=Object.keys(Ve);if(_t.length!==Object.keys(Ze).length)return!1;for(const ct of _t)if(!(ct in Ze)||Ve[ct]!==Ze[ct])return!1;return!0},ke=Ve=>"number"==typeof Ve&&!isNaN(Ve)&&isFinite(Ve)},4761:(Ln,Tt,L)=>{"use strict";L.d(Tt,{l:()=>u});const u=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5035:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Yq:()=>Ti,TS:()=>ri,sR:()=>Pi,el:()=>ko,Sb:()=>yr,QE:()=>Oi,CF:()=>Di,Rg:()=>Qt,p4:()=>Mi,jM:()=>so,q9:()=>Ii,Kb:()=>ji,CE:()=>Li,pF:()=>qi,fL:()=>po,YV:()=>zr,er:()=>xo,z3:()=>Zr});var h=L(467),u=L(2615),k=L(3664),$=L(7705),Te=L(4084),fe=L(8132),Ce=L(7303),He=L(7837);const Se=ve=>pe(ve),pe=(ve=window)=>{if(typeof ve>"u")return[];ve.Ionic=ve.Ionic||{};let xe=ve.Ionic.platforms;return null==xe&&(xe=ve.Ionic.platforms=Pe(ve),xe.forEach(ne=>ve.document.documentElement.classList.add(`plt-${ne}`))),xe},Pe=ve=>{const xe=He.c.get("platform");return Object.keys(ut).filter(ne=>{const ge=xe?.[ne];return"function"==typeof ge?ge(ve):ut[ne](ve)})},Le=ve=>!!(Oe(ve,/iPad/i)||Oe(ve,/Macintosh/i)&&Fe(ve)),it=ve=>Oe(ve,/android|sink/i),Fe=ve=>ln(ve,"(any-pointer:coarse)"),ke=ve=>Ve(ve)||Ze(ve),Ve=ve=>!!(ve.cordova||ve.phonegap||ve.PhoneGap),Ze=ve=>{const xe=ve.Capacitor;return!!(xe?.isNative||xe?.isNativePlatform&&xe.isNativePlatform())},Oe=(ve,xe)=>xe.test(ve.navigator.userAgent),ln=(ve,xe)=>{var ne;return null===(ne=ve.matchMedia)||void 0===ne?void 0:ne.call(ve,xe).matches},ut={ipad:Le,iphone:ve=>Oe(ve,/iPhone/i),ios:ve=>Oe(ve,/iPhone|iPod/i)||Le(ve),android:it,phablet:ve=>{const xe=ve.innerWidth,ne=ve.innerHeight,ge=Math.min(xe,ne),ft=Math.max(xe,ne);return ge>390&&ge<520&&ft>620&&ft<800},tablet:ve=>{const xe=ve.innerWidth,ne=ve.innerHeight,ge=Math.min(xe,ne),ft=Math.max(xe,ne);return Le(ve)||(ve=>it(ve)&&!Oe(ve,/mobile/i))(ve)||ge>460&&ge<820&&ft>780&&ft<1400},cordova:Ve,capacitor:Ze,electron:ve=>Oe(ve,/electron/i),pwa:ve=>{var xe;return!!(null!==(xe=ve.matchMedia)&&void 0!==xe&&xe.call(ve,"(display-mode: standalone)").matches||ve.navigator.standalone)},mobile:Fe,mobileweb:ve=>Fe(ve)&&!ke(ve),desktop:ve=>!Fe(ve),hybrid:ke};var ht=L(6031);var br=L(1413),Sr=L(3726),fr=L(4412),Gn=L(4572),cn=L(7673),cr=L(1635),Xt=L(5964),on=L(5558),On=L(3294),gt=L(4341);const gr=["tabsInner"];let Jr=(()=>{class ve{doc;_readyPromise;win;backButton=new br.B;keyboardDidShow=new br.B;keyboardDidHide=new br.B;pause=new br.B;resume=new br.B;resize=new br.B;constructor(ne,ge){this.doc=ne,ge.run(()=>{let ft;this.win=ne.defaultView,this.backButton.subscribeWithPriority=function(hn,Sn){return this.subscribe(F=>F.register(hn,Ee=>ge.run(()=>Sn(Ee))))},Hr(this.pause,ne,"pause",ge),Hr(this.resume,ne,"resume",ge),Hr(this.backButton,ne,"ionBackButton",ge),Hr(this.resize,this.win,"resize",ge),Hr(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ge),Hr(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ge),this._readyPromise=new Promise(hn=>{ft=hn}),this.win?.cordova?ne.addEventListener("deviceready",()=>{ft("cordova")},{once:!0}):ft("dom")})}is(ne){return((ve,xe)=>("string"==typeof ve&&(xe=ve,ve=void 0),Se(ve).includes(xe)))(this.win,ne)}platforms(){return Se(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ne){return Ur(this.win.location.href,ne)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(ne){const ge=this.win.navigator;return!!(ge?.userAgent&&ge.userAgent.indexOf(ne)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(ge){return new(ge||ve)(u.KVO(u.qQL),u.KVO(k.SKi))};static \u0275prov=u.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const Ur=(ve,xe)=>{xe=xe.replace(/[[\]\\]/g,"\\$&");const ge=new RegExp("[\\?&]"+xe+"=([^&#]*)").exec(ve);return ge?decodeURIComponent(ge[1].replace(/\+/g," ")):null},Hr=(ve,xe,ne,ge)=>{xe&&xe.addEventListener(ne,ft=>{ge.run(()=>{const hn=ft?.detail;ve.next(hn)})})};let Ii=(()=>{class ve{location;serializer;router;topOutlet;direction=ni;animated=jr;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(ne,ge,ft,hn){this.location=ge,this.serializer=ft,this.router=hn,hn&&hn.events.subscribe(Sn=>{if(Sn instanceof Te.Z){const F=Sn.restoredState?Sn.restoredState.navigationId:Sn.id;this.guessDirection=this.guessAnimation=F<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Sn.id:F}}),ne.backButton.subscribeWithPriority(0,Sn=>{this.pop(),Sn()})}navigateForward(ne,ge={}){return this.setDirection("forward",ge.animated,ge.animationDirection,ge.animation),this.navigate(ne,ge)}navigateBack(ne,ge={}){return this.setDirection("back",ge.animated,ge.animationDirection,ge.animation),this.navigate(ne,ge)}navigateRoot(ne,ge={}){return this.setDirection("root",ge.animated,ge.animationDirection,ge.animation),this.navigate(ne,ge)}back(ne={animated:!0,animationDirection:"back"}){return this.setDirection("back",ne.animated,ne.animationDirection,ne.animation),this.location.back()}pop(){var ne=this;return(0,h.A)(function*(){let ge=ne.topOutlet;for(;ge;){if(yield ge.pop())return!0;ge=ge.parentOutlet}return!1})()}setDirection(ne,ge,ft,hn){this.direction=ne,this.animated=Fn(ne,ge,ft),this.animationBuilder=hn}setTopOutlet(ne){this.topOutlet=ne}consumeTransition(){let ge,ne="root";const ft=this.animationBuilder;return"auto"===this.direction?(ne=this.guessDirection,ge=this.guessAnimation):(ge=this.animated,ne=this.direction),this.direction=ni,this.animated=jr,this.animationBuilder=void 0,{direction:ne,animation:ge,animationBuilder:ft}}navigate(ne,ge){if(Array.isArray(ne))return this.router.navigate(ne,ge);{const ft=this.serializer.parse(ne.toString());return void 0!==ge.queryParams&&(ft.queryParams={...ge.queryParams}),void 0!==ge.fragment&&(ft.fragment=ge.fragment),this.router.navigateByUrl(ft,ge)}}static \u0275fac=function(ge){return new(ge||ve)(u.KVO(Jr),u.KVO(Ce.aZ),u.KVO(Te.Sd),u.KVO(Te.Ix,8))};static \u0275prov=u.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const Fn=(ve,xe,ne)=>{if(!1!==xe){if(void 0!==ne)return ne;if("forward"===ve||"back"===ve)return ve;if("root"===ve&&!0===xe)return"forward"}},ni="auto",jr=void 0;let ri=(()=>{class ve{get(ne,ge){const ft=si();return ft?ft.get(ne,ge):null}getBoolean(ne,ge){const ft=si();return!!ft&&ft.getBoolean(ne,ge)}getNumber(ne,ge){const ft=si();return ft?ft.getNumber(ne,ge):0}static \u0275fac=function(ge){return new(ge||ve)};static \u0275prov=u.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const Pi=new u.nKC("USERCONFIG"),si=()=>{if(typeof window<"u"){const ve=window.Ionic;if(ve?.config)return ve.config}return null};class ii{data;constructor(xe={}){this.data=xe,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(xe){return this.data[xe]}}const $i=new u.nKC("IonModalToken");let Ti=(()=>{class ve{zone=(0,u.WQX)(k.SKi);applicationRef=(0,u.WQX)(k.o8S);config=(0,u.WQX)(Pi);create(ne,ge,ft){return new Wr(ne,ge,this.applicationRef,this.zone,ft,this.config.useSetInputAPI??!1)}static \u0275fac=function(ge){return new(ge||ve)};static \u0275prov=u.jDH({token:ve,factory:ve.\u0275fac})}return ve})();class Wr{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(xe,ne,ge,ft,hn,Sn){this.environmentInjector=xe,this.injector=ne,this.applicationRef=ge,this.zone=ft,this.elementReferenceKey=hn,this.enableSignalsSupport=Sn}attachViewToDom(xe,ne,ge,ft){return this.zone.run(()=>new Promise(hn=>{const Sn={...ge};void 0!==this.elementReferenceKey&&(Sn[this.elementReferenceKey]=xe),hn(Be(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,xe,ne,Sn,ft,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(xe,ne){return this.zone.run(()=>new Promise(ge=>{const ft=this.elRefMap.get(ne);if(ft){ft.destroy(),this.elRefMap.delete(ne);const hn=this.elEventsMap.get(ne);hn&&(hn(),this.elEventsMap.delete(ne))}ge()}))}}const Be=(ve,xe,ne,ge,ft,hn,Sn,F,Ee,Z,ue,ot)=>{const un=bt(Ee);"ion-modal"===Sn.tagName.toLowerCase()&&un.push({provide:$i,useValue:Sn});const Dn=u.zZn.create({providers:un,parent:ne}),mn=(0,$.a0P)(F,{environmentInjector:xe,elementInjector:Dn}),xr=mn.instance,wr=mn.location.nativeElement;if(Ee)if(ue&&void 0!==xr[ue]&&console.error(`[Ionic Error]: ${ue} is a reserved property when using ${Sn.tagName.toLowerCase()}. Rename or remove the "${ue}" property from ${F.name}.`),!0===ot&&void 0!==mn.setInput){const{modal:nr,popover:Kr,...Ir}=Ee;for(const Xr in Ir)mn.setInput(Xr,Ir[Xr]);void 0!==nr&&Object.assign(xr,{modal:nr}),void 0!==Kr&&Object.assign(xr,{popover:Kr})}else Object.assign(xr,Ee);if(Z)for(const nr of Z)wr.classList.add(nr);const kr=nt(ve,xr,wr);return Sn.appendChild(wr),ge.attachView(mn.hostView),ft.set(wr,mn),hn.set(wr,kr),wr},$e=[ht.L,ht.a,ht.b,ht.c,ht.d],nt=(ve,xe,ne)=>ve.run(()=>{const ge=$e.filter(ft=>"function"==typeof xe[ft]).map(ft=>{const hn=Sn=>xe[ft](Sn.detail);return ne.addEventListener(ft,hn),()=>ne.removeEventListener(ft,hn)});return()=>ge.forEach(ft=>ft())}),Kt=new u.nKC("NavParamsToken"),bt=ve=>[{provide:Kt,useValue:ve},{provide:ii,useFactory:Vn,deps:[Kt]}],Vn=ve=>new ii(ve),Kn=(ve,xe)=>{const ne=ve.prototype;xe.forEach(ge=>{Object.defineProperty(ne,ge,{get(){return this.el[ge]},set(ft){this.z.runOutsideAngular(()=>this.el[ge]=ft)}})})},Fr=(ve,xe)=>{const ne=ve.prototype;xe.forEach(ge=>{ne[ge]=function(){const ft=arguments;return this.z.runOutsideAngular(()=>this.el[ge].apply(this.el,ft))}})},Lr=(ve,xe,ne)=>{ne.forEach(ge=>ve[ge]=(0,Sr.R)(xe,ge))};function Rr(ve){return function(ne){const{defineCustomElementFn:ge,inputs:ft,methods:hn}=ve;return void 0!==ge&&ge(),ft&&Kn(ne,ft),hn&&Fr(ne,hn),ne}}const Pr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","expandToScroll","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Hn=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let yr=(()=>{let ve=class fR{z;template;isCmpOpen=!1;el;constructor(ne,ge,ft){this.z=ft,this.el=ge.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ne.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ne.detectChanges()}),Lr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ge){return new(ge||fR)(k.rXU($.gRc),k.rXU(k.aKT),k.rXU(k.SKi))};static \u0275dir=k.FsC({type:fR,selectors:[["ion-modal"]],contentQueries:function(ge,ft,hn){if(1&ge&&k.wni(hn,k.C4Q,5),2&ge){let Sn;k.mGM(Sn=k.lsd())&&(ft.template=Sn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",expandToScroll:"expandToScroll",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},standalone:!1})};return ve=(0,cr.Cg)([Rr({inputs:Pr,methods:Hn})],ve),ve})();const ui=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Dr=["present","dismiss","onDidDismiss","onWillDismiss"];let Di=(()=>{let ve=class pR{z;template;isCmpOpen=!1;el;constructor(ne,ge,ft){this.z=ft,this.el=ge.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ne.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ne.detectChanges()}),Lr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ge){return new(ge||pR)(k.rXU($.gRc),k.rXU(k.aKT),k.rXU(k.SKi))};static \u0275dir=k.FsC({type:pR,selectors:[["ion-popover"]],contentQueries:function(ge,ft,hn){if(1&ge&&k.wni(hn,k.C4Q,5),2&ge){let Sn;k.mGM(Sn=k.lsd())&&(ft.template=Sn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},standalone:!1})};return ve=(0,cr.Cg)([Rr({inputs:ui,methods:Dr})],ve),ve})();const Gr=(ve,xe)=>((ve=ve.filter(ne=>ne.stackId!==xe.stackId)).push(xe),ve),ki=(ve,xe)=>{const ne=ve.createUrlTree(["."],{relativeTo:xe});return ve.serializeUrl(ne)},xt=(ve,xe)=>!xe||ve.stackId!==xe.stackId,It=(ve,xe)=>{if(!ve)return;const ne=nn(xe);for(let ge=0;ge<ne.length;ge++){if(ge>=ve.length)return ne[ge];if(ne[ge]!==ve[ge])return}},nn=ve=>ve.split("/").map(xe=>xe.trim()).filter(xe=>""!==xe),ye=ve=>{ve&&(ve.ref.destroy(),ve.unlistenEvents())};class Qe{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(xe,ne,ge,ft,hn,Sn){this.containerEl=ne,this.router=ge,this.navCtrl=ft,this.zone=hn,this.location=Sn,this.tabsPrefix=void 0!==xe?nn(xe):void 0}createView(xe,ne){const ge=ki(this.router,ne),ft=xe?.location?.nativeElement,hn=nt(this.zone,xe.instance,ft);return{id:this.nextId++,stackId:It(this.tabsPrefix,ge),unlistenEvents:hn,element:ft,ref:xe,url:ge}}getExistingView(xe){const ne=ki(this.router,xe),ge=this.views.find(ft=>ft.url===ne);return ge&&ge.ref.changeDetectorRef.reattach(),ge}setActive(xe){const ne=this.navCtrl.consumeTransition();let{direction:ge,animation:ft,animationBuilder:hn}=ne;const Sn=this.activeView,F=xt(xe,Sn);F&&(ge="back",ft=void 0);const Ee=this.views.slice();let Z;const ue=this.router;ue.getCurrentNavigation?Z=ue.getCurrentNavigation():ue.navigations?.value&&(Z=ue.navigations.value),Z?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ot=this.views.includes(xe),un=this.insertView(xe,ge);ot||xe.ref.changeDetectorRef.detectChanges();const Dn=xe.animationBuilder;return void 0===hn&&"back"===ge&&!F&&void 0!==Dn&&(hn=Dn),Sn&&(Sn.animationBuilder=hn),this.zone.runOutsideAngular(()=>this.wait(()=>(Sn&&Sn.ref.changeDetectorRef.detach(),xe.ref.changeDetectorRef.reattach(),this.transition(xe,Sn,ft,this.canGoBack(1),!1,hn).then(()=>Ae(xe,un,Ee,this.location,this.zone)).then(()=>({enteringView:xe,direction:ge,animation:ft,tabSwitch:F})))))}canGoBack(xe,ne=this.getActiveStackId()){return this.getStack(ne).length>xe}pop(xe,ne=this.getActiveStackId()){return this.zone.run(()=>{const ge=this.getStack(ne);if(ge.length<=xe)return Promise.resolve(!1);const ft=ge[ge.length-xe-1];let hn=ft.url;const Sn=ft.savedData;if(Sn){const Ee=Sn.get("primary");Ee?.route?._routerState?.snapshot.url&&(hn=Ee.route._routerState.snapshot.url)}const{animationBuilder:F}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(hn,{...ft.savedExtras,animation:F}).then(()=>!0)})}startBackTransition(){const xe=this.activeView;if(xe){const ne=this.getStack(xe.stackId),ge=ne[ne.length-2],ft=ge.animationBuilder;return this.wait(()=>this.transition(ge,xe,"back",this.canGoBack(2),!0,ft))}return Promise.resolve()}endBackTransition(xe){xe?(this.skipTransition=!0,this.pop(1)):this.activeView&&at(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(xe){const ne=this.getStack(xe);return ne.length>0?ne[ne.length-1]:void 0}getRootUrl(xe){const ne=this.getStack(xe);return ne.length>0?ne[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ye),this.activeView=void 0,this.views=[]}getStack(xe){return this.views.filter(ne=>ne.stackId===xe)}insertView(xe,ne){return this.activeView=xe,this.views=((ve,xe,ne)=>"root"===ne?Gr(ve,xe):"forward"===ne?((ve,xe)=>(ve.indexOf(xe)>=0?ve=ve.filter(ge=>ge.stackId!==xe.stackId||ge.id<=xe.id):ve.push(xe),ve))(ve,xe):((ve,xe)=>ve.indexOf(xe)>=0?ve.filter(ge=>ge.stackId!==xe.stackId||ge.id<=xe.id):Gr(ve,xe))(ve,xe))(this.views,xe,ne),this.views.slice()}transition(xe,ne,ge,ft,hn,Sn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ne===xe)return Promise.resolve(!1);const F=xe?xe.element:void 0,Ee=ne?ne.element:void 0,Z=this.containerEl;return F&&F!==Ee&&(F.classList.add("ion-page"),F.classList.add("ion-page-invisible"),Z.commit)?Z.commit(F,Ee,{duration:void 0===ge?0:void 0,direction:ge,showGoBack:ft,progressAnimation:hn,animationBuilder:Sn}):Promise.resolve(!1)}wait(xe){var ne=this;return(0,h.A)(function*(){void 0!==ne.runningTask&&(yield ne.runningTask,ne.runningTask=void 0);const ge=ne.runningTask=xe();return ge.finally(()=>ne.runningTask=void 0),ge})()}}const Ae=(ve,xe,ne,ge,ft)=>"function"==typeof requestAnimationFrame?new Promise(hn=>{requestAnimationFrame(()=>{at(ve,xe,ne,ge,ft),hn()})}):Promise.resolve(),at=(ve,xe,ne,ge,ft)=>{ft.run(()=>ne.filter(hn=>!xe.includes(hn)).forEach(ye)),xe.forEach(hn=>{const F=ge.path().split("?")[0].split("#")[0];if(hn!==ve&&hn.url!==F){const Ee=hn.element;Ee.setAttribute("aria-hidden","true"),Ee.classList.add("ion-page-hidden"),hn.ref.changeDetectorRef.detach()}})};let Qt=(()=>{class ve{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new fr.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Te.Xk;stackWillChange=new k.bkB;stackDidChange=new k.bkB;activateEvents=new k.bkB;deactivateEvents=new k.bkB;parentContexts=(0,u.WQX)(Te.Zp);location=(0,u.WQX)(k.c1b);environmentInjector=(0,u.WQX)(u.uvJ);inputBinder=(0,u.WQX)(tr,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,u.WQX)(ri);navCtrl=(0,u.WQX)(Ii);set animation(ne){this.nativeEl.animation=ne}set animated(ne){this.nativeEl.animated=ne}set swipeGesture(ne){this._swipeGesture=ne,this.nativeEl.swipeHandler=ne?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ge=>this.stackCtrl.endBackTransition(ge)}:void 0}constructor(ne,ge,ft,hn,Sn,F,Ee,Z){this.parentOutlet=Z,this.nativeEl=hn.nativeElement,this.name=ne||Te.Xk,this.tabsPrefix="true"===ge?ki(Sn,Ee):void 0,this.stackCtrl=new Qe(this.tabsPrefix,this.nativeEl,Sn,this.navCtrl,F,ft),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ne=this.getContext();ne?.route&&this.activateWith(ne.route,ne.injector)}new Promise(ne=>((ve,xe)=>{ve.componentOnReady?ve.componentOnReady().then(ne=>xe(ne)):(ve=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):setTimeout(ve)})(()=>xe(ve))})(this.nativeEl,ne)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ne,ge){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ge=this.getContext();this.activatedView.savedData=new Map(ge.children.contexts);const ft=this.activatedView.savedData.get("primary");if(ft&&ge.route&&(ft.route={...ge.route}),this.activatedView.savedExtras={},ge.route){const hn=ge.route.snapshot;this.activatedView.savedExtras.queryParams=hn.queryParams,this.activatedView.savedExtras.fragment=hn.fragment}}const ne=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ne)}}activateWith(ne,ge){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ne;let ft,hn=this.stackCtrl.getExistingView(ne);if(hn){ft=this.activated=hn.ref;const F=hn.savedData;F&&(this.getContext().children.contexts=F),this.updateActivatedRouteProxy(ft.instance,ne)}else{const F=ne._futureSnapshot,Ee=this.parentContexts.getOrCreateContext(this.name).children,Z=new fr.t(null),ue=this.createActivatedRouteProxy(Z,ne),ot=new Un(ue,Ee,this.location.injector);ft=this.activated=this.outletContent.createComponent(F.routeConfig.component??F.component,{index:this.outletContent.length,injector:ot,environmentInjector:ge??this.environmentInjector}),Z.next(ft.instance),hn=this.stackCtrl.createView(this.activated,ne),this.proxyMap.set(ft.instance,ue),this.currentActivatedRoute$.next({component:ft.instance,activatedRoute:ne})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=hn,this.navCtrl.setTopOutlet(this);const Sn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:hn,tabSwitch:xt(hn,Sn)}),this.stackCtrl.setActive(hn).then(F=>{this.activateEvents.emit(ft.instance),this.stackDidChange.emit(F)})}canGoBack(ne=1,ge){return this.stackCtrl.canGoBack(ne,ge)}pop(ne=1,ge){return this.stackCtrl.pop(ne,ge)}getLastUrl(ne){const ge=this.stackCtrl.getLastUrl(ne);return ge?ge.url:void 0}getLastRouteView(ne){return this.stackCtrl.getLastUrl(ne)}getRootView(ne){return this.stackCtrl.getRootUrl(ne)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ne,ge){const ft=new Te.nX;return ft._futureSnapshot=ge._futureSnapshot,ft._routerState=ge._routerState,ft.snapshot=ge.snapshot,ft.outlet=ge.outlet,ft.component=ge.component,ft._paramMap=this.proxyObservable(ne,"paramMap"),ft._queryParamMap=this.proxyObservable(ne,"queryParamMap"),ft.url=this.proxyObservable(ne,"url"),ft.params=this.proxyObservable(ne,"params"),ft.queryParams=this.proxyObservable(ne,"queryParams"),ft.fragment=this.proxyObservable(ne,"fragment"),ft.data=this.proxyObservable(ne,"data"),ft}proxyObservable(ne,ge){return ne.pipe((0,Xt.p)(ft=>!!ft),(0,on.n)(ft=>this.currentActivatedRoute$.pipe((0,Xt.p)(hn=>null!==hn&&hn.component===ft),(0,on.n)(hn=>hn&&hn.activatedRoute[ge]),(0,On.F)())))}updateActivatedRouteProxy(ne,ge){const ft=this.proxyMap.get(ne);if(!ft)throw new Error("Could not find activated route proxy for view");ft._futureSnapshot=ge._futureSnapshot,ft._routerState=ge._routerState,ft.snapshot=ge.snapshot,ft.outlet=ge.outlet,ft.component=ge.component,this.currentActivatedRoute$.next({component:ne,activatedRoute:ge})}static \u0275fac=function(ge){return new(ge||ve)(k.kS0("name"),k.kS0("tabs"),k.rXU(Ce.aZ),k.rXU(k.aKT),k.rXU(Te.Ix),k.rXU(k.SKi),k.rXU(Te.nX),k.rXU(ve,12))};static \u0275dir=k.FsC({type:ve,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})}return ve})();class Un{route;childContexts;parent;constructor(xe,ne,ge){this.route=xe,this.childContexts=ne,this.parent=ge}get(xe,ne){return xe===Te.nX?this.route:xe===Te.Zp?this.childContexts:this.parent.get(xe,ne)}}const tr=new u.nKC("");let pr=(()=>{class ve{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(ne){this.unsubscribeFromRouteData(ne),this.subscribeToRouteData(ne)}unsubscribeFromRouteData(ne){this.outletDataSubscriptions.get(ne)?.unsubscribe(),this.outletDataSubscriptions.delete(ne)}subscribeToRouteData(ne){const{activatedRoute:ge}=ne,ft=(0,Gn.z)([ge.queryParams,ge.params,ge.data]).pipe((0,on.n)(([hn,Sn,F],Ee)=>(F={...hn,...Sn,...F},0===Ee?(0,cn.of)(F):Promise.resolve(F)))).subscribe(hn=>{if(!ne.isActivated||!ne.activatedComponentRef||ne.activatedRoute!==ge||null===ge.component)return void this.unsubscribeFromRouteData(ne);const Sn=(0,$.HJs)(ge.component);if(Sn)for(const{templateName:F}of Sn.inputs)ne.activatedComponentRef.setInput(F,hn[F]);else this.unsubscribeFromRouteData(ne)});this.outletDataSubscriptions.set(ne,ft)}static \u0275fac=function(ge){return new(ge||ve)};static \u0275prov=u.jDH({token:ve,factory:ve.\u0275fac})}return ve})();const zr=()=>({provide:tr,useFactory:Ki,deps:[Te.Ix]});function Ki(ve){return ve?.componentInputBindingEnabled?new pr:null}const xo=ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):setTimeout(ve);let po=(()=>{class ve{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(ne,ge){this.injector=ne,this.elementRef=ge}writeValue(ne){this.elementRef.nativeElement.value=this.lastValue=ne,Zr(this.elementRef)}handleValueChange(ne,ge){ne===this.elementRef.nativeElement&&(ge!==this.lastValue&&(this.lastValue=ge,this.onChange(ge)),Zr(this.elementRef))}_handleBlurEvent(ne){ne===this.elementRef.nativeElement?(this.onTouched(),Zr(this.elementRef)):ne.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(ne){this.onChange=ne}registerOnTouched(ne){this.onTouched=ne}setDisabledState(ne){this.elementRef.nativeElement.disabled=ne}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ne;try{ne=this.injector.get(gt.vO)}catch{}if(!ne)return;ne.statusChanges&&(this.statusChanges=ne.statusChanges.subscribe(()=>Zr(this.elementRef)));const ge=ne.control;ge&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(hn=>{if(typeof ge[hn]<"u"){const Sn=ge[hn].bind(ge);ge[hn]=(...F)=>{Sn(...F),Zr(this.elementRef)}}})}static \u0275fac=function(ge){return new(ge||ve)(k.rXU(u.zZn),k.rXU(k.aKT))};static \u0275dir=k.FsC({type:ve,hostBindings:function(ge,ft){1&ge&&k.bIt("ionBlur",function(Sn){return ft._handleBlurEvent(Sn.target)})},standalone:!1})}return ve})();const Zr=ve=>{xo(()=>{const xe=ve.nativeElement,ne=null!=xe.value&&xe.value.toString().length>0,ge=gi(xe);io(xe,ge);const ft=xe.closest("ion-item");ft&&io(ft,ne?[...ge,"item-has-value"]:ge)})},gi=ve=>{const xe=ve.classList,ne=[];for(let ge=0;ge<xe.length;ge++){const ft=xe.item(ge);null!==ft&&Ao(ft,"ng-")&&ne.push(`ion-${ft.substring(3)}`)}return ne},io=(ve,xe)=>{const ne=ve.classList;ne.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ne.add(...xe)},Ao=(ve,xe)=>ve.substring(0,xe.length)===xe,yo=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let ko=(()=>{let ve=class gR{routerOutlet;navCtrl;config;r;z;el;constructor(ne,ge,ft,hn,Sn,F){this.routerOutlet=ne,this.navCtrl=ge,this.config=ft,this.r=hn,this.z=Sn,F.detach(),this.el=this.r.nativeElement}onClick(ne){const ge=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ne.preventDefault()):null!=ge&&(this.navCtrl.navigateBack(ge,{animation:this.routerAnimation}),ne.preventDefault())}static \u0275fac=function(ge){return new(ge||gR)(k.rXU(Qt,8),k.rXU(Ii),k.rXU(ri),k.rXU(k.aKT),k.rXU(k.SKi),k.rXU($.gRc))};static \u0275dir=k.FsC({type:gR,hostBindings:function(ge,ft){1&ge&&k.bIt("click",function(Sn){return ft.onClick(Sn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})};return ve=(0,cr.Cg)([Rr({inputs:yo})],ve),ve})();const oo=["animated","animation","root","rootParams","swipeGesture"],bo=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Oi=(()=>{let ve=class mR{z;el;constructor(ne,ge,ft,hn,Sn,F){this.z=Sn,F.detach(),this.el=ne.nativeElement,ne.nativeElement.delegate=hn.create(ge,ft),Lr(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(ge){return new(ge||mR)(k.rXU(k.aKT),k.rXU(u.uvJ),k.rXU(u.zZn),k.rXU(Ti),k.rXU(k.SKi),k.rXU($.gRc))};static \u0275dir=k.FsC({type:mR,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})};return ve=(0,cr.Cg)([Rr({inputs:oo,methods:bo})],ve),ve})(),Li=(()=>{class ve{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(ne,ge,ft,hn,Sn){this.locationStrategy=ne,this.navCtrl=ge,this.elementRef=ft,this.router=hn,this.routerLink=Sn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const ge=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(ge.tagName)&&"0"===ge.getAttribute("tabindex")&&ge.removeAttribute("tabindex")}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const ne=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ne}}onClick(ne){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ne.preventDefault()}static \u0275fac=function(ge){return new(ge||ve)(k.rXU(Ce.hb),k.rXU(Ii),k.rXU(k.aKT),k.rXU(Te.Ix),k.rXU(fe.Wk,8))};static \u0275dir=k.FsC({type:ve,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ge,ft){1&ge&&k.bIt("click",function(Sn){return ft.onClick(Sn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},standalone:!1,features:[k.OA$]})}return ve})(),qi=(()=>{class ve{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(ne,ge,ft,hn,Sn){this.locationStrategy=ne,this.navCtrl=ge,this.elementRef=ft,this.router=hn,this.routerLink=Sn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const ne=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ne}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(ge){return new(ge||ve)(k.rXU(Ce.hb),k.rXU(Ii),k.rXU(k.aKT),k.rXU(Te.Ix),k.rXU(fe.Wk,8))};static \u0275dir=k.FsC({type:ve,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ge,ft){1&ge&&k.bIt("click",function(){return ft.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},standalone:!1,features:[k.OA$]})}return ve})(),Mi=(()=>{class ve{navCtrl;tabsInner;ionTabsWillChange=new k.bkB;ionTabsDidChange=new k.bkB;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(ne){this.navCtrl=ne}ngAfterViewInit(){const ne=this.tabs.length>0?this.tabs.first:void 0;ne&&(this.hasTab=!0,this.setActiveTab(ne.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ne,tabSwitch:ge}){const ft=ne.stackId;ge&&void 0!==ft&&this.ionTabsWillChange.emit({tab:ft})}onStackDidChange({enteringView:ne,tabSwitch:ge}){const ft=ne.stackId;ge&&void 0!==ft&&(this.tabBar&&(this.tabBar.selectedTab=ft),this.ionTabsDidChange.emit({tab:ft}))}select(ne){const ge="string"==typeof ne,ft=ge?ne:ne.detail.tab;if(this.hasTab)return this.setActiveTab(ft),void this.tabSwitch();const hn=this.outlet.getActiveStackId()===ft,Sn=`${this.outlet.tabsPrefix}/${ft}`;if(ge||ne.stopPropagation(),hn){const F=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(F)?.url===Sn)return;const Z=this.outlet.getRootView(ft);return this.navCtrl.navigateRoot(Sn,{...Z&&Sn===Z.url&&Z.savedExtras,animated:!0,animationDirection:"back"})}{const F=this.outlet.getLastRouteView(ft),Ee=F?.url||Sn,Z=F?.savedExtras;return this.navCtrl.navigateRoot(Ee,{...Z,animated:!0,animationDirection:"back"})}}setActiveTab(ne){const ft=this.tabs.find(hn=>hn.tab===ne);ft?(this.leavingTab=this.selectedTab,this.selectedTab=ft,this.ionTabsWillChange.emit({tab:ne}),ft.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ne}" does not exist`)}tabSwitch(){const{selectedTab:ne,leavingTab:ge}=this;this.tabBar&&ne&&(this.tabBar.selectedTab=ne.tab),ge?.tab!==ne?.tab&&ge?.el&&(ge.el.active=!1),ne&&this.ionTabsDidChange.emit({tab:ne.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ne=>{const ge=ne.el.getAttribute("slot");ge!==this.tabBarSlot&&(this.tabBarSlot=ge,this.relocateTabBar())})}relocateTabBar(){const ne=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ne):this.tabsInner.nativeElement.after(ne)}static \u0275fac=function(ge){return new(ge||ve)(k.rXU(Ii))};static \u0275dir=k.FsC({type:ve,selectors:[["ion-tabs"]],viewQuery:function(ge,ft){if(1&ge&&k.GBs(gr,7,k.aKT),2&ge){let hn;k.mGM(hn=k.lsd())&&(ft.tabsInner=hn.first)}},hostBindings:function(ge,ft){1&ge&&k.bIt("ionTabButtonClick",function(Sn){return ft.select(Sn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1})}return ve})();class ji{ctrl;constructor(xe){this.ctrl=xe}create(xe){return this.ctrl.create(xe||{})}dismiss(xe,ne,ge){return this.ctrl.dismiss(xe,ne,ge)}getTop(){return this.ctrl.getTop()}}class so{shouldDetach(xe){return!1}shouldAttach(xe){return!1}store(xe,ne){}retrieve(xe){return null}shouldReuseRoute(xe,ne){if(xe.routeConfig!==ne.routeConfig)return!1;const ge=xe.params,ft=ne.params,hn=Object.keys(ge),Sn=Object.keys(ft);if(hn.length!==Sn.length)return!1;for(const F of hn)if(ft[F]!==ge[F])return!1;return!0}}},5055:(Ln,Tt,L)=>{"use strict";L.d(Tt,{l:()=>k});var h=L(3494),u=L(8071);function k($){return(0,u.T)($[h.s])}},5196:(Ln,Tt,L)=>{"use strict";L.d(Tt,{C:()=>k,U:()=>$});var h=L(1635),u=L(8071);function k(Te){return(0,h.AQ)(this,arguments,function*(){const Ce=Te.getReader();try{for(;;){const{value:He,done:Se}=yield(0,h.N3)(Ce.read());if(Se)return yield(0,h.N3)(void 0);yield yield(0,h.N3)(He)}}finally{Ce.releaseLock()}})}function $(Te){return(0,u.T)(Te?.getReader)}},5225:(Ln,Tt,L)=>{"use strict";function h(u,k,$,Te=0,fe=!1){const Ce=k.schedule(function(){$(),fe?u.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(u.add(Ce),!fe)return Ce}L.d(Tt,{N:()=>h})},5334:(Ln,Tt,L)=>{"use strict";L.d(Tt,{m:()=>k});var h=L(1026),u=L(9270);function k($){u.f.setTimeout(()=>{const{onUnhandledError:Te}=h.$;if(!Te)throw $;Te($)})}},5343:(Ln,Tt,L)=>{"use strict";function h(){}L.d(Tt,{l:()=>h})},5397:(Ln,Tt,L)=>{"use strict";L.d(Tt,{x:()=>k});var h=L(4761),u=L(8071);function k($){return(0,u.T)($?.[h.l])}},5398:(Ln,Tt,L)=>{"use strict";L.d(Tt,{$b:()=>u,Ey:()=>Se,He:()=>He,Vy:()=>Ce});const h=[];var u=function(le){return le[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",le}(u||{});const k={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},$=u.INFO,Te={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},fe=(le,pe,...Pe)=>{if(pe<le.logLevel)return;const Me=(new Date).toISOString(),Le=Te[pe];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Le](`[${Me}]  ${le.name}:`,...Pe)};class Ce{constructor(pe){this.name=pe,this._logLevel=$,this._logHandler=fe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in u))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?k[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...pe),this._logHandler(this,u.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...pe),this._logHandler(this,u.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,u.INFO,...pe),this._logHandler(this,u.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,u.WARN,...pe),this._logHandler(this,u.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...pe),this._logHandler(this,u.ERROR,...pe)}}function He(le){h.forEach(pe=>{pe.setLogLevel(le)})}function Se(le,pe){for(const Pe of h){let Me=null;pe&&pe.level&&(Me=k[pe.level]),Pe.userLogHandler=null===le?null:(Le,We,...st)=>{const it=st.map(et=>{if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch{return null}}).filter(et=>et).join(" ");We>=(Me??Le.logLevel)&&le({level:u[We].toLowerCase(),message:it,args:st,type:Le.name})}}}},5558:(Ln,Tt,L)=>{"use strict";L.d(Tt,{n:()=>$});var h=L(8750),u=L(9974),k=L(4360);function $(Te,fe){return(0,u.N)((Ce,He)=>{let Se=null,le=0,pe=!1;const Pe=()=>pe&&!Se&&He.complete();Ce.subscribe((0,k._)(He,Me=>{Se?.unsubscribe();let Le=0;const We=le++;(0,h.Tg)(Te(Me,We)).subscribe(Se=(0,k._)(He,st=>He.next(fe?fe(Me,st,We,Le++):st),()=>{Se=null,Pe()}))},()=>{pe=!0,Pe()}))})}},5705:(Ln,Tt,L)=>{"use strict";L.d(Tt,{B:()=>et,F:()=>Vi,a:()=>cn,b:()=>Ni,c:()=>hn,d:()=>gi,e:()=>Te,f:()=>Me,g:()=>ft,h:()=>po,i:()=>ee,j:()=>Le,k:()=>Xt,l:()=>fe,m:()=>He,n:()=>Ce,o:()=>ne,q:()=>xe,r:()=>ct,t:()=>We,w:()=>cr});var h=L(467);class ${constructor(){this.m=new Map}reset(U){this.m=new Map(Object.entries(U))}get(U,te){const de=this.m.get(U);return void 0!==de?de:te}getBoolean(U,te=!1){const de=this.m.get(U);return void 0===de?te:"string"==typeof de?"true"===de:!!de}getNumber(U,te){const de=parseFloat(this.m.get(U));return isNaN(de)?void 0!==te?te:NaN:de}set(U,te){this.m.set(U,te)}}const Te=new $,fe=R=>{try{const U=R.sessionStorage.getItem(pe);return null!==U?JSON.parse(U):{}}catch{return{}}},Ce=(R,U)=>{try{R.sessionStorage.setItem(pe,JSON.stringify(U))}catch{return}},He=R=>{const U={};return R.location.search.slice(1).split("&").map(te=>te.split("=")).map(([te,de])=>{try{return[decodeURIComponent(te),decodeURIComponent(de)]}catch{return["",""]}}).filter(([te])=>Se(te,le)).map(([te,de])=>[te.slice(le.length),de]).forEach(([te,de])=>{U[te]=de}),U},Se=(R,U)=>R.substr(0,U.length)===U,le="ionic:",pe="ionic-persist-config";var Pe=function(R){return R.OFF="OFF",R.ERROR="ERROR",R.WARN="WARN",R}(Pe||{});const Me=(R,...U)=>{const te=Te.get("logLevel",Pe.WARN);if([Pe.WARN].includes(te))return console.warn(`[Ionic Warning]: ${R}`,...U)},Le=(R,...U)=>{const te=Te.get("logLevel",Pe.ERROR);if([Pe.ERROR,Pe.WARN].includes(te))return console.error(`[Ionic Error]: ${R}`,...U)},We=(R,...U)=>console.error(`<${R.tagName.toLowerCase()}> must be used inside ${U.join(" or ")}.`);var st=Object.defineProperty,et={isBrowser:!0},Fe=(R=>(R.Undefined="undefined",R.Null="null",R.String="string",R.Number="number",R.SpecialNumber="number",R.Boolean="boolean",R.BigInt="bigint",R))(Fe||{}),dt=(R=>(R.Array="array",R.Date="date",R.Map="map",R.Object="object",R.RegularExpression="regexp",R.Set="set",R.Channel="channel",R.Symbol="symbol",R))(dt||{}),ke="type",Ve="value",Ze="serialized:",_t=R=>{if(R.__stencil__getHostRef)return R.__stencil__getHostRef()},ct=(R,U)=>{U&&(R.__stencil__getHostRef=()=>U,U.$lazyInstance$=R)},ln=(R,U)=>U in R,ut=(R,U)=>(0,console.error)(R,U),Mn=new Map,kt=new Map,ht=[],Ue="s-id",we="sty-id",Gt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ht="http://www.w3.org/1999/xlink",yn=typeof window<"u"?window:{},In={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,U,te,de)=>R.addEventListener(U,te,de),rel:(R,U,te,de)=>R.removeEventListener(U,te,de),ce:(R,U)=>new CustomEvent(R,U)},Tn=(()=>{var R;let U=!1;try{null==(R=yn.document)||R.addEventListener("e",null,Object.defineProperty({},"passive",{get(){U=!0}}))}catch{}return U})(),Pt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rt=!!Pt&&!!yn.document&&Object.getOwnPropertyDescriptor(yn.document.adoptedStyleSheets,"length").writable,Bt=!1,vn=[],ar=[],br=(R,U)=>te=>{R.push(te),Bt||(Bt=!0,U&&4&In.$flags$?Gn(fr):In.raf(fr))},Sr=R=>{for(let U=0;U<R.length;U++)try{R[U](performance.now())}catch(te){ut(te)}R.length=0},fr=()=>{Sr(vn),Sr(ar),(Bt=vn.length>0)&&In.raf(fr)},Gn=R=>Promise.resolve(void 0).then(R),cn=br(vn,!1),cr=br(ar,!0),Xt=R=>{const U=new URL(R,In.$resourcesUrl$);return U.origin!==yn.location.origin?U.href:U.pathname},On=R=>"object"==(R=typeof R)||"function"===R;function gt(R){var U,te,de;return null!=(de=null==(te=null==(U=R.head)?void 0:U.querySelector('meta[name="csp-nonce"]'))?void 0:te.getAttribute("content"))?de:void 0}var Mr=class dm{static fromLocalValue(U){const te=U[ke],de=Ve in U?U[Ve]:void 0;switch(te){case"string":case"boolean":return de;case"bigint":return BigInt(de);case"undefined":return;case"null":return null;case"number":return"NaN"===de?NaN:"-0"===de?-0:"Infinity"===de?1/0:"-Infinity"===de?-1/0:de;case"array":return de.map(Lt=>dm.fromLocalValue(Lt));case"date":return new Date(de);case"map":const Je=new Map;for(const[Lt,en]of de){const Pn="object"==typeof Lt&&null!==Lt?dm.fromLocalValue(Lt):Lt,An=dm.fromLocalValue(en);Je.set(Pn,An)}return Je;case"object":const Ge={};for(const[Lt,en]of de)Ge[Lt]=dm.fromLocalValue(en);return Ge;case"regexp":const{pattern:Zt,flags:Ot}=de;return new RegExp(Zt,Ot);case"set":const rn=new Set;for(const Lt of de)rn.add(dm.fromLocalValue(Lt));return rn;case"symbol":return Symbol(de);default:throw new Error(`Unsupported type: ${te}`)}}static fromLocalValueArray(U){return U.map(te=>dm.fromLocalValue(te))}static isLocalValueObject(U){if("object"!=typeof U||null===U||!U.hasOwnProperty(ke))return!1;const te=U[ke];return!!Object.values({...Fe,...dt}).includes(te)&&("null"===te||"undefined"===te||U.hasOwnProperty(Ve))}};((R,U)=>{for(var te in U)st(R,te,{get:U[te],enumerable:!0})})({},{err:()=>Jr,map:()=>Ur,ok:()=>ai,unwrap:()=>Hr,unwrapErr:()=>Ii});var ai=R=>({isOk:!0,isErr:!1,value:R}),Jr=R=>({isOk:!1,isErr:!0,value:R});function Ur(R,U){if(R.isOk){const te=U(R.value);return te instanceof Promise?te.then(de=>ai(de)):ai(te)}if(R.isErr)return Jr(R.value);throw"should never get here"}var jr,Hr=R=>{if(R.isOk)return R.value;throw R.value},Ii=R=>{if(R.isErr)return R.value;throw R.value};function ri(R){const te=this.attachShadow({mode:"open",delegatesFocus:!!(16&R.$flags$)});void 0===jr&&(jr=null),jr&&(rt?te.adoptedStyleSheets.push(jr):te.adoptedStyleSheets=[...te.adoptedStyleSheets,jr])}var Pi=R=>{const U=Qe(R,"childNodes");R.tagName&&R.tagName.includes("-")&&R["s-cr"]&&"SLOT-FB"!==R.tagName&&ii(U,R.tagName).forEach(de=>{1===de.nodeType&&"SLOT-FB"===de.tagName&&(de.hidden=!!$i(de,Be(de),!1).length)});let te=0;for(te=0;te<U.length;te++){const de=U[te];1===de.nodeType&&Qe(de,"childNodes").length&&Pi(de)}},si=R=>{const U=[];for(let te=0;te<R.length;te++){const de=R[te]["s-nr"]||void 0;de&&de.isConnected&&U.push(de)}return U};function ii(R,U,te){let Ge,de=0,Je=[];for(;de<R.length;de++){if(Ge=R[de],Ge["s-sr"]&&(!U||Ge["s-hn"]===U)&&(void 0===te||Be(Ge)===te)&&(Je.push(Ge),typeof te<"u"))return Je;Je=[...Je,...ii(Ge.childNodes,U,te)]}return Je}var $i=(R,U,te=!0)=>{const de=[];(te&&R["s-sr"]||!R["s-sr"])&&de.push(R);let Je=R;for(;Je=Je.nextSibling;)Be(Je)===U&&(te||!Je["s-sr"])&&de.push(Je);return de},Ti=(R,U)=>1===R.nodeType?null===R.getAttribute("slot")&&""===U||R.getAttribute("slot")===U:R["s-sn"]===U||""===U,Wr=(R,U,te,de)=>{if(R["s-ol"]&&R["s-ol"].isConnected)return;const Je=document.createTextNode("");if(Je["s-nr"]=R,!U["s-cr"]||!U["s-cr"].parentNode)return;const Ge=U["s-cr"].parentNode,Zt=Qe(Ge,te?"prepend":"appendChild");if(typeof de<"u"){Je["s-oo"]=de;const Ot=Qe(Ge,"childNodes"),rn=[Je];Ot.forEach(Lt=>{Lt["s-nr"]&&rn.push(Lt)}),rn.sort((Lt,en)=>!Lt["s-oo"]||Lt["s-oo"]<(en["s-oo"]||0)?-1:!en["s-oo"]||en["s-oo"]<Lt["s-oo"]?1:0),rn.forEach(Lt=>Zt.call(Ge,Lt))}else Zt.call(Ge,Je);R["s-ol"]=Je,R["s-sh"]=U["s-hn"]},Be=R=>"string"==typeof R["s-sn"]?R["s-sn"]:1===R.nodeType&&R.getAttribute("slot")||void 0;function $e(R){if(R.assignedElements||R.assignedNodes||!R["s-sr"])return;const U=te=>function(de){const Je=[],Ge=this["s-sn"];de?.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const Zt=this["s-cr"].parentElement;return(Zt.__childNodes?Zt.childNodes:si(Zt.childNodes)).forEach(rn=>{Ge===Be(rn)&&Je.push(rn)}),te?Je.filter(rn=>1===rn.nodeType):Je}.bind(R);R.assignedElements=U(!0),R.assignedNodes=U(!1)}function nt(R){R.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function Kt(R,U){var te;if(!(U=U||(null==(te=R["s-ol"])?void 0:te.parentElement)))return{slotNode:null,slotName:""};const de=R["s-sn"]=Be(R)||"";return{slotNode:ii(Qe(U,"childNodes"),U.tagName,de)[0],slotName:de}}var Vn=R=>{const U=R.cloneNode;R.cloneNode=function(te){const Je=this.shadowRoot&&true,Ge=U.call(this,!!Je&&te);if(!Je&&te){let Ot,rn,Zt=0;const Lt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"],en=this.__childNodes||this.childNodes;for(;Zt<en.length;Zt++)Ot=en[Zt]["s-nr"],rn=Lt.every(Pn=>!en[Zt][Pn]),Ot&&(Ge.__appendChild?Ge.__appendChild(Ot.cloneNode(!0)):Ge.appendChild(Ot.cloneNode(!0))),rn&&Ge.appendChild(en[Zt].cloneNode(!0))}return Ge}},Kn=R=>{R.__appendChild=R.appendChild,R.appendChild=function(U){const{slotName:te,slotNode:de}=Kt(U,this);if(de){Wr(U,de);const Je=$i(de,te),Ge=Je[Je.length-1],Zt=Qe(Ge,"parentNode"),Ot=Qe(Zt,"insertBefore")(U,Ge.nextSibling);return nt(de),Pi(this),Ot}return this.__appendChild(U)}},Fr=R=>{R.__removeChild=R.removeChild,R.removeChild=function(U){return U&&typeof U["s-sn"]<"u"&&ii(this.__childNodes||this.childNodes,this.tagName,U["s-sn"])&&U.isConnected?(U.remove(),void Pi(this)):this.__removeChild(U)}},Lr=R=>{R.__prepend=R.prepend,R.prepend=function(...U){U.forEach(te=>{"string"==typeof te&&(te=this.ownerDocument.createTextNode(te));const de=(te["s-sn"]=Be(te))||"",Ge=ii(Qe(this,"childNodes"),this.tagName,de)[0];if(Ge){Wr(te,Ge,!0);const Ot=$i(Ge,de)[0],rn=Qe(Ot,"parentNode"),Lt=Qe(rn,"insertBefore")(te,Qe(Ot,"nextSibling"));return nt(Ge),Lt}return 1===te.nodeType&&te.getAttribute("slot")&&(te.hidden=!0),R.__prepend(te)})}},Rr=R=>{R.__append=R.append,R.append=function(...U){U.forEach(te=>{"string"==typeof te&&(te=this.ownerDocument.createTextNode(te)),this.appendChild(te)})}},Pr=R=>{const U=R.insertAdjacentHTML;R.insertAdjacentHTML=function(te,de){if("afterbegin"!==te&&"beforeend"!==te)return U.call(this,te,de);const Je=this.ownerDocument.createElement("_");let Ge;if(Je.innerHTML=de,"afterbegin"===te)for(;Ge=Je.firstChild;)this.prepend(Ge);else if("beforeend"===te)for(;Ge=Je.firstChild;)this.append(Ge)}},Hn=R=>{R.insertAdjacentText=function(U,te){this.insertAdjacentHTML(U,te)}},yr=R=>{R.__insertBefore||(R.__insertBefore=R.insertBefore,R.insertBefore=function(te,de){const{slotName:Je,slotNode:Ge}=Kt(te,this),Zt=this.__childNodes?this.childNodes:si(this.childNodes);if(Ge){let rn=!1;if(Zt.forEach(Lt=>{if(Lt!==de&&null!==de);else{if(rn=!0,null===de||Je!==de["s-sn"])return void this.appendChild(te);if(Je===de["s-sn"]){Wr(te,Ge);const en=Qe(de,"parentNode");Qe(en,"insertBefore")(te,de),nt(Ge)}}}),rn)return te}const Ot=de?.__parentNode;return Ot&&!this.isSameNode(Ot)?this.appendChild(te):this.__insertBefore(te,de)})},ui=R=>{const U=R.insertAdjacentElement;R.insertAdjacentElement=function(te,de){return"afterbegin"!==te&&"beforeend"!==te?U.call(this,te,de):"afterbegin"===te?(this.prepend(de),de):("beforeend"===te&&this.append(de),de)}},Dr=R=>{ye("textContent",R),Object.defineProperty(R,"textContent",{get:function(){let U="";return(this.__childNodes?this.childNodes:si(this.childNodes)).forEach(de=>U+=de.textContent||""),U},set:function(U){(this.__childNodes?this.childNodes:si(this.childNodes)).forEach(de=>{de["s-ol"]&&de["s-ol"].remove(),de.remove()}),this.insertAdjacentHTML("beforeend",U)}})},Di=R=>{class U extends Array{item(de){return this[de]}}ye("children",R),Object.defineProperty(R,"children",{get(){return this.childNodes.filter(te=>1===te.nodeType)}}),Object.defineProperty(R,"childElementCount",{get(){return this.children.length}}),ye("firstChild",R),Object.defineProperty(R,"firstChild",{get(){return this.childNodes[0]}}),ye("lastChild",R),Object.defineProperty(R,"lastChild",{get(){return this.childNodes[this.childNodes.length-1]}}),ye("childNodes",R),Object.defineProperty(R,"childNodes",{get(){const te=new U;return te.push(...si(this.__childNodes)),te}})},pi=R=>{!R||void 0!==R.__nextSibling||!globalThis.Node||(Gr(R),li(R),xt(R),R.nodeType===Node.ELEMENT_NODE&&(Ci(R),ki(R)))},Gr=R=>{!R||R.__nextSibling||(ye("nextSibling",R),Object.defineProperty(R,"nextSibling",{get:function(){var U;const te=null==(U=this["s-ol"])?void 0:U.parentNode.childNodes,de=te?.indexOf(this);return te&&de>-1?te[de+1]:this.__nextSibling}}))},Ci=R=>{!R||R.__nextElementSibling||(ye("nextElementSibling",R),Object.defineProperty(R,"nextElementSibling",{get:function(){var U;const te=null==(U=this["s-ol"])?void 0:U.parentNode.children,de=te?.indexOf(this);return te&&de>-1?te[de+1]:this.__nextElementSibling}}))},li=R=>{!R||R.__previousSibling||(ye("previousSibling",R),Object.defineProperty(R,"previousSibling",{get:function(){var U;const te=null==(U=this["s-ol"])?void 0:U.parentNode.childNodes,de=te?.indexOf(this);return te&&de>-1?te[de-1]:this.__previousSibling}}))},ki=R=>{!R||R.__previousElementSibling||(ye("previousElementSibling",R),Object.defineProperty(R,"previousElementSibling",{get:function(){var U;const te=null==(U=this["s-ol"])?void 0:U.parentNode.children,de=te?.indexOf(this);return te&&de>-1?te[de-1]:this.__previousElementSibling}}))},xt=R=>{!R||R.__parentNode||(ye("parentNode",R),Object.defineProperty(R,"parentNode",{get:function(){var U;return(null==(U=this["s-ol"])?void 0:U.parentNode)||this.__parentNode},set:function(U){this.__parentNode=U}}))},It=["children","nextElementSibling","previousElementSibling"],nn=["childNodes","firstChild","lastChild","nextSibling","previousSibling","textContent","parentNode"];function ye(R,U){if(!globalThis.Node||!globalThis.Element)return;let te;It.includes(R)?te=Object.getOwnPropertyDescriptor(Element.prototype,R):nn.includes(R)&&(te=Object.getOwnPropertyDescriptor(Node.prototype,R)),te||(te=Object.getOwnPropertyDescriptor(U,R)),te&&Object.defineProperty(U,"__"+R,te)}function Qe(R,U){if("__"+U in R){const te=R["__"+U];return"function"!=typeof te?te:te.bind(R)}return"function"!=typeof R[U]?R[U]:R[U].bind(R)}var Qt=new WeakMap,Un=(R,U,te)=>{let de=kt.get(R);Pt&&te?(de=de||new CSSStyleSheet,"string"==typeof de?de=U:de.replaceSync(U)):de=U,kt.set(R,de)},tr=(R,U,te)=>{var de;const Je=zr(U,te),Ge=kt.get(Je);if(!yn.document)return Je;if(R=11===R.nodeType?R:yn.document,Ge)if("string"==typeof Ge){let Ot,Zt=Qt.get(R=R.head||R);if(Zt||Qt.set(R,Zt=new Set),!Zt.has(Je)){if(R.host&&(Ot=R.querySelector(`[${we}="${Je}"]`)))Ot.innerHTML=Ge;else{Ot=yn.document.createElement("style"),Ot.innerHTML=Ge;const rn=null!=(de=In.$nonce$)?de:gt(yn.document);if(null!=rn&&Ot.setAttribute("nonce",rn),!(1&U.$flags$))if("HEAD"===R.nodeName){const Lt=R.querySelectorAll("link[rel=preconnect]"),en=Lt.length>0?Lt[Lt.length-1].nextSibling:R.querySelector("style");R.insertBefore(Ot,en?.parentNode===R?en:null)}else if("host"in R)if(Pt){const Lt=new CSSStyleSheet;Lt.replaceSync(Ge),rt?R.adoptedStyleSheets.unshift(Lt):R.adoptedStyleSheets=[Lt,...R.adoptedStyleSheets]}else{const Lt=R.querySelector("style");Lt?Lt.innerHTML=Ge+Lt.innerHTML:R.prepend(Ot)}else R.append(Ot);1&U.$flags$&&R.insertBefore(Ot,null)}4&U.$flags$&&(Ot.innerHTML+=Gt),Zt&&Zt.add(Je)}}else R.adoptedStyleSheets.includes(Ge)||(rt?R.adoptedStyleSheets.push(Ge):R.adoptedStyleSheets=[...R.adoptedStyleSheets,Ge]);return Je},zr=(R,U)=>"sc-"+(U&&32&R.$flags$?R.$tagName$+"-"+U:R.$tagName$),Ki=R=>R.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),po=(R,U,...te)=>{let de=null,Je=null,Ge=null,Zt=!1,Ot=!1;const rn=[],Lt=Pn=>{for(let An=0;An<Pn.length;An++)de=Pn[An],Array.isArray(de)?Lt(de):null!=de&&"boolean"!=typeof de&&((Zt="function"!=typeof R&&!On(de))&&(de=String(de)),Zt&&Ot?rn[rn.length-1].$text$+=de:rn.push(Zt?Zr(null,de):de),Ot=Zt)};if(Lt(te),U){U.key&&(Je=U.key),U.name&&(Ge=U.name);{const Pn=U.className||U.class;Pn&&(U.class="object"!=typeof Pn?Pn:Object.keys(Pn).filter(An=>Pn[An]).join(" "))}}if("function"==typeof R)return R(null===U?{}:U,rn,Ao);const en=Zr(R,null);return en.$attrs$=U,rn.length>0&&(en.$children$=rn),en.$key$=Je,en.$name$=Ge,en},Zr=(R,U)=>({$flags$:0,$tag$:R,$text$:U,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),gi={},Ao={forEach:(R,U)=>R.map(yo).forEach(U),map:(R,U)=>R.map(yo).map(U).map(ko)},yo=R=>({vattrs:R.$attrs$,vchildren:R.$children$,vkey:R.$key$,vname:R.$name$,vtag:R.$tag$,vtext:R.$text$}),ko=R=>{if("function"==typeof R.vtag){const te={...R.vattrs};return R.vkey&&(te.key=R.vkey),R.vname&&(te.name=R.vname),po(R.vtag,te,...R.vchildren||[])}const U=Zr(R.vtag,R.vtext);return U.$attrs$=R.vattrs,U.$children$=R.vchildren,U.$key$=R.vkey,U.$name$=R.vname,U},bo=(R,U,te,de,Je,Ge,Zt,Ot=[])=>{let rn,Lt,en,Pn;const An=Je["s-sc"];if(1===Ge.nodeType){if(rn=Ge.getAttribute("c-id"),rn&&(Lt=rn.split("."),Lt[0]===Zt||"0"===Lt[0])){en=Li({$flags$:0,$hostId$:Lt[0],$nodeId$:Lt[1],$depth$:Lt[2],$index$:Lt[3],$tag$:Ge.tagName.toLowerCase(),$elm$:Ge,$attrs$:{class:Ge.className||""}}),U.push(en),Ge.removeAttribute("c-id"),R.$children$||(R.$children$=[]),An&&Lt[0]===Zt&&(Ge["s-si"]=An,en.$attrs$.class+=" "+An);const Xn=en.$elm$.getAttribute("s-sn");"string"==typeof Xn&&("slot-fb"===en.$tag$&&(qi(Xn,Lt[2],en,Ge,R,U,te,de,Ot),An&&Ge.classList.add(An)),en.$elm$["s-sn"]=Xn,en.$elm$.removeAttribute("s-sn")),void 0!==en.$index$&&(R.$children$[en.$index$]=en),R=en,de&&"0"===en.$depth$&&(de[en.$index$]=en.$elm$)}if(Ge.shadowRoot)for(Pn=Ge.shadowRoot.childNodes.length-1;Pn>=0;Pn--)bo(R,U,te,de,Je,Ge.shadowRoot.childNodes[Pn],Zt,Ot);const sr=Ge.__childNodes||Ge.childNodes;for(Pn=sr.length-1;Pn>=0;Pn--)bo(R,U,te,de,Je,sr[Pn],Zt,Ot)}else if(8===Ge.nodeType)Lt=Ge.nodeValue.split("."),(Lt[1]===Zt||"0"===Lt[1])&&(rn=Lt[0],en=Li({$hostId$:Lt[1],$nodeId$:Lt[2],$depth$:Lt[3],$index$:Lt[4]||"0",$elm$:Ge,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===rn?(en.$elm$=ji(Ge,3),en.$elm$&&3===en.$elm$.nodeType&&(en.$text$=en.$elm$.textContent,U.push(en),Ge.remove(),Zt===en.$hostId$&&(R.$children$||(R.$children$=[]),R.$children$[en.$index$]=en),de&&"0"===en.$depth$&&(de[en.$index$]=en.$elm$))):"c"===rn?(en.$elm$=ji(Ge,8),en.$elm$&&8===en.$elm$.nodeType&&(U.push(en),Ge.remove())):en.$hostId$===Zt&&("s"===rn?qi(Ge["s-sn"]=Lt[5]||"",Lt[2],en,Ge,R,U,te,de,Ot):"r"===rn&&(de?Ge.remove():(Je["s-cr"]=Ge,Ge["s-cn"]=!0))));else if(R&&"style"===R.$tag$){const sr=Zr(null,Ge.textContent);sr.$elm$=Ge,sr.$index$="0",R.$children$=[sr]}else 3===Ge.nodeType&&!Ge.wholeText.trim()&&!Ge["s-nr"]&&Ge.remove();return R},Oi=(R,U)=>{if(1===R.nodeType){const te=R[Ue]||R.getAttribute(Ue);te&&U.set(te,R);let de=0;if(R.shadowRoot)for(;de<R.shadowRoot.childNodes.length;de++)Oi(R.shadowRoot.childNodes[de],U);const Je=R.__childNodes||R.childNodes;for(de=0;de<Je.length;de++)Oi(Je[de],U)}else if(8===R.nodeType){const te=R.nodeValue.split(".");"o"===te[0]&&(U.set(te[1]+"."+te[2],R),R.nodeValue="",R["s-en"]=te[3])}},Li=R=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...R});function qi(R,U,te,de,Je,Ge,Zt,Ot,rn){de["s-sr"]=!0,te.$name$=R||null,te.$tag$="slot";const Lt=Je?.$elm$?Je.$elm$["s-id"]||Je.$elm$.getAttribute("s-id"):"";if(Ot&&yn.document){const en=te.$elm$=yn.document.createElement(te.$tag$);te.$name$&&te.$elm$.setAttribute("name",R),Je.$elm$.shadowRoot&&Lt&&Lt!==te.$hostId$?Qe(Je.$elm$,"insertBefore")(en,Qe(Je.$elm$,"children")[0]):Qe(Qe(de,"parentNode"),"insertBefore")(en,de),Mi(rn,U,R,de,te.$hostId$),de.remove(),"0"===te.$depth$&&(Ot[te.$index$]=te.$elm$)}else{const en=te.$elm$,Pn=Lt&&Lt!==te.$hostId$&&Je.$elm$.shadowRoot;Mi(rn,U,R,de,Pn?Lt:te.$hostId$),$e(de),Pn&&Je.$elm$.insertBefore(en,Je.$elm$.children[0])}Ge.push(te),Zt.push(te),Je.$children$||(Je.$children$=[]),Je.$children$[te.$index$]=te}var Mi=(R,U,te,de,Je)=>{var Ge,Zt;let Ot=de.nextSibling;if(R[U]=R[U]||[],Ot&&(null==(Ge=Ot.nodeValue)||!Ge.startsWith("s.")))do{Ot&&((Ot.getAttribute&&Ot.getAttribute("slot")||Ot["s-sn"])===te||""===te&&!Ot["s-sn"]&&(!Ot.getAttribute||!Ot.getAttribute("slot"))&&(8===Ot.nodeType||3===Ot.nodeType))&&(Ot["s-sn"]=te,R[U].push({slot:de,node:Ot,hostId:Je})),Ot=Ot?.nextSibling}while(Ot&&(null==(Zt=Ot.nodeValue)||!Zt.startsWith("s.")))},ji=(R,U)=>{let te=R;do{te=te.nextSibling}while(te&&(te.nodeType!==U||!te.nodeValue));return te},so=R=>{const U=(R=>R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(R);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${U}))(${U}\\b)`,"g")};so("::slotted"),so(":host"),so(":host-context");var xe=R=>ht.push(R),ne=R=>{var U;return null==(U=_t(R))?void 0:U.$modeName$},ge=(R,U,te)=>"string"==typeof R&&R.startsWith(Ze)?R=function Fn(R){return"string"==typeof R&&R.startsWith(Ze)?Mr.fromLocalValue(JSON.parse(atob(R.slice(11)))):R}(R):null==R||On(R)?R:4&U?"false"!==R&&(""===R||!!R):2&U?"string"==typeof R?parseFloat(R):"number"==typeof R?R:NaN:1&U?String(R):R,ft=R=>{var U;return null==(U=_t(R))?void 0:U.$hostElement$},hn=(R,U,te)=>{const de=ft(R);return{emit:Je=>Sn(de,U,{bubbles:!!(4&te),composed:!!(2&te),cancelable:!!(1&te),detail:Je})}},Sn=(R,U,te)=>{const de=In.ce(U,te);return R.dispatchEvent(de),de},F=(R,U,te,de,Je,Ge,Zt)=>{if(te===de)return;let Ot=ln(R,U),rn=U.toLowerCase();if("class"===U){const Lt=R.classList,en=Z(te);let Pn=Z(de);if((R["s-si"]||R["s-sc"])&&Zt){const An=R["s-sc"]||R["s-si"];Pn.push(An),en.forEach(sr=>{sr.startsWith(An)&&Pn.push(sr)}),Pn=[...new Set(Pn)].filter(sr=>sr),Lt.add(...Pn)}else Lt.remove(...en.filter(An=>An&&!Pn.includes(An))),Lt.add(...Pn.filter(An=>An&&!en.includes(An)))}else if("style"===U){for(const Lt in te)(!de||null==de[Lt])&&(Lt.includes("-")?R.style.removeProperty(Lt):R.style[Lt]="");for(const Lt in de)(!te||de[Lt]!==te[Lt])&&(Lt.includes("-")?R.style.setProperty(Lt,de[Lt]):R.style[Lt]=de[Lt])}else if("key"!==U)if("ref"===U)de&&de(R);else if(Ot||"o"!==U[0]||"n"!==U[1]){const Lt=On(de);if((Ot||Lt&&null!==de)&&!Je)try{if(R.tagName.includes("-"))R[U]!==de&&(R[U]=de);else{const Pn=de??"";"list"===U?Ot=!1:(null==te||R[U]!=Pn)&&("function"==typeof R.__lookupSetter__(U)?R[U]=Pn:R.setAttribute(U,Pn))}}catch{}let en=!1;rn!==(rn=rn.replace(/^xlink\:?/,""))&&(U=rn,en=!0),null==de||!1===de?(!1!==de||""===R.getAttribute(U))&&(en?R.removeAttributeNS(Ht,U):R.removeAttribute(U)):(!Ot||4&Ge||Je)&&!Lt&&1===R.nodeType&&(de=!0===de?"":de,en?R.setAttributeNS(Ht,U,de):R.setAttribute(U,de))}else if(U="-"===U[2]?U.slice(3):ln(yn,rn)?rn.slice(2):rn[2]+U.slice(3),te||de){const Lt=U.endsWith(ue);U=U.replace(ot,""),te&&In.rel(R,U,te,Lt),de&&In.ael(R,U,de,Lt)}},Ee=/\s/,Z=R=>("object"==typeof R&&R&&"baseVal"in R&&(R=R.baseVal),R&&"string"==typeof R?R.split(Ee):[]),ue="Capture",ot=new RegExp(ue+"$"),un=(R,U,te,de)=>{const Je=11===U.$elm$.nodeType&&U.$elm$.host?U.$elm$.host:U.$elm$,Ge=R&&R.$attrs$||{},Zt=U.$attrs$||{};for(const Ot of Dn(Object.keys(Ge)))Ot in Zt||F(Je,Ot,Ge[Ot],void 0,te,U.$flags$,de);for(const Ot of Dn(Object.keys(Zt)))F(Je,Ot,Ge[Ot],Zt[Ot],te,U.$flags$,de)};function Dn(R){return R.includes("ref")?[...R.filter(U=>"ref"!==U),"ref"]:R}var mn,xr,wr,kr=!1,nr=!1,Kr=!1,Ir=!1,Xr=(R,U,te)=>{var de;const Je=U.$children$[te];let Zt,Ot,rn,Ge=0;if(kr||(Kr=!0,"slot"===Je.$tag$&&(Je.$flags$|=Je.$children$?2:1)),null!==Je.$text$)Zt=Je.$elm$=yn.document.createTextNode(Je.$text$);else if(1&Je.$flags$)Zt=Je.$elm$=yn.document.createTextNode(""),un(null,Je,Ir);else{if(Ir||(Ir="svg"===Je.$tag$),!yn.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(Zt=Je.$elm$=yn.document.createElementNS(Ir?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!kr&&2&Je.$flags$?"slot-fb":Je.$tag$),Ir&&"foreignObject"===Je.$tag$&&(Ir=!1),un(null,Je,Ir),(R=>null!=R&&void 0!==R)(mn)&&Zt["s-si"]!==mn&&Zt.classList.add(Zt["s-si"]=mn),Je.$children$)for(Ge=0;Ge<Je.$children$.length;++Ge)Ot=Xr(R,Je,Ge),Ot&&Zt.appendChild(Ot);"svg"===Je.$tag$?Ir=!1:"foreignObject"===Zt.tagName&&(Ir=!0)}return Zt["s-hn"]=wr,3&Je.$flags$&&(Zt["s-sr"]=!0,Zt["s-cr"]=xr,Zt["s-sn"]=Je.$name$||"",Zt["s-rf"]=null==(de=Je.$attrs$)?void 0:de.ref,$e(Zt),rn=R&&R.$children$&&R.$children$[te],rn&&rn.$tag$===Je.$tag$&&R.$elm$&&wo(R.$elm$),Lo(xr,Zt,U.$elm$,R?.$elm$)),Zt},wo=R=>{In.$flags$|=1;const U=R.closest(wr.toLowerCase());if(null!=U){const te=Array.from(U.__childNodes||U.childNodes).find(Je=>Je["s-cr"]),de=Array.from(R.__childNodes||R.childNodes);for(const Je of te?de.reverse():de)null!=Je["s-sh"]&&(Hi(U,Je,te??null),Je["s-sh"]=void 0,Kr=!0)}In.$flags$&=-2},So=(R,U)=>{In.$flags$|=1;const te=Array.from(R.__childNodes||R.childNodes);if(R["s-sr"]){let de=R;for(;de=de.nextSibling;)de&&de["s-sn"]===R["s-sn"]&&de["s-sh"]===wr&&te.push(de)}for(let de=te.length-1;de>=0;de--){const Je=te[de];Je["s-hn"]!==wr&&Je["s-ol"]&&(Hi(N(Je).parentNode,Je,N(Je)),Je["s-ol"].remove(),Je["s-ol"]=void 0,Je["s-sh"]=void 0,Kr=!0),U&&So(Je,U)}In.$flags$&=-2},Ro=(R,U,te,de,Je,Ge)=>{let Ot,Zt=R["s-cr"]&&R["s-cr"].parentNode||R;for(Zt.shadowRoot&&Zt.tagName===wr&&(Zt=Zt.shadowRoot);Je<=Ge;++Je)de[Je]&&(Ot=Xr(null,te,Je),Ot&&(de[Je].$elm$=Ot,Hi(Zt,Ot,N(U))))},H=(R,U,te)=>{for(let de=U;de<=te;++de){const Je=R[de];if(Je){const Ge=Je.$elm$;bi(Je),Ge&&(nr=!0,Ge["s-ol"]?Ge["s-ol"].remove():So(Ge,!0),Ge.remove())}}},X=(R,U,te=!1)=>R.$tag$===U.$tag$&&("slot"===R.$tag$?R.$name$===U.$name$:te?(te&&!R.$key$&&U.$key$&&(R.$key$=U.$key$),!0):R.$key$===U.$key$),N=R=>R&&R["s-ol"]||R,he=(R,U,te=!1)=>{const de=U.$elm$=R.$elm$,Je=R.$children$,Ge=U.$children$,Zt=U.$tag$,Ot=U.$text$;let rn;null===Ot?(Ir="svg"===Zt||"foreignObject"!==Zt&&Ir,"slot"===Zt&&!kr&&R.$name$!==U.$name$&&(U.$elm$["s-sn"]=U.$name$||"",wo(U.$elm$.parentElement)),un(R,U,Ir,te),null!==Je&&null!==Ge?((R,U,te,de,Je=!1)=>{let ei,$r,Ge=0,Zt=0,Ot=0,rn=0,Lt=U.length-1,en=U[0],Pn=U[Lt],An=de.length-1,sr=de[0],Xn=de[An];for(;Ge<=Lt&&Zt<=An;)if(null==en)en=U[++Ge];else if(null==Pn)Pn=U[--Lt];else if(null==sr)sr=de[++Zt];else if(null==Xn)Xn=de[--An];else if(X(en,sr,Je))he(en,sr,Je),en=U[++Ge],sr=de[++Zt];else if(X(Pn,Xn,Je))he(Pn,Xn,Je),Pn=U[--Lt],Xn=de[--An];else if(X(en,Xn,Je))("slot"===en.$tag$||"slot"===Xn.$tag$)&&So(en.$elm$.parentNode,!1),he(en,Xn,Je),Hi(R,en.$elm$,Pn.$elm$.nextSibling),en=U[++Ge],Xn=de[--An];else if(X(Pn,sr,Je))("slot"===en.$tag$||"slot"===Xn.$tag$)&&So(Pn.$elm$.parentNode,!1),he(Pn,sr,Je),Hi(R,Pn.$elm$,en.$elm$),Pn=U[--Lt],sr=de[++Zt];else{for(Ot=-1,rn=Ge;rn<=Lt;++rn)if(U[rn]&&null!==U[rn].$key$&&U[rn].$key$===sr.$key$){Ot=rn;break}Ot>=0?($r=U[Ot],$r.$tag$!==sr.$tag$?ei=Xr(U&&U[Zt],te,Ot):(he($r,sr,Je),U[Ot]=void 0,ei=$r.$elm$),sr=de[++Zt]):(ei=Xr(U&&U[Zt],te,Zt),sr=de[++Zt]),ei&&Hi(N(en.$elm$).parentNode,ei,N(en.$elm$))}Ge>Lt?Ro(R,null==de[An+1]?null:de[An+1].$elm$,te,de,Zt,An):Zt>An&&H(U,Ge,Lt)})(de,Je,U,Ge,te):null!==Ge?(null!==R.$text$&&(de.textContent=""),Ro(de,null,U,Ge,0,Ge.length-1)):te||null===Je?te&&null!==Je&&null===Ge&&(U.$children$=Je):H(Je,0,Je.length-1),Ir&&"svg"===Zt&&(Ir=!1)):(rn=de["s-cr"])?rn.parentNode.textContent=Ot:R.$text$!==Ot&&(de.data=Ot)},vr=[],qr=R=>{let U,te,de;const Je=R.__childNodes||R.childNodes;for(const Ge of Je){if(Ge["s-sr"]&&(U=Ge["s-cr"])&&U.parentNode){te=U.parentNode.__childNodes||U.parentNode.childNodes;const Zt=Ge["s-sn"];for(de=te.length-1;de>=0;de--)if(U=te[de],!(U["s-cn"]||U["s-nr"]||U["s-hn"]===Ge["s-hn"]||U["s-sh"]&&U["s-sh"]===Ge["s-hn"]))if(Ti(U,Zt)){let Ot=vr.find(rn=>rn.$nodeToRelocate$===U);nr=!0,U["s-sn"]=U["s-sn"]||Zt,Ot?(Ot.$nodeToRelocate$["s-sh"]=Ge["s-hn"],Ot.$slotRefNode$=Ge):(U["s-sh"]=Ge["s-hn"],vr.push({$slotRefNode$:Ge,$nodeToRelocate$:U})),U["s-sr"]&&vr.map(rn=>{Ti(rn.$nodeToRelocate$,U["s-sn"])&&(Ot=vr.find(Lt=>Lt.$nodeToRelocate$===U),Ot&&!rn.$slotRefNode$&&(rn.$slotRefNode$=Ot.$slotRefNode$))})}else vr.some(Ot=>Ot.$nodeToRelocate$===U)||vr.push({$nodeToRelocate$:U})}1===Ge.nodeType&&qr(Ge)}},bi=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(bi)},Hi=(R,U,te)=>{if("string"==typeof U["s-sn"]&&U["s-sr"]&&U["s-cr"])Lo(U["s-cr"],U,R,U.parentElement);else if("string"==typeof U["s-sn"]){11!==R.getRootNode().nodeType&&xt(U),R.insertBefore(U,te);const{slotNode:de}=Kt(U);return de&&nt(de),U}return R.__insertBefore?R.__insertBefore(U,te):R?.insertBefore(U,te)};function Lo(R,U,te,de){var Je,Ge;let Zt;if(R&&"string"==typeof U["s-sn"]&&U["s-sr"]&&R.parentNode&&R.parentNode["s-sc"]&&(Zt=U["s-si"]||R.parentNode["s-sc"])){const Ot=U["s-sn"],rn=U["s-hn"];if(null==(Je=te.classList)||Je.add(Zt+"-s"),de&&null!=(Ge=de.classList)&&Ge.contains(Zt+"-s")){let Lt=(de.__childNodes||de.childNodes)[0],en=!1;for(;Lt;){if(Lt["s-sn"]!==Ot&&Lt["s-hn"]===rn&&Lt["s-sr"]){en=!0;break}Lt=Lt.nextSibling}en||de.classList.remove(Zt+"-s")}}}var ss=(R,U)=>{if(U&&!R.$onRenderResolve$&&U["s-p"]){const te=U["s-p"].push(new Promise(de=>R.$onRenderResolve$=()=>{U["s-p"].splice(te-1,1),de()}))}},ao=(R,U)=>{if(R.$flags$|=16,4&R.$flags$)return void(R.$flags$|=512);ss(R,R.$ancestorComponent$);const te=()=>Na(R,U);if(!U)return cr(te);queueMicrotask(()=>{te()})},Na=(R,U)=>{const te=R.$hostElement$,Je=R.$lazyInstance$;if(!Je)throw new Error(`Can't render component <${te.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Ge;return U?(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([Zt,Ot])=>Et(Je,Zt,Ot,te)),R.$queuedListeners$=void 0),R.$fetchedCbList$.length&&R.$fetchedCbList$.forEach(Zt=>Zt(te)),Ge=Et(Je,"componentWillLoad",void 0,te)):Ge=Et(Je,"componentWillUpdate",void 0,te),Ge=Es(Ge,()=>Et(Je,"componentWillRender",void 0,te)),Es(Ge,()=>$s(R,Je,U))},Es=(R,U)=>nl(R)?R.then(U).catch(te=>{console.error(te),U()}):U(),nl=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,$s=function(){var R=(0,h.A)(function*(U,te,de){var Je;const Ge=U.$hostElement$,Ot=Ge["s-rc"];de&&(R=>{const U=R.$cmpMeta$,te=R.$hostElement$,de=U.$flags$,Ge=tr(te.shadowRoot?te.shadowRoot:te.getRootNode(),U,R.$modeName$);10&de&&(te["s-sc"]=Ge,te.classList.add(Ge+"-h"))})(U);oe(U,te,Ge,de),Ot&&(Ot.map(Lt=>Lt()),Ge["s-rc"]=void 0);{const Lt=null!=(Je=Ge["s-p"])?Je:[],en=()=>z(U);0===Lt.length?en():(Promise.all(Lt).then(en),U.$flags$|=4,Lt.length=0)}});return function(te,de,Je){return R.apply(this,arguments)}}(),oe=(R,U,te,de)=>{try{U=U.render&&U.render(),R.$flags$&=-17,R.$flags$|=2,((R,U,te=!1)=>{var de,Je,Ge,Zt,Ot;const rn=R.$hostElement$,Lt=R.$cmpMeta$,en=R.$vnode$||Zr(null,null),An=(R=>R&&R.$tag$===gi)(U)?U:po(null,null,U);if(wr=rn.tagName,Lt.$attrsToReflect$&&(An.$attrs$=An.$attrs$||{},Lt.$attrsToReflect$.forEach(([sr,Xn])=>{An.$attrs$[Xn]=rn[sr]})),te&&An.$attrs$)for(const sr of Object.keys(An.$attrs$))rn.hasAttribute(sr)&&!["key","ref","style","class"].includes(sr)&&(An.$attrs$[sr]=rn[sr]);if(An.$tag$=null,An.$flags$|=4,R.$vnode$=An,An.$elm$=en.$elm$=rn.shadowRoot||rn,mn=rn["s-sc"],kr=!(!(1&Lt.$flags$)||128&Lt.$flags$),xr=rn["s-cr"],nr=!1,he(en,An,te),In.$flags$|=1,Kr){qr(An.$elm$);for(const sr of vr){const Xn=sr.$nodeToRelocate$;if(!Xn["s-ol"]&&yn.document){const ei=yn.document.createTextNode("");ei["s-nr"]=Xn,Hi(Xn.parentNode,Xn["s-ol"]=ei,Xn)}}for(const sr of vr){const Xn=sr.$nodeToRelocate$,ei=sr.$slotRefNode$;if(ei){const $r=ei.parentNode;let Ji=ei.nextSibling;if(Ji&&1===Ji.nodeType){let K=null==(de=Xn["s-ol"])?void 0:de.previousSibling;for(;K;){let j=null!=(Je=K["s-nr"])?Je:null;if(j&&j["s-sn"]===Xn["s-sn"]&&$r===(j.__parentNode||j.parentNode)){for(j=j.nextSibling;j===Xn||j?.["s-sr"];)j=j?.nextSibling;if(!j||!j["s-nr"]){Ji=j;break}}K=K.previousSibling}}(!Ji&&$r!==(Xn.__parentNode||Xn.parentNode)||(Xn.__nextSibling||Xn.nextSibling)!==Ji)&&Xn!==Ji&&(Hi($r,Xn,Ji),1===Xn.nodeType&&"SLOT-FB"!==Xn.tagName&&(Xn.hidden=null!=(Ge=Xn["s-ih"])&&Ge)),Xn&&"function"==typeof ei["s-rf"]&&ei["s-rf"](ei)}else 1===Xn.nodeType&&(te&&(Xn["s-ih"]=null!=(Zt=Xn.hidden)&&Zt),Xn.hidden=!0)}}if(nr&&Pi(An.$elm$),In.$flags$&=-2,vr.length=0,2&Lt.$flags$){const sr=An.$elm$.__childNodes||An.$elm$.childNodes;for(const Xn of sr)Xn["s-hn"]!==wr&&!Xn["s-sh"]&&(te&&null==Xn["s-ih"]&&(Xn["s-ih"]=null!=(Ot=Xn.hidden)&&Ot),Xn.hidden=!0)}xr=void 0})(R,U,de)}catch(Je){ut(Je,R.$hostElement$)}return null},z=R=>{const te=R.$hostElement$,Je=R.$lazyInstance$,Ge=R.$ancestorComponent$;Et(Je,"componentDidRender",void 0,te),64&R.$flags$?Et(Je,"componentDidUpdate",void 0,te):(R.$flags$|=64,Jt(te),Et(Je,"componentDidLoad",void 0,te),R.$onReadyResolve$(te),Ge||Re()),R.$onInstanceResolve$(te),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&Gn(()=>ao(R,!1)),R.$flags$&=-517},ee=R=>{var U;{const te=_t(R),de=null==(U=te?.$hostElement$)?void 0:U.isConnected;return de&&2==(18&te.$flags$)&&ao(te,!1),de}},Re=R=>{var U;Gn(()=>Sn(yn,"appload",{detail:{namespace:"ionic"}})),null!=(U=In.$orgLocNodes$)&&U.size&&In.$orgLocNodes$.clear()},Et=(R,U,te,de)=>{if(R&&R[U])try{return R[U](te)}catch(Je){ut(Je,de)}},Jt=R=>R.classList.add("hydrated"),Nn=(R,U,te,de)=>{const Je=_t(R);if(!Je)return;if(!Je)throw new Error(`Couldn't find host element for "${de.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const Ge=Je.$hostElement$,Zt=Je.$instanceValues$.get(U),Ot=Je.$flags$,rn=Je.$lazyInstance$;te=ge(te,de.$members$[U][0]);const Lt=Number.isNaN(Zt)&&Number.isNaN(te);if((!(8&Ot)||void 0===Zt)&&te!==Zt&&!Lt&&(Je.$instanceValues$.set(U,te),rn)){if(de.$watchers$&&128&Ot){const Pn=de.$watchers$[U];Pn&&Pn.map(An=>{try{rn[An](te,Zt,U)}catch(sr){ut(sr,Ge)}})}if(2==(18&Ot)){if(rn.componentShouldUpdate&&!1===rn.componentShouldUpdate(te,Zt,U))return;ao(Je,!1)}}},or=(R,U,te)=>{var de,Je;const Ge=R.prototype;{R.watchers&&!U.$watchers$&&(U.$watchers$=R.watchers),R.deserializers&&!U.$deserializers$&&(U.$deserializers$=R.deserializers),R.serializers&&!U.$serializers$&&(U.$serializers$=R.serializers);const Zt=Object.entries(null!=(de=U.$members$)?de:{});if(Zt.map(([Ot,[rn]])=>{if(31&rn||2&te&&32&rn){const{get:Lt,set:en}=Object.getOwnPropertyDescriptor(Ge,Ot)||{};Lt&&(U.$members$[Ot][0]|=2048),en&&(U.$members$[Ot][0]|=4096),(1&te||!Lt)&&Object.defineProperty(Ge,Ot,{get(){{if(!(2048&U.$members$[Ot][0]))return((R,U)=>_t(this).$instanceValues$.get(U))(0,Ot);const Pn=_t(this),An=Pn?Pn.$lazyInstance$:Ge;return An?An[Ot]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(Ge,Ot,{set(Pn){const An=_t(this);if(An){if(en)return typeof(32&rn?this[Ot]:An.$hostElement$[Ot])>"u"&&An.$instanceValues$.get(Ot)&&(Pn=An.$instanceValues$.get(Ot)),en.apply(this,[ge(Pn,rn)]),void Nn(this,Ot,Pn=32&rn?this[Ot]:An.$hostElement$[Ot],U);{if(!(1&te&&4096&U.$members$[Ot][0]))return Nn(this,Ot,Pn,U),void(1&te&&!An.$lazyInstance$&&An.$fetchedCbList$.push(()=>{4096&U.$members$[Ot][0]&&An.$lazyInstance$[Ot]!==An.$instanceValues$.get(Ot)&&(An.$lazyInstance$[Ot]=Pn)}));const sr=()=>{const Xn=An.$lazyInstance$[Ot];!An.$instanceValues$.get(Ot)&&Xn&&An.$instanceValues$.set(Ot,Xn),An.$lazyInstance$[Ot]=ge(Pn,rn),Nn(this,Ot,An.$lazyInstance$[Ot],U)};An.$lazyInstance$?sr():An.$fetchedCbList$.push(()=>{sr()})}}}})}else 1&te&&64&rn&&Object.defineProperty(Ge,Ot,{value(...Lt){var en;const Pn=_t(this);return null==(en=Pn?.$onInstancePromise$)?void 0:en.then(()=>{var An;return null==(An=Pn.$lazyInstance$)?void 0:An[Ot](...Lt)})}})}),1&te){const Ot=new Map;Ge.attributeChangedCallback=function(rn,Lt,en){In.jmp(()=>{var Pn;const An=Ot.get(rn),sr=_t(this);if(this.hasOwnProperty(An)&&(en=this[An],delete this[An]),Ge.hasOwnProperty(An)&&"number"==typeof this[An]&&this[An]==en)return;if(null==An){const ei=sr?.$flags$;if(sr&&ei&&!(8&ei)&&128&ei&&en!==Lt){const $r=sr.$lazyInstance$,Ji=null==(Pn=U.$watchers$)?void 0:Pn[rn];Ji?.forEach(zo=>{null!=$r[zo]&&$r[zo].call($r,en,Lt,rn)})}return}const Xn=Object.getOwnPropertyDescriptor(Ge,An);(en=(null!==en||"boolean"!=typeof this[An])&&en)!=this[An]&&(!Xn.get||Xn.set)&&(this[An]=en)})},R.observedAttributes=Array.from(new Set([...Object.keys(null!=(Je=U.$watchers$)?Je:{}),...Zt.filter(([rn,Lt])=>31&Lt[0]).map(([rn,Lt])=>{var en;const Pn=Lt[1]||rn;return Ot.set(Pn,rn),512&Lt[0]&&(null==(en=U.$attrsToReflect$)||en.push([rn,Pn])),Pn})]))}}return R},ur=function(){var R=(0,h.A)(function*(U,te,de,Je){let Ge;if(!(32&te.$flags$)){if(te.$flags$|=32,de.$lazyBundleId$){const Lt=((R,U)=>{const de=R.$tagName$.replace(/-/g,"_"),Je=R.$lazyBundleId$;if(!Je)return;const Ge=Mn.get(Je);return Ge?Ge[de]:L(8996)(`./${Je}.entry.js`).then(Zt=>(Mn.set(Je,Zt),Zt[de]),Zt=>{ut(Zt,U.$hostElement$)})})(de,te);if(Lt&&"then"in Lt){const Pn=()=>{};Ge=yield Lt,Pn()}else Ge=Lt;if(!Ge)throw new Error(`Constructor for "${de.$tagName$}#${te.$modeName$}" was not found`);Ge.isProxied||(de.$watchers$=Ge.watchers,de.$serializers$=Ge.serializers,de.$deserializers$=Ge.deserializers,or(Ge,de,2),Ge.isProxied=!0);const en=()=>{};te.$flags$|=8;try{new Ge(te)}catch(Pn){ut(Pn,U)}te.$flags$&=-9,te.$flags$|=128,en(),Tr(te.$lazyInstance$,U)}else Ge=U.constructor,customElements.whenDefined(U.localName).then(()=>te.$flags$|=128);if(Ge&&Ge.style){let Lt;"string"==typeof Ge.style?Lt=Ge.style:"string"!=typeof Ge.style&&(te.$modeName$=(R=>ht.map(U=>U(R)).find(U=>!!U))(U),te.$modeName$&&(Lt=Ge.style[te.$modeName$]));const en=zr(de,te.$modeName$);if(!kt.has(en)){const Pn=()=>{};Un(en,Lt,!!(1&de.$flags$)),Pn()}}}const Zt=te.$ancestorComponent$,Ot=()=>ao(te,!0);Zt&&Zt["s-rc"]?Zt["s-rc"].push(Ot):Ot()});return function(te,de,Je,Ge){return R.apply(this,arguments)}}(),Tr=(R,U)=>{Et(R,"connectedCallback",void 0,U)},Fi=R=>{if(!yn.document)return;const U=R["s-cr"]=yn.document.createComment("");U["s-cn"]=!0,Hi(R,U,R.firstChild)},mi=(R,U)=>{Et(R,"disconnectedCallback",void 0,U||R)},Qi=function(){var R=(0,h.A)(function*(U){if(!(1&In.$flags$)){const te=_t(U);te?.$rmListeners$&&(te.$rmListeners$.map(de=>de()),te.$rmListeners$=void 0),te?.$lazyInstance$?mi(te.$lazyInstance$,U):te?.$onReadyPromise$&&te.$onReadyPromise$.then(()=>mi(te.$lazyInstance$,U))}Qt.has(U)&&Qt.delete(U),U.shadowRoot&&Qt.has(U.shadowRoot)&&Qt.delete(U.shadowRoot)});return function(te){return R.apply(this,arguments)}}(),Ni=(R,U={})=>{var te;if(!yn.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const Je=[],Ge=U.exclude||[],Zt=yn.customElements,Ot=yn.document.head,rn=Ot.querySelector("meta[charset]"),Lt=yn.document.createElement("style"),en=[];let Pn,An=!0;Object.assign(In,U),In.$resourcesUrl$=new URL(U.resourcesUrl||"./",yn.document.baseURI).href,In.$flags$|=2,(()=>{if(!yn.document)return;const R=yn.document.querySelectorAll(`[${we}]`);let U=0;for(;U<R.length;U++)Un(R[U].getAttribute(we),Ki(R[U].innerHTML),!0)})();let sr=!1;if(R.map(Xn=>{Xn[1].map(ei=>{var $r,Ji,zo;const wi={$flags$:ei[0],$tagName$:ei[1],$members$:ei[2],$listeners$:ei[3]};4&wi.$flags$&&(sr=!0),wi.$members$=ei[2],wi.$listeners$=ei[3],wi.$attrsToReflect$=[],wi.$watchers$=null!=($r=ei[4])?$r:{},wi.$serializers$=null!=(Ji=ei[5])?Ji:{},wi.$deserializers$=null!=(zo=ei[6])?zo:{};const K=wi.$tagName$,j=class extends HTMLElement{constructor(P){if(super(P),this.hasRegisteredEventListeners=!1,((R,U)=>{const te={$flags$:0,$hostElement$:R,$cmpMeta$:U,$instanceValues$:new Map,$serializerValues$:new Map};te.$onInstancePromise$=new Promise(Je=>te.$onInstanceResolve$=Je),te.$onReadyPromise$=new Promise(Je=>te.$onReadyResolve$=Je),R["s-p"]=[],R["s-rc"]=[],te.$fetchedCbList$=[];const de=te;R.__stencil__getHostRef=()=>de})(P=this,wi),1&wi.$flags$)if(P.shadowRoot){if("open"!==P.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${wi.$tagName$}! Mode is set to ${P.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else ri.call(P,wi)}connectedCallback(){const P=_t(this);P&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ho(this,P,wi.$listeners$)),Pn&&(clearTimeout(Pn),Pn=null),An?en.push(this):In.jmp(()=>(R=>{if(!(1&In.$flags$)){const U=_t(R);if(!U)return;const te=U.$cmpMeta$,de=()=>{};if(1&U.$flags$)Ho(R,U,te.$listeners$),U?.$lazyInstance$?Tr(U.$lazyInstance$,R):U?.$onReadyPromise$&&U.$onReadyPromise$.then(()=>Tr(U.$lazyInstance$,R));else{let Je;if(U.$flags$|=1,Je=R.getAttribute(Ue),Je){if(1&te.$flags$){const Ge=tr(R.shadowRoot,te,R.getAttribute("s-mode"));R.classList.remove(Ge+"-h",Ge+"-s")}else if(2&te.$flags$){const Ge=zr(te,R.getAttribute("s-mode"));R["s-sc"]=Ge}((R,U,te,de)=>{var Je,Ge;const Ot=R.shadowRoot,rn=[],Lt=[],en=[],Pn=Ot?[]:null,An=Zr(U,null);let sr;An.$elm$=R;{const je=de.$cmpMeta$;je&&10&je.$flags$&&R["s-sc"]?(sr=R["s-sc"],R.classList.add(sr+"-h")):R["s-sc"]&&delete R["s-sc"]}yn.document&&(!In.$orgLocNodes$||!In.$orgLocNodes$.size)&&Oi(yn.document.body,In.$orgLocNodes$=new Map),R[Ue]=te,R.removeAttribute(Ue),de.$vnode$=bo(An,rn,Lt,Pn,R,R,te,en);let Xn=0;const ei=rn.length;let $r;for(;Xn<ei;Xn++){$r=rn[Xn];const je=$r.$hostId$+"."+$r.$nodeId$,jn=In.$orgLocNodes$.get(je),qn=$r.$elm$;if(Ot){if(null!=(Je=$r.$tag$)&&Je.toString().includes("-")&&"slot-fb"!==$r.$tag$&&!$r.$elm$.shadowRoot){const di=_t($r.$elm$);if(di){const Go=zr(di.$cmpMeta$,$r.$elm$.getAttribute("s-mode")),es=yn.document.querySelector(`style[sty-id="${Go}"]`);es&&R.shadowRoot.append(es.cloneNode(!0))}}}else qn["s-hn"]=U.toUpperCase(),"slot"===$r.$tag$&&(qn["s-cr"]=R["s-cr"]);"slot"===$r.$tag$&&($r.$name$=$r.$elm$["s-sn"]||$r.$elm$.name||null,$r.$children$?($r.$flags$|=2,$r.$elm$.childNodes.length||$r.$children$.forEach(di=>{$r.$elm$.appendChild(di.$elm$)})):$r.$flags$|=1),jn&&jn.isConnected&&(jn.parentElement.shadowRoot&&""===jn["s-en"]&&jn.parentNode.insertBefore(qn,jn.nextSibling),jn.parentNode.removeChild(jn),Ot||(qn["s-oo"]=parseInt($r.$nodeId$))),jn&&!jn["s-id"]&&In.$orgLocNodes$.delete(je)}const Ji=[],zo=en.length;let K,j,P,ie,wi=0;for(;wi<zo;wi++)if(K=en[wi],K&&K.length)for(P=K.length,j=0;j<P;j++){if(ie=K[j],Ji[ie.hostId]||(Ji[ie.hostId]=In.$orgLocNodes$.get(ie.hostId)),!Ji[ie.hostId])continue;const je=Ji[ie.hostId];je.shadowRoot&&ie.node.parentElement!==je&&je.appendChild(ie.node),(!je.shadowRoot||!Ot)&&(ie.slot["s-cr"]||(ie.slot["s-cr"]=je["s-cr"],ie.slot["s-cr"]=!ie.slot["s-cr"]&&je.shadowRoot?je:(je.__childNodes||je.childNodes)[0]),Wr(ie.node,ie.slot,!1,ie.node["s-oo"]),null!=(Ge=ie.node.parentElement)&&Ge.shadowRoot&&ie.node.getAttribute&&ie.node.getAttribute("slot")&&ie.node.removeAttribute("slot"),pi(ie.node))}if(sr&&Lt.length&&Lt.forEach(je=>{je.$elm$.parentElement.classList.add(sr+"-s")}),Ot){let je=0;const jn=Pn.length;if(jn){for(;je<jn;je++){const qn=Pn[je];qn&&Ot.appendChild(qn)}Array.from(R.childNodes).forEach(qn=>{"string"!=typeof qn["s-en"]&&"string"!=typeof qn["s-sn"]&&(1===qn.nodeType&&qn.slot&&qn.hidden?qn.removeAttribute("hidden"):(8===qn.nodeType&&!qn.nodeValue||3===qn.nodeType&&!qn.wholeText.trim())&&qn.parentNode.removeChild(qn))})}}de.$hostElement$=R})(R,te.$tagName$,Je,U)}Je||12&te.$flags$&&Fi(R);{let Ge=R;for(;Ge=Ge.parentNode||Ge.host;)if(1===Ge.nodeType&&Ge.hasAttribute("s-id")&&Ge["s-p"]||Ge["s-p"]){ss(U,U.$ancestorComponent$=Ge);break}}te.$members$&&Object.entries(te.$members$).map(([Ge,[Zt]])=>{if(31&Zt&&Ge in R&&R[Ge]!==Object.prototype[Ge]){const Ot=R[Ge];delete R[Ge],R[Ge]=Ot}}),ur(R,U,te)}de()}})(this)))}disconnectedCallback(){In.jmp(()=>Qi(this)),In.raf(()=>{var P;const ie=_t(this);if(!ie)return;const je=en.findIndex(jn=>jn===this);je>-1&&en.splice(je,1),(null==(P=ie?.$vnode$)?void 0:P.$elm$)instanceof Node&&!ie.$vnode$.$elm$.isConnected&&delete ie.$vnode$.$elm$})}componentOnReady(){var P;return null==(P=_t(this))?void 0:P.$onReadyPromise$}};!(1&wi.$flags$)&&256&wi.$flags$&&(R=>{Vn(R),Kn(R),Rr(R),Lr(R),ui(R),Pr(R),Hn(R),yr(R),Dr(R),Di(R),Fr(R)})(j.prototype),wi.$lazyBundleId$=Xn[0],!Ge.includes(K)&&!Zt.get(K)&&(Je.push(K),Zt.define(K,or(j,wi,1)))})}),Je.length>0&&(sr&&(Lt.textContent+=Gt),Lt.textContent+=Je.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Lt.innerHTML.length)){Lt.setAttribute("data-styles","");const Xn=null!=(te=In.$nonce$)?te:gt(yn.document);null!=Xn&&Lt.setAttribute("nonce",Xn),Ot.insertBefore(Lt,rn?rn.nextSibling:Ot.firstChild)}An=!1,en.length?en.map(Xn=>Xn.connectedCallback()):In.jmp(()=>Pn=setTimeout(Re,30))},Vi=(R,U)=>U,Ho=(R,U,te,de)=>{te&&yn.document&&te.map(([Je,Ge,Zt])=>{const Ot=Fo(yn.document,R,Je),rn=Yi(U,Zt),Lt=Is(Je);In.ael(Ot,Ge,rn,Lt),(U.$rmListeners$=U.$rmListeners$||[]).push(()=>In.rel(Ot,Ge,rn,Lt))})},Yi=(R,U)=>te=>{var de;try{256&R.$flags$?null==(de=R.$lazyInstance$)||de[U](te):(R.$queuedListeners$=R.$queuedListeners$||[]).push([U,te])}catch(Je){ut(Je,R.$hostElement$)}},Fo=(R,U,te)=>4&te?R:8&te?yn:16&te?R.body:U,Is=R=>Tn?{passive:!!(1&R),capture:!!(2&R)}:!!(2&R)},5964:(Ln,Tt,L)=>{"use strict";L.d(Tt,{p:()=>k});var h=L(9974),u=L(4360);function k($,Te){return(0,h.N)((fe,Ce)=>{let He=0;fe.subscribe((0,u._)(Ce,Se=>$.call(Te,Se,He++)&&Ce.next(Se)))})}},6011:(Ln,Tt,L)=>{"use strict";L.r(Tt),L.d(Tt,{GESTURE_CONTROLLER:()=>h.G,createGesture:()=>Se});var h=L(8607);const u=(Me,Le,We,st)=>{const it=!!k(Me)&&{capture:!1,passive:!!st.passive};let et,vt;return Me.__zone_symbol__addEventListener?(et="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(et="addEventListener",vt="removeEventListener"),Me[et](Le,We,it),()=>{Me[vt](Le,We,it)}},k=Me=>{if(void 0===$)try{const Le=Object.defineProperty({},"passive",{get:()=>{$=!0}});Me.addEventListener("optsTest",()=>{},Le)}catch{$=!1}return!!$};let $;const Ce=Me=>Me instanceof Document?Me:Me.ownerDocument,Se=Me=>{let Le=!1,We=!1,st=!0,it=!1;const et=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Me),vt=et.canStart,Rt=et.onWillStart,Fe=et.onStart,dt=et.onEnd,ke=et.notCaptured,Ve=et.onMove,Ze=et.threshold,_t=et.passive,ct=et.blurOnStart,Oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ln=((Me,Le,We)=>{const st=We*(Math.PI/180),it="x"===Me,et=Math.cos(st),vt=Le*Le;let Rt=0,Fe=0,dt=!1,ke=0;return{start(Ve,Ze){Rt=Ve,Fe=Ze,ke=0,dt=!0},detect(Ve,Ze){if(!dt)return!1;const _t=Ve-Rt,ct=Ze-Fe,Oe=_t*_t+ct*ct;if(Oe<vt)return!1;const ln=Math.sqrt(Oe),ut=(it?_t:ct)/ln;return ke=ut>et?1:ut<-et?-1:0,dt=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(et.direction,et.threshold,et.maxAngle),ut=h.G.createGesture({name:Me.gestureName,priority:Me.gesturePriority,disableScroll:Me.disableScroll}),kt=()=>{Le&&(it=!1,Ve&&Ve(Oe))},ht=()=>!!ut.capture()&&(Le=!0,st=!1,Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime,Rt?Rt(Oe).then(tn):tn(),!0),tn=()=>{ct&&(()=>{if(typeof document<"u"){const we=document.activeElement;we?.blur&&we.blur()}})(),Fe&&Fe(Oe),st=!0},dn=()=>{Le=!1,We=!1,it=!1,st=!0,ut.release()},re=we=>{const tt=Le,wt=st;if(dn(),wt){if(le(Oe,we),tt)return void(dt&&dt(Oe));ke&&ke(Oe)}},_e=((Me,Le,We,st,it)=>{let et,vt,Rt,Fe,dt,ke,Ve,Ze=0;const _t=jt=>{Ze=Date.now()+2e3,Le(jt)&&(!vt&&We&&(vt=u(Me,"touchmove",We,it)),Rt||(Rt=u(jt.target,"touchend",Oe,it)),Fe||(Fe=u(jt.target,"touchcancel",Oe,it)))},ct=jt=>{Ze>Date.now()||Le(jt)&&(!ke&&We&&(ke=u(Ce(Me),"mousemove",We,it)),Ve||(Ve=u(Ce(Me),"mouseup",ln,it)))},Oe=jt=>{ut(),st&&st(jt)},ln=jt=>{Mn(),st&&st(jt)},ut=()=>{vt&&vt(),Rt&&Rt(),Fe&&Fe(),vt=Rt=Fe=void 0},Mn=()=>{ke&&ke(),Ve&&Ve(),ke=Ve=void 0},zt=()=>{ut(),Mn()},kt=(jt=!0)=>{jt?(et||(et=u(Me,"touchstart",_t,it)),dt||(dt=u(Me,"mousedown",ct,it))):(et&&et(),dt&&dt(),et=dt=void 0,zt())};return{enable:kt,stop:zt,destroy:()=>{kt(!1),st=We=Le=void 0}}})(et.el,we=>{const tt=Pe(we);return!(We||!st||(pe(we,Oe),Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime=tt,Oe.velocityX=Oe.velocityY=Oe.deltaX=Oe.deltaY=0,Oe.event=we,vt&&!1===vt(Oe))||(ut.release(),!ut.start()))&&(We=!0,0===Ze?ht():(ln.start(Oe.startX,Oe.startY),!0))},we=>{Le?!it&&st&&(it=!0,le(Oe,we),requestAnimationFrame(kt)):(le(Oe,we),ln.detect(Oe.currentX,Oe.currentY)&&(!ln.isGesture()||!ht())&&Ue())},re,{passive:_t}),Ue=()=>{dn(),_e.stop(),ke&&ke(Oe)};return{enable(we=!0){we||(Le&&re(void 0),dn()),_e.enable(we)},destroy(){ut.destroy(),_e.destroy()}}},le=(Me,Le)=>{if(!Le)return;const We=Me.currentX,st=Me.currentY,it=Me.currentTime;pe(Le,Me);const et=Me.currentX,vt=Me.currentY,Fe=(Me.currentTime=Pe(Le))-it;if(Fe>0&&Fe<100){const ke=(vt-st)/Fe;Me.velocityX=(et-We)/Fe*.7+.3*Me.velocityX,Me.velocityY=.7*ke+.3*Me.velocityY}Me.deltaX=et-Me.startX,Me.deltaY=vt-Me.startY,Me.event=Le},pe=(Me,Le)=>{let We=0,st=0;if(Me){const it=Me.changedTouches;if(it&&it.length>0){const et=it[0];We=et.clientX,st=et.clientY}else void 0!==Me.pageX&&(We=Me.pageX,st=Me.pageY)}Le.currentX=We,Le.currentY=st},Pe=Me=>Me.timeStamp||Date.now()},6031:(Ln,Tt,L)=>{"use strict";L.d(Tt,{L:()=>u,a:()=>k,b:()=>$,c:()=>Te,d:()=>fe,g:()=>Mn}),L(7837);const u="ionViewWillEnter",k="ionViewDidEnter",$="ionViewWillLeave",Te="ionViewDidLeave",fe="ionViewWillUnload",Mn=zt=>zt.classList.contains("ion-page")?zt:zt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||zt},6118:(Ln,Tt,L)=>{"use strict";L.d(Tt,{C:()=>Te,a:()=>k,d:()=>$});var h=L(467),u=L(4674);const k=function(){var fe=(0,h.A)(function*(Ce,He,Se,le,pe,Pe){var Me;if(Ce)return Ce.attachViewToDom(He,Se,pe,le);if(!(Pe||"string"==typeof Se||Se instanceof HTMLElement))throw new Error("framework delegate is missing");const Le="string"==typeof Se?null===(Me=He.ownerDocument)||void 0===Me?void 0:Me.createElement(Se):Se;return le&&le.forEach(We=>Le.classList.add(We)),pe&&Object.assign(Le,pe),He.appendChild(Le),yield new Promise(We=>(0,u.c)(Le,We)),Le});return function(He,Se,le,pe,Pe,Me){return fe.apply(this,arguments)}}(),$=(fe,Ce)=>{if(Ce){if(fe)return fe.removeViewFromDom(Ce.parentElement,Ce);Ce.remove()}return Promise.resolve()},Te=()=>{let fe,Ce;return{attachViewToDom:function(){var le=(0,h.A)(function*(pe,Pe,Me={},Le=[]){var We,st;let it;if(fe=pe,Pe){const vt="string"==typeof Pe?null===(We=fe.ownerDocument)||void 0===We?void 0:We.createElement(Pe):Pe;Le.forEach(Rt=>vt.classList.add(Rt)),Object.assign(vt,Me),fe.appendChild(vt),it=vt,yield new Promise(Rt=>(0,u.c)(vt,Rt))}else if(fe.children.length>0&&("ION-MODAL"===fe.tagName||"ION-POPOVER"===fe.tagName)&&!(it=fe.children[0]).classList.contains("ion-delegate-host")){const Rt=null===(st=fe.ownerDocument)||void 0===st?void 0:st.createElement("div");Rt.classList.add("ion-delegate-host"),Le.forEach(Fe=>Rt.classList.add(Fe)),Rt.append(...fe.children),fe.appendChild(Rt),it=Rt}const et=document.querySelector("ion-app")||document.body;return Ce=document.createComment("ionic teleport"),fe.parentNode.insertBefore(Ce,fe),et.appendChild(fe),it??fe});return function(Pe,Me){return le.apply(this,arguments)}}(),removeViewFromDom:()=>(fe&&Ce&&(Ce.parentNode.insertBefore(fe,Ce),Ce.remove()),Promise.resolve())}}},6354:(Ln,Tt,L)=>{"use strict";L.d(Tt,{T:()=>k});var h=L(9974),u=L(4360);function k($,Te){return(0,h.N)((fe,Ce)=>{let He=0;fe.subscribe((0,u._)(Ce,Se=>{Ce.next($.call(Te,Se,He++))}))})}},6365:(Ln,Tt,L)=>{"use strict";L.d(Tt,{U:()=>k});var h=L(1397),u=L(3669);function k($=1/0){return(0,h.Z)(u.D,$)}},6450:(Ln,Tt,L)=>{"use strict";L.d(Tt,{I:()=>$});var h=L(6354);const{isArray:u}=Array;function $(Te){return(0,h.T)(fe=>function k(Te,fe){return u(fe)?Te(...fe):Te(fe)}(Te,fe))}},6697:(Ln,Tt,L)=>{"use strict";L.d(Tt,{s:()=>$});var h=L(983),u=L(9974),k=L(4360);function $(Te){return Te<=0?()=>h.w:(0,u.N)((fe,Ce)=>{let He=0;fe.subscribe((0,k._)(Ce,Se=>{++He<=Te&&(Ce.next(Se),Te<=He&&Ce.complete())}))})}},6745:(Ln,Tt,L)=>{"use strict";L.d(Tt,{_:()=>u});var h=L(9974);function u(k,$=0){return(0,h.N)((Te,fe)=>{fe.add(k.schedule(()=>Te.subscribe(fe),$))})}},6855:(Ln,Tt,L)=>{"use strict";L.d(Tt,{a:()=>k,b:()=>Ze,i:()=>_t});var h=L(5705);const k=(ct,Oe)=>("string"==typeof ct&&(Oe=ct,ct=void 0),(ct=>$(ct))(ct).includes(Oe)),$=(ct=window)=>{if(typeof ct>"u")return[];ct.Ionic=ct.Ionic||{};let Oe=ct.Ionic.platforms;return null==Oe&&(Oe=ct.Ionic.platforms=Te(ct),Oe.forEach(ln=>ct.document.documentElement.classList.add(`plt-${ln}`))),Oe},Te=ct=>{const Oe=h.e.get("platform");return Object.keys(ke).filter(ln=>{const ut=Oe?.[ln];return"function"==typeof ut?ut(ct):ke[ln](ct)})},Ce=ct=>!!(Fe(ct,/iPad/i)||Fe(ct,/Macintosh/i)&&Le(ct)),le=ct=>Fe(ct,/android|sink/i),Le=ct=>dt(ct,"(any-pointer:coarse)"),st=ct=>it(ct)||et(ct),it=ct=>!!(ct.cordova||ct.phonegap||ct.PhoneGap),et=ct=>{const Oe=ct.Capacitor;return!!(Oe?.isNative||Oe?.isNativePlatform&&Oe.isNativePlatform())},Fe=(ct,Oe)=>Oe.test(ct.navigator.userAgent),dt=(ct,Oe)=>{var ln;return null===(ln=ct.matchMedia)||void 0===ln?void 0:ln.call(ct,Oe).matches},ke={ipad:Ce,iphone:ct=>Fe(ct,/iPhone/i),ios:ct=>Fe(ct,/iPhone|iPod/i)||Ce(ct),android:le,phablet:ct=>{const Oe=ct.innerWidth,ln=ct.innerHeight,ut=Math.min(Oe,ln),Mn=Math.max(Oe,ln);return ut>390&&ut<520&&Mn>620&&Mn<800},tablet:ct=>{const Oe=ct.innerWidth,ln=ct.innerHeight,ut=Math.min(Oe,ln),Mn=Math.max(Oe,ln);return Ce(ct)||(ct=>le(ct)&&!Fe(ct,/mobile/i))(ct)||ut>460&&ut<820&&Mn>780&&Mn<1400},cordova:it,capacitor:et,electron:ct=>Fe(ct,/electron/i),pwa:ct=>{var Oe;return!!(null!==(Oe=ct.matchMedia)&&void 0!==Oe&&Oe.call(ct,"(display-mode: standalone)").matches||ct.navigator.standalone)},mobile:Le,mobileweb:ct=>Le(ct)&&!st(ct),desktop:ct=>!Le(ct),hybrid:st};let Ve;const Ze=ct=>ct&&(0,h.o)(ct)||Ve,_t=(ct={})=>{if(typeof window>"u")return;const Oe=window.document,ln=window,ut=ln.Ionic=ln.Ionic||{},Mn=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,h.l)(ln)),{persistConfig:!1}),ut.config),(0,h.m)(ln)),ct);h.e.reset(Mn),h.e.getBoolean("persistConfig")&&(0,h.n)(ln,Mn),$(ln),ut.config=h.e,ut.mode=Ve=h.e.get("mode",Oe.documentElement.getAttribute("mode")||(k(ln,"ios")?"ios":"md")),h.e.set("mode",Ve),Oe.documentElement.setAttribute("mode",Ve),Oe.documentElement.classList.add(Ve),h.e.getBoolean("_testing")&&h.e.set("animated",!1);const zt=ht=>{var jt;return null===(jt=ht.tagName)||void 0===jt?void 0:jt.startsWith("ION-")},kt=ht=>["ios","md"].includes(ht);(0,h.q)(ht=>{for(;ht;){const jt=ht.mode||ht.getAttribute("mode");if(jt){if(kt(jt))return jt;zt(ht)&&(0,h.f)('Invalid ionic mode: "'+jt+'", expected: "ios" or "md"')}ht=ht.parentElement}return Ve})}},7102:(Ln,Tt,L)=>{"use strict";var h=L(7303);function u(r,e){e=encodeURIComponent(e);for(const t of r.split(";")){const i=t.indexOf("="),[a,c]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}class k{}var $=L(2615),Te=L(177),fe=L(2200),Ce=L(3664),He=L(7705);class Se{_doc;constructor(e){this._doc=e}manager}let le=(()=>{class r extends Se{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,a,c){return t.addEventListener(i,a,c),()=>this.removeEventListener(t,i,a,c)}removeEventListener(t,i,a,c){return t.removeEventListener(i,a,c)}static \u0275fac=function(i){return new(i||r)($.KVO($.qQL))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const pe=new $.nKC("");let Pe=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(f=>{f.manager=this});const a=t.filter(f=>!(f instanceof le));this._plugins=a.slice().reverse();const c=t.find(f=>f instanceof le);c&&this._plugins.push(c)}addEventListener(t,i,a,c){return this._findPluginFor(i).addEventListener(t,i,a,c)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(c=>c.supports(t)),!i)throw new $.buA(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||r)($.KVO(pe),$.KVO(Ce.SKi))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const Me="ng-app-id";function Le(r){for(const e of r)e.remove()}function We(r,e){const t=e.createElement("style");return t.textContent=r,t}function it(r,e){const t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",r),t}let et=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,a,c={}){this.doc=t,this.appId=i,this.nonce=a,function st(r,e,t,i){const a=r.head?.querySelectorAll(`style[${Me}="${e}"],link[${Me}="${e}"]`);if(a)for(const c of a)c.removeAttribute(Me),c instanceof HTMLLinkElement?i.set(c.href.slice(c.href.lastIndexOf("/")+1),{usage:0,elements:[c]}):c.textContent&&t.set(c.textContent,{usage:0,elements:[c]})}(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(const a of t)this.addUsage(a,this.inline,We);i?.forEach(a=>this.addUsage(a,this.external,it))}removeStyles(t,i){for(const a of t)this.removeUsage(a,this.inline);i?.forEach(a=>this.removeUsage(a,this.external))}addUsage(t,i,a){const c=i.get(t);c?c.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(f=>this.addElement(f,a(t,this.doc)))})}removeUsage(t,i){const a=i.get(t);a&&(a.usage--,a.usage<=0&&(Le(a.elements),i.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])Le(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[i,{elements:a}]of this.inline)a.push(this.addElement(t,We(i,this.doc)));for(const[i,{elements:a}]of this.external)a.push(this.addElement(t,it(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||r)($.KVO($.qQL),$.KVO(Ce.sZ2),$.KVO(Ce.BIS,8),$.KVO(Ce.Agw))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rt=/%COMP%/g,ct=new $.nKC("",{providedIn:"root",factory:()=>!0});function ut(r,e){return e.map(t=>t.replace(Rt,r))}let zt=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,a,c,f,_,I,w=null,V=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=c,this.doc=f,this.platformId=_,this.ngZone=I,this.nonce=w,this.tracingService=V,this.platformIsServer=!1,this.defaultRenderer=new kt(t,f,I,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const a=this.getOrCreateRenderer(t,i);return a instanceof _e?a.applyToHost(t):a instanceof re&&a.applyStyles(),a}getOrCreateRenderer(t,i){const a=this.rendererByCompId;let c=a.get(i.id);if(!c){const f=this.doc,_=this.ngZone,I=this.eventManager,w=this.sharedStylesHost,V=this.removeStylesOnCompDestroy,Q=this.platformIsServer,ce=this.tracingService;switch(i.encapsulation){case Ce.gXe.Emulated:c=new _e(I,w,i,this.appId,V,f,_,Q,ce);break;case Ce.gXe.ShadowDom:return new dn(I,w,t,i,f,_,this.nonce,Q,ce);default:c=new re(I,w,i,V,f,_,Q,ce)}a.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||r)($.KVO(Pe),$.KVO(et),$.KVO(Ce.sZ2),$.KVO(ct),$.KVO($.qQL),$.KVO(Ce.Agw),$.KVO(Ce.SKi),$.KVO(Ce.BIS),$.KVO(Ce.a8H,8))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();class kt{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,a,c){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=a,this.tracingService=c}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(vt[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(tn(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(tn(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new $.buA(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,a){if(a){t=a+":"+t;const c=vt[a];c?e.setAttributeNS(c,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const a=vt[i];a?e.removeAttributeNS(a,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,a){a&(Ce.czy.DashCase|Ce.czy.Important)?e.style.setProperty(t,i,a&Ce.czy.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ce.czy.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,a){if("string"==typeof e&&!(e=(0,h.rb)().getGlobalEventTarget(this.doc,e)))throw new $.buA(5102,!1);let c=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(c=this.tracingService.wrapEventListener(e,t,c)),this.eventManager.addEventListener(e,t,c,a)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&t.preventDefault()}}}function tn(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class dn extends kt{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,a,c,f,_,I,w){super(e,c,f,I,w),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let V=a.styles;V=ut(a.id,V);for(const ce of V){const Ke=document.createElement("style");_&&Ke.setAttribute("nonce",_),Ke.textContent=ce,this.shadowRoot.appendChild(Ke)}const Q=a.getExternalStyles?.();if(Q)for(const ce of Q){const Ke=it(ce,c);_&&Ke.setAttribute("nonce",_),this.shadowRoot.appendChild(Ke)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class re extends kt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,a,c,f,_,I,w){super(e,c,f,_,I),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=a;let V=i.styles;this.styles=w?ut(w,V):V,this.styleUrls=i.getExternalStyles?.(w)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===Ce.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class _e extends re{contentAttr;hostAttr;constructor(e,t,i,a,c,f,_,I,w){const V=a+"-"+i.id;super(e,t,i,c,f,_,I,w,V),this.contentAttr=function Oe(r){return"_ngcontent-%COMP%".replace(Rt,r)}(V),this.hostAttr=function ln(r){return"_nghost-%COMP%".replace(Rt,r)}(V)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Ue extends h.qj{supportsDOMEvents=!0;static makeCurrent(){(0,h.ig)(new Ue)}onAndCancel(e,t,i,a){return e.addEventListener(t,i,a),()=>{e.removeEventListener(t,i,a)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function tt(){return we=we||document.head.querySelector("base"),we?we.getAttribute("href"):null}();return null==t?null:function wt(r){return new URL(r,document.baseURI).pathname}(t)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return u(document.cookie,e)}}let we=null,Ht=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||r)};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const yn=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},In={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let yt=(()=>{class r extends Se{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,i,a,c){const f=r.parseEventName(i),_=r.eventCallback(f.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.rb)().onAndCancel(t,f.domEventName,_,c))}static parseEventName(t){const i=t.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=r._normalizeKey(i.pop());let f="",_=i.indexOf("code");if(_>-1&&(i.splice(_,1),f="code."),yn.forEach(w=>{const V=i.indexOf(w);V>-1&&(i.splice(V,1),f+=w+".")}),f+=c,0!=i.length||0===c.length)return null;const I={};return I.domEventName=a,I.fullKey=f,I}static matchEventFullKeyCode(t,i){let a=lt[t.key]||t.key,c="";return i.indexOf("code.")>-1&&(a=t.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),yn.forEach(f=>{f!==a&&(0,In[f])(t)&&(c+=f+".")}),c+=a,c===i)}static eventCallback(t,i,a){return c=>{r.matchEventFullKeyCode(c,t)&&a.runGuarded(()=>i(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(i){return new(i||r)($.KVO($.qQL))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const Sr=(0,He.oH4)(He.fpN,"browser",[{provide:Ce.Agw,useValue:Te.AJ},{provide:Ce.PLl,useValue:function Bt(){Ue.makeCurrent()},multi:!0},{provide:$.qQL,useFactory:function ar(){return(0,Ce._9u)(document),document}}]),Gn=[{provide:Ce.$Ln,useClass:class Gt{addToWindow(e){$.laP.getAngularTestability=(i,a=!0)=>{const c=e.findTestabilityInTree(i,a);if(null==c)throw new $.buA(5103,!1);return c},$.laP.getAllAngularTestabilities=()=>e.getAllTestabilities(),$.laP.getAllAngularRootElements=()=>e.getAllRootElements(),$.laP.frameworkStabilizers||($.laP.frameworkStabilizers=[]),$.laP.frameworkStabilizers.push(i=>{const a=$.laP.getAllAngularTestabilities();let c=a.length;const f=function(){c--,0==c&&i()};a.forEach(_=>{_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?(0,h.rb)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}}},{provide:Ce.dOL,useClass:Ce.NYb,deps:[Ce.SKi,Ce.giA,Ce.$Ln]},{provide:Ce.NYb,useClass:Ce.NYb,deps:[Ce.SKi,Ce.giA,Ce.$Ln]}],cn=[{provide:$.GBX,useValue:"root"},{provide:$.zcH,useFactory:function vn(){return new $.zcH}},{provide:pe,useClass:le,multi:!0,deps:[$.qQL]},{provide:pe,useClass:yt,multi:!0,deps:[$.qQL]},zt,et,Pe,{provide:Ce._9s,useExisting:zt},{provide:k,useClass:Ht},[]];let cr=(()=>{class r{constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275mod=Ce.$C({type:r});static \u0275inj=$.G2t({providers:[...cn,...Gn],imports:[fe.MD,He.Hbi]})}return r})();var Xt=L(4084),on=L(5035),On=L(7343),gt=L(467),gr=L(274),Mr=L(5964),Er=L(6354),ai=L(980),Jr=L(5558),Ur=L(7673),Hr=L(1985),Ii=L(8455);class Fn{}class ni{}class jr{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const a=t.slice(0,i),c=t.slice(i+1).trim();this.addHeaderEntry(a,c)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const a=("a"===e.op?this.headers.get(t):void 0)||[];a.push(...i),this.headers.set(t,a);break;case"d":const c=e.value;if(c){let f=this.headers.get(t);if(!f)return;f=f.filter(_=>-1===c.indexOf(_)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(e,t){const i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(c=>c.toString()),a=e.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(e,a)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Pi{encodeKey(e){return Ti(e)}encodeValue(e){return Ti(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ii=/%(\d[a-f0-9])/gi,$i={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ti(r){return encodeURIComponent(r).replace(ii,(e,t)=>$i[t]??e)}function Wr(r){return`${r}`}class Be{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Pi,e.fromString){if(e.fromObject)throw new $.buA(2805,!1);this.map=function si(r,e){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[f,_]=-1==c?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,c)),e.decodeValue(a.slice(c+1))],I=t.get(f)||[];I.push(_),t.set(f,I)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],a=Array.isArray(i)?i.map(Wr):[Wr(i)];this.map.set(t,a)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const a=e[i];Array.isArray(a)?a.forEach(c=>{t.push({param:i,value:c,op:"a"})}):t.push({param:i,value:a,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Be({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Wr(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const a=i.indexOf(Wr(e.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class nt{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function bt(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Vn(r){return typeof Blob<"u"&&r instanceof Blob}function Kn(r){return typeof FormData<"u"&&r instanceof FormData}const Lr="Content-Type",Pr="X-Request-URL",Hn="text/plain",yr="application/json",ui=`${yr}, ${Hn}, */*`;class Dr{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,a){let c;if(this.url=t,this.method=e.toUpperCase(),function Kt(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,c=a):c=i,c){if(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,this.keepalive=!!c.keepalive,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),c.priority&&(this.priority=c.priority),c.cache&&(this.cache=c.cache),c.credentials&&(this.credentials=c.credentials),"number"==typeof c.timeout){if(c.timeout<1||!Number.isInteger(c.timeout))throw new $.buA(2822,"");this.timeout=c.timeout}c.mode&&(this.mode=c.mode),c.redirect&&(this.redirect=c.redirect),c.integrity&&(this.integrity=c.integrity),c.referrer&&(this.referrer=c.referrer),this.transferCache=c.transferCache}if(this.headers??=new jr,this.context??=new nt,this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+f}}else this.params=new Be,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||bt(this.body)||Vn(this.body)||Kn(this.body)||function Fr(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Kn(this.body)?null:Vn(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?Hn:this.body instanceof Be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?yr:null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=e.keepalive??this.keepalive,f=e.priority||this.priority,_=e.cache||this.cache,I=e.mode||this.mode,w=e.redirect||this.redirect,V=e.credentials||this.credentials,Q=e.referrer||this.referrer,ce=e.integrity||this.integrity,Ke=e.transferCache??this.transferCache,At=e.timeout??this.timeout,Wt=void 0!==e.body?e.body:this.body,Ut=e.withCredentials??this.withCredentials,wn=e.reportProgress??this.reportProgress;let Bn=e.headers||this.headers,kn=e.params||this.params;const Zn=e.context??this.context;return void 0!==e.setHeaders&&(Bn=Object.keys(e.setHeaders).reduce((Nr,Vr)=>Nr.set(Vr,e.setHeaders[Vr]),Bn)),e.setParams&&(kn=Object.keys(e.setParams).reduce((Nr,Vr)=>Nr.set(Vr,e.setParams[Vr]),kn)),new Dr(t,i,Wt,{params:kn,headers:Bn,context:Zn,reportProgress:wn,responseType:a,withCredentials:Ut,transferCache:Ke,keepalive:c,cache:_,priority:f,timeout:At,mode:I,redirect:w,credentials:V,referrer:Q,integrity:ce})}}var Di=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Di||{});class pi{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,i="OK"){this.headers=e.headers||new jr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}}class Gr extends pi{constructor(e={}){super(e)}type=Di.ResponseHeader;clone(e={}){return new Gr({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ci extends pi{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=Di.Response;clone(e={}){return new Ci({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}}class li extends pi{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nn(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,credentials:r.credentials,transferCache:r.transferCache,timeout:r.timeout,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,integrity:r.integrity,referrer:r.referrer}}let ye=(()=>{class r{handler;constructor(t){this.handler=t}request(t,i,a={}){let c;if(t instanceof Dr)c=t;else{let I,w;I=a.headers instanceof jr?a.headers:new jr(a.headers),a.params&&(w=a.params instanceof Be?a.params:new Be({fromObject:a.params})),c=new Dr(t,i,void 0!==a.body?a.body:null,{headers:I,context:a.context,params:w,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache,keepalive:a.keepalive,priority:a.priority,cache:a.cache,mode:a.mode,redirect:a.redirect,credentials:a.credentials,referrer:a.referrer,integrity:a.integrity,timeout:a.timeout})}const f=(0,Ur.of)(c).pipe((0,gr.H)(I=>this.handler.handle(I)));if(t instanceof Dr||"events"===a.observe)return f;const _=f.pipe((0,Mr.p)(I=>I instanceof Ci));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,Er.T)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new $.buA(2806,!1);return I.body}));case"blob":return _.pipe((0,Er.T)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new $.buA(2807,!1);return I.body}));case"text":return _.pipe((0,Er.T)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new $.buA(2808,!1);return I.body}));default:return _.pipe((0,Er.T)(I=>I.body))}case"response":return _;default:throw new $.buA(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Be).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,a={}){return this.request("PATCH",t,nn(a,i))}post(t,i,a={}){return this.request("POST",t,nn(a,i))}put(t,i,a={}){return this.request("PUT",t,nn(a,i))}static \u0275fac=function(i){return new(i||r)($.KVO(Fn))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const at=new $.nKC("");function Ki(r,e){return e(r)}function xo(r,e){return(t,i)=>e.intercept(t,{handle:a=>r(a,i)})}const Zr=new $.nKC(""),gi=new $.nKC(""),io=new $.nKC(""),Ao=new $.nKC("",{providedIn:"root",factory:()=>!0});function yo(){let r=null;return(e,t)=>{null===r&&(r=((0,$.WQX)(Zr,{optional:!0})??[]).reduceRight(xo,Ki));const i=(0,$.WQX)($.u5s);if((0,$.WQX)(Ao)){const c=i.add();return r(e,t).pipe((0,ai.j)(c))}return r(e,t)}}let oo=(()=>{class r extends Fn{backend;injector;chain=null;pendingTasks=(0,$.WQX)($.u5s);contributeToStability=(0,$.WQX)(Ao);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(gi),...this.injector.get(io,[])]));this.chain=i.reduceRight((a,c)=>function po(r,e,t){return(i,a)=>(0,$.N4e)(t,()=>e(i,c=>r(c,a)))}(a,c,this.injector),Ki)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(t,a=>this.backend.handle(a)).pipe((0,ai.j)(i))}return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||r)($.KVO(ni),$.KVO($.uvJ))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const ft=/^\)\]\}',?\n/,hn=RegExp(`^${Pr}:`,"m");let Ee=(()=>{class r{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new $.buA(-2800,!1);const i=this.xhrFactory;return(0,Ur.of)(null).pipe((0,Jr.n)(()=>new Hr.c(c=>{const f=i.build();if(f.open(t.method,t.urlWithParams),t.withCredentials&&(f.withCredentials=!0),t.headers.forEach((Ut,wn)=>f.setRequestHeader(Ut,wn.join(","))),t.headers.has("Accept")||f.setRequestHeader("Accept",ui),!t.headers.has(Lr)){const Ut=t.detectContentTypeHeader();null!==Ut&&f.setRequestHeader(Lr,Ut)}if(t.timeout&&(f.timeout=t.timeout),t.responseType){const Ut=t.responseType.toLowerCase();f.responseType="json"!==Ut?Ut:"text"}const _=t.serializeBody();let I=null;const w=()=>{if(null!==I)return I;const Ut=f.statusText||"OK",wn=new jr(f.getAllResponseHeaders()),Bn=function Sn(r){return"responseURL"in r&&r.responseURL?r.responseURL:hn.test(r.getAllResponseHeaders())?r.getResponseHeader(Pr):null}(f)||t.url;return I=new Gr({headers:wn,status:f.status,statusText:Ut,url:Bn}),I},V=()=>{let{headers:Ut,status:wn,statusText:Bn,url:kn}=w(),Zn=null;204!==wn&&(Zn=typeof f.response>"u"?f.responseText:f.response),0===wn&&(wn=Zn?200:0);let Nr=wn>=200&&wn<300;if("json"===t.responseType&&"string"==typeof Zn){const Vr=Zn;Zn=Zn.replace(ft,"");try{Zn=""!==Zn?JSON.parse(Zn):null}catch(St){Zn=Vr,Nr&&(Nr=!1,Zn={error:St,text:Zn})}}Nr?(c.next(new Ci({body:Zn,headers:Ut,status:wn,statusText:Bn,url:kn||void 0})),c.complete()):c.error(new li({error:Zn,headers:Ut,status:wn,statusText:Bn,url:kn||void 0}))},Q=Ut=>{const{url:wn}=w(),Bn=new li({error:Ut,status:f.status||0,statusText:f.statusText||"Unknown Error",url:wn||void 0});c.error(Bn)};let ce=Q;t.timeout&&(ce=Ut=>{const{url:wn}=w(),Bn=new li({error:new DOMException("Request timed out","TimeoutError"),status:f.status||0,statusText:f.statusText||"Request timeout",url:wn||void 0});c.error(Bn)});let Ke=!1;const At=Ut=>{Ke||(c.next(w()),Ke=!0);let wn={type:Di.DownloadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(wn.total=Ut.total),"text"===t.responseType&&f.responseText&&(wn.partialText=f.responseText),c.next(wn)},Wt=Ut=>{let wn={type:Di.UploadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(wn.total=Ut.total),c.next(wn)};return f.addEventListener("load",V),f.addEventListener("error",Q),f.addEventListener("timeout",ce),f.addEventListener("abort",Q),t.reportProgress&&(f.addEventListener("progress",At),null!==_&&f.upload&&f.upload.addEventListener("progress",Wt)),f.send(_),c.next({type:Di.Sent}),()=>{f.removeEventListener("error",Q),f.removeEventListener("abort",Q),f.removeEventListener("load",V),f.removeEventListener("timeout",ce),t.reportProgress&&(f.removeEventListener("progress",At),null!==_&&f.upload&&f.upload.removeEventListener("progress",Wt)),f.readyState!==f.DONE&&f.abort()}})))}static \u0275fac=function(i){return new(i||r)($.KVO(k))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();const Z=new $.nKC(""),ot=new $.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dn=new $.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mn{}let xr=(()=>{class r{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=u(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||r)($.KVO($.qQL),$.KVO(ot))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac})}return r})();function wr(r,e){const t=r.url.toLowerCase();if(!(0,$.WQX)(Z)||"GET"===r.method||"HEAD"===r.method||t.startsWith("http://")||t.startsWith("https://"))return e(r);const i=(0,$.WQX)(mn).getToken(),a=(0,$.WQX)(Dn);return null!=i&&!r.headers.has(a)&&(r=r.clone({headers:r.headers.set(a,i)})),e(r)}var nr=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(nr||{});function Ir(...r){const e=[ye,Ee,oo,{provide:Fn,useExisting:oo},{provide:ni,useFactory:()=>(0,$.WQX)(at,{optional:!0})??(0,$.WQX)(Ee)},{provide:gi,useValue:wr,multi:!0},{provide:Z,useValue:!0},{provide:mn,useClass:xr}];for(const t of r)e.push(...t.\u0275providers);return(0,$.EmA)(e)}const wo=new $.nKC("");function So(){return function Kr(r,e){return{\u0275kind:r,\u0275providers:e}}(nr.LegacyInterceptors,[{provide:wo,useFactory:yo},{provide:gi,useExisting:wo,multi:!0}])}let vr=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=Ce.$C({type:r});static \u0275inj=$.G2t({providers:[Ir(So())]})}return r})(),bi=(()=>{var r;class e{constructor(){}static#e=r=()=>(this.\u0275fac=function(a){return new(a||e)},this.\u0275cmp=Ce.VBU({type:e,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(a,c){1&a&&(Ce.j41(0,"ion-app"),Ce.nrm(1,"ion-router-outlet"),Ce.k0s())},dependencies:[On.U1,On.Rg],encapsulation:2}))}return r(),e})();var Hi=L(8132);const Lo=[{path:"home",loadChildren:()=>L.e(8349).then(L.bind(L,8349)).then(r=>r.HomePageModule)},{path:"login",loadComponent:()=>Promise.all([L.e(2076),L.e(9444)]).then(L.bind(L,9444)).then(r=>r.LoginPage)},{path:"registro",loadChildren:()=>L.e(7218).then(L.bind(L,7218)).then(r=>r.RegistroPageModule)},{path:"dashboard",loadChildren:()=>L.e(227).then(L.bind(L,227)).then(r=>r.DashboardPageModule)},{path:"",redirectTo:"login",pathMatch:"full"}];let no=(()=>{var r;class e{static#e=r=()=>(this.\u0275fac=function(a){return new(a||e)},this.\u0275mod=Ce.$C({type:e}),this.\u0275inj=$.G2t({imports:[Hi.iI.forRoot(Lo,{preloadingStrategy:Hi.Kp}),Hi.iI]}))}return r(),e})();const ss_firebaseConfig={apiKey:"AIzaSyBYo_NkQLL5BnImzo04UaGeZZuE67Tgc7I",authDomain:"pozos-realtime.firebaseapp.com",databaseURL:"https://pozos-realtime-default-rtdb.firebasedatabase.app",projectId:"pozos-realtime",storageBucket:"pozos-realtime.firebasestorage.app",messagingSenderId:"956172197839",appId:"1:956172197839:web:30c792aac7a9d643dfcba",measurementId:"G-7PZS7GZ88X"};var ao=L(2979);(0,ao.registerVersion)("firebase","10.14.1","app");var nl=L(8359);class $s extends nl.yU{constructor(e,t){super()}schedule(e,t=0){return this}}const oe={setInterval(r,e,...t){const{delegate:i}=oe;return i?.setInterval?i.setInterval(r,e,...t):setInterval(r,e,...t)},clearInterval(r){const{delegate:e}=oe;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var z=L(7908);class ee extends $s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const a=this.id,c=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(c,a,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,i=0){return oe.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&oe.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let a,i=!1;try{this.work(e)}catch(c){i=!0,a=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.o)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Et={now:()=>(Et.delegate||Date).now(),delegate:void 0};class Jt{constructor(e,t=Jt.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Jt.now=Et.now;class _n extends Jt{constructor(e,t=Jt.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const or=new class Nn extends _n{}(class Re extends ee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Tr=new _n(ee);var Fi=L(8141),mi=L(6745),Qi=L(941);const Ni=new $.RxE("ANGULARFIRE2_VERSION");class Fo{constructor(){return(r=>{const t=(0,ao.getApps)(),i=[];return t.forEach(a=>{a.container.getProvider(r).instances.forEach(f=>{i.includes(f)||i.push(f)})}),i})(Is)}}const Is="app-check";function lo(){}class R{zone;delegate;constructor(e,t=or){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const a=this.zone;return this.delegate.schedule(function(f){a.runGuarded(()=>{e.apply(this,[f])})},t,i)}}class U{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo)),t.pipe((0,Fi.M)({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let te=(()=>{class r{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new R(Zone.current)),this.insideAngular=t.run(()=>new R(Zone.current,Tr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||r)($.KVO(Ce.SKi))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function rn(r){return function Lt(r){return function(t){return(t=t.lift(new U(r.ngZone))).pipe((0,mi._)(r.outsideAngular),(0,Qi.Q)(r.insideAngular))}}(function de(){const r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return r}())(r)}var An=L(9574);An.A.registerVersion("firebase","10.14.1","app-compat");const ei=["ngOnDestroy"];class zo{constructor(e){return e}}const wi=new $.nKC("angularfire2.app.options"),K=new $.nKC("angularfire2.app.name");function j(r,e,t){const a="object"==typeof t&&t||{};a.name=a.name||"string"==typeof t&&t||"[DEFAULT]";const f=An.A.apps.filter(_=>_&&_.name===a.name)[0]||e.runOutsideAngular(()=>An.A.initializeApp(r,a));try{if(JSON.stringify(r)!==JSON.stringify(f.options)){const _=!!module.hot;P("error",`${f.name} Firebase App already initialized with different options${_?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new zo(f)}const P=(r,...e)=>{(0,He.naY)()&&typeof console<"u"&&console[r](...e)},ie={provide:zo,useFactory:j,deps:[wi,Ce.SKi,[new Ce.Xx1,K]]};let je=(()=>{class r{static initializeApp(t,i){return{ngModule:r,providers:[{provide:wi,useValue:t},{provide:K,useValue:i}]}}constructor(t){An.A.registerVersion("angularfire",Ni.full,"core"),An.A.registerVersion("angularfire",Ni.full,"app-compat"),An.A.registerVersion("angular",$.xvI.full,t.toString())}static \u0275fac=function(i){return new(i||r)($.KVO(Ce.Agw))};static \u0275mod=Ce.$C({type:r});static \u0275inj=$.G2t({providers:[ie]})}return r})();function jn(r,e,t,i,a){const[,c,f]=globalThis.\u0275AngularfireInstanceCache.find(_=>_[0]===r)||[];if(c)return function qn(r,e){try{return r.toString()===e.toString()}catch{return r===e}}(a,f)||(Go("error",`${e} was already initialized on the ${t} Firebase App with different settings.${di?" You may need to reload as Firebase is not HMR aware.":""}`),Go("warn",{is:a,was:f})),c;{const _=i();return globalThis.\u0275AngularfireInstanceCache.push([r,_,a]),_}}const di=typeof module<"u"&&!!module.hot,Go=(r,...e)=>{(0,He.naY)()&&typeof console<"u"&&console[r](...e)};globalThis.\u0275AngularfireInstanceCache||=[],L(324);var vo=L(1413),ds=L(6365),js=L(8750),lu=L(983),xa=L(3794);function gc(...r){const e=(0,xa.lI)(r),t=(0,xa.R0)(r,1/0),i=r;return i.length?1===i.length?(0,js.Tg)(i[0]):(0,ds.U)(t)((0,Ii.H)(i,e)):lu.w}class mc extends vo.B{constructor(e=1/0,t=1/0,i=Et){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:f}=this;t||(i.push(e),!a&&i.push(c.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:a}=this,c=a.slice();for(let f=0;f<c.length&&!e.closed;f+=i?1:2)e.next(c[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<i.length&&i.splice(0,i.length-c),!a){const f=t.now();let _=0;for(let I=1;I<i.length&&i[I]<=f;I+=2)_=I;_&&i.splice(0,_+1)}}}var $l=L(7707),ea=L(9974);function ka(r={}){const{connector:e=()=>new vo.B,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:a=!0}=r;return c=>{let f,_,I,w=0,V=!1,Q=!1;const ce=()=>{_?.unsubscribe(),_=void 0},Ke=()=>{ce(),f=I=void 0,V=Q=!1},At=()=>{const Wt=f;Ke(),Wt?.unsubscribe()};return(0,ea.N)((Wt,Ut)=>{w++,!Q&&!V&&ce();const wn=I=I??e();Ut.add(()=>{w--,0===w&&!Q&&!V&&(_=Vs(At,a))}),wn.subscribe(Ut),!f&&w>0&&(f=new $l.Ms({next:Bn=>wn.next(Bn),error:Bn=>{Q=!0,ce(),_=Vs(Ke,t,Bn),wn.error(Bn)},complete:()=>{V=!0,ce(),_=Vs(Ke,i),wn.complete()}}),(0,js.Tg)(Wt).subscribe(f))})(c)}}function Vs(r,e,...t){if(!0===e)return void r();if(!1===e)return;const i=new $l.Ms({next:()=>{i.unsubscribe(),r()}});return(0,js.Tg)(e(...t)).subscribe(i)}function Id(r,e,t){let i,a=!1;return r&&"object"==typeof r?({bufferSize:i=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=r):i=r??1/0,ka({connector:()=>new mc(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var _c=L(1594),Td=L(8071);function jl(r,e){return(0,Td.T)(e)?(0,Jr.n)(()=>r,e):(0,Jr.n)(()=>r)}const cu=new $.nKC("angularfire2.auth.use-emulator"),Fa=new $.nKC("angularfire2.auth.settings"),Wl=new $.nKC("angularfire2.auth.tenant-id"),yc=new $.nKC("angularfire2.auth.langugage-code"),rl=new $.nKC("angularfire2.auth.use-device-language"),bs=new $.nKC("angularfire.auth.persistence"),Kl=(r,e,t,i,a,c,f,_)=>jn(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const I=e.runOutsideAngular(()=>r.auth());if(t&&I.useEmulator(...t),i&&(I.tenantId=i),I.languageCode=a,c&&I.useDeviceLanguage(),f)for(const[w,V]of Object.entries(f))I.settings[w]=V;return _&&I.setPersistence(_),I},[t,i,a,c,f,_]);let Ws=(()=>{class r{authState;idToken;user;idTokenResult;credential;constructor(t,i,a,c,f,_,I,w,V,Q,ce,Ke){const At=new vo.B,Wt=(0,Ur.of)(void 0).pipe((0,Qi.Q)(f.outsideAngular),(0,Jr.n)(()=>c.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,324)))),(0,Er.T)(()=>j(t,c,i)),(0,Er.T)(Ut=>Kl(Ut,c,_,w,V,Q,I,ce)),Id({bufferSize:1,refCount:!1}));if((0,Te.Vy)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ur.of)(null);else{Wt.pipe((0,_c.$)()).subscribe();const Ut=Wt.pipe((0,Jr.n)(kn=>kn.getRedirectResult().then(Zn=>Zn,()=>null)),rn,Id({bufferSize:1,refCount:!1})),wn=Wt.pipe((0,Jr.n)(kn=>new Hr.c(Zn=>({unsubscribe:c.runOutsideAngular(()=>kn.onAuthStateChanged(Nr=>Zn.next(Nr),Nr=>Zn.error(Nr),()=>Zn.complete()))})))),Bn=Wt.pipe((0,Jr.n)(kn=>new Hr.c(Zn=>({unsubscribe:c.runOutsideAngular(()=>kn.onIdTokenChanged(Nr=>Zn.next(Nr),Nr=>Zn.error(Nr),()=>Zn.complete()))}))));this.authState=Ut.pipe(jl(wn),(0,mi._)(f.outsideAngular),(0,Qi.Q)(f.insideAngular)),this.user=Ut.pipe(jl(Bn),(0,mi._)(f.outsideAngular),(0,Qi.Q)(f.insideAngular)),this.idToken=this.user.pipe((0,Jr.n)(kn=>kn?(0,Ii.H)(kn.getIdToken()):(0,Ur.of)(null))),this.idTokenResult=this.user.pipe((0,Jr.n)(kn=>kn?(0,Ii.H)(kn.getIdTokenResult()):(0,Ur.of)(null))),this.credential=gc(Ut,At,this.authState.pipe((0,Mr.p)(kn=>!kn))).pipe((0,Er.T)(kn=>kn?.user?kn:null),(0,mi._)(f.outsideAngular),(0,Qi.Q)(f.insideAngular))}return((r,e,t,i={})=>new Proxy(r,{get:(a,c)=>t.runOutsideAngular(()=>{if(r[c])return i?.spy?.get&&i.spy.get(c,r[c]),r[c];if(ei.indexOf(c)>-1)return()=>{};const f=e.toPromise().then(_=>{const I=_?.[c];return"function"==typeof I?I.bind(_):I?.then?I.then(w=>t.run(()=>w)):t.run(()=>I)});return new Proxy(()=>{},{get:(_,I)=>f[I],apply:(_,I,w)=>f.then(V=>{const Q=V?.(...w);return i?.spy?.apply&&i.spy.apply(c,w,Q),Q})})})}))(this,Wt,c,{spy:{apply:(Ut,wn,Bn)=>{(Ut.startsWith("signIn")||Ut.startsWith("createUser"))&&Bn.then(kn=>At.next(kn))}}})}static \u0275fac=function(i){return new(i||r)($.KVO(wi),$.KVO(K,8),$.KVO(Ce.Agw),$.KVO(Ce.SKi),$.KVO(te),$.KVO(cu,8),$.KVO(Fa,8),$.KVO(Wl,8),$.KVO(yc,8),$.KVO(rl,8),$.KVO(bs,8),$.KVO(Fo,8))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})(),il=(()=>{class r{constructor(){An.A.registerVersion("angularfire",Ni.full,"auth-compat")}static \u0275fac=function(i){return new(i||r)};static \u0275mod=Ce.$C({type:r});static \u0275inj=$.G2t({providers:[Ws]})}return r})();var Us=L(9172),ma=L(4360);function Va(){return(0,ea.N)((r,e)=>{let t,i=!1;r.subscribe((0,ma._)(e,a=>{const c=t;t=a,i&&e.next([c,a]),i=!0}))})}var Ks,Ua,_a=L(2816),Hl=L(3294),as=L(8779),ts=L(5398),be=L(1401),vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ol={};(function(){var r;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function a(St,Xe,mt){mt||(mt=0);var Mt=Array(16);if("string"==typeof Xe)for(var Ft=0;16>Ft;++Ft)Mt[Ft]=Xe.charCodeAt(mt++)|Xe.charCodeAt(mt++)<<8|Xe.charCodeAt(mt++)<<16|Xe.charCodeAt(mt++)<<24;else for(Ft=0;16>Ft;++Ft)Mt[Ft]=Xe[mt++]|Xe[mt++]<<8|Xe[mt++]<<16|Xe[mt++]<<24;var qt=St.g[3],pt=(Xe=St.g[0])+(qt^(mt=St.g[1])&((Ft=St.g[2])^qt))+Mt[0]+3614090360&4294967295;pt=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=(mt=(Ft=(qt=(Xe=mt+(pt<<7&4294967295|pt>>>25))+((pt=qt+(Ft^Xe&(mt^Ft))+Mt[1]+3905402710&4294967295)<<12&4294967295|pt>>>20))+((pt=Ft+(mt^qt&(Xe^mt))+Mt[2]+606105819&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Xe^Ft&(qt^Xe))+Mt[3]+3250441966&4294967295)<<22&4294967295|pt>>>10))+((pt=Xe+(qt^mt&(Ft^qt))+Mt[4]+4118548399&4294967295)<<7&4294967295|pt>>>25))+((pt=qt+(Ft^Xe&(mt^Ft))+Mt[5]+1200080426&4294967295)<<12&4294967295|pt>>>20))+((pt=Ft+(mt^qt&(Xe^mt))+Mt[6]+2821735955&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Xe^Ft&(qt^Xe))+Mt[7]+4249261313&4294967295)<<22&4294967295|pt>>>10))+((pt=Xe+(qt^mt&(Ft^qt))+Mt[8]+1770035416&4294967295)<<7&4294967295|pt>>>25))+((pt=qt+(Ft^Xe&(mt^Ft))+Mt[9]+2336552879&4294967295)<<12&4294967295|pt>>>20))+((pt=Ft+(mt^qt&(Xe^mt))+Mt[10]+4294925233&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Xe^Ft&(qt^Xe))+Mt[11]+2304563134&4294967295)<<22&4294967295|pt>>>10))+((pt=Xe+(qt^mt&(Ft^qt))+Mt[12]+1804603682&4294967295)<<7&4294967295|pt>>>25))+((pt=qt+(Ft^Xe&(mt^Ft))+Mt[13]+4254626195&4294967295)<<12&4294967295|pt>>>20))+((pt=Ft+(mt^qt&(Xe^mt))+Mt[14]+2792965006&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Xe^Ft&(qt^Xe))+Mt[15]+1236535329&4294967295)<<22&4294967295|pt>>>10))+((pt=Xe+(Ft^qt&(mt^Ft))+Mt[1]+4129170786&4294967295)<<5&4294967295|pt>>>27))+((pt=qt+(mt^Ft&(Xe^mt))+Mt[6]+3225465664&4294967295)<<9&4294967295|pt>>>23))+((pt=Ft+(Xe^mt&(qt^Xe))+Mt[11]+643717713&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(qt^Xe&(Ft^qt))+Mt[0]+3921069994&4294967295)<<20&4294967295|pt>>>12))+((pt=Xe+(Ft^qt&(mt^Ft))+Mt[5]+3593408605&4294967295)<<5&4294967295|pt>>>27))+((pt=qt+(mt^Ft&(Xe^mt))+Mt[10]+38016083&4294967295)<<9&4294967295|pt>>>23))+((pt=Ft+(Xe^mt&(qt^Xe))+Mt[15]+3634488961&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(qt^Xe&(Ft^qt))+Mt[4]+3889429448&4294967295)<<20&4294967295|pt>>>12))+((pt=Xe+(Ft^qt&(mt^Ft))+Mt[9]+568446438&4294967295)<<5&4294967295|pt>>>27))+((pt=qt+(mt^Ft&(Xe^mt))+Mt[14]+3275163606&4294967295)<<9&4294967295|pt>>>23))+((pt=Ft+(Xe^mt&(qt^Xe))+Mt[3]+4107603335&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(qt^Xe&(Ft^qt))+Mt[8]+1163531501&4294967295)<<20&4294967295|pt>>>12))+((pt=Xe+(Ft^qt&(mt^Ft))+Mt[13]+2850285829&4294967295)<<5&4294967295|pt>>>27))+((pt=qt+(mt^Ft&(Xe^mt))+Mt[2]+4243563512&4294967295)<<9&4294967295|pt>>>23))+((pt=Ft+(Xe^mt&(qt^Xe))+Mt[7]+1735328473&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(qt^Xe&(Ft^qt))+Mt[12]+2368359562&4294967295)<<20&4294967295|pt>>>12))+((pt=Xe+(mt^Ft^qt)+Mt[5]+4294588738&4294967295)<<4&4294967295|pt>>>28))+((pt=qt+(Xe^mt^Ft)+Mt[8]+2272392833&4294967295)<<11&4294967295|pt>>>21))+((pt=Ft+(qt^Xe^mt)+Mt[11]+1839030562&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(Ft^qt^Xe)+Mt[14]+4259657740&4294967295)<<23&4294967295|pt>>>9))+((pt=Xe+(mt^Ft^qt)+Mt[1]+2763975236&4294967295)<<4&4294967295|pt>>>28))+((pt=qt+(Xe^mt^Ft)+Mt[4]+1272893353&4294967295)<<11&4294967295|pt>>>21))+((pt=Ft+(qt^Xe^mt)+Mt[7]+4139469664&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(Ft^qt^Xe)+Mt[10]+3200236656&4294967295)<<23&4294967295|pt>>>9))+((pt=Xe+(mt^Ft^qt)+Mt[13]+681279174&4294967295)<<4&4294967295|pt>>>28))+((pt=qt+(Xe^mt^Ft)+Mt[0]+3936430074&4294967295)<<11&4294967295|pt>>>21))+((pt=Ft+(qt^Xe^mt)+Mt[3]+3572445317&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(Ft^qt^Xe)+Mt[6]+76029189&4294967295)<<23&4294967295|pt>>>9))+((pt=Xe+(mt^Ft^qt)+Mt[9]+3654602809&4294967295)<<4&4294967295|pt>>>28))+((pt=qt+(Xe^mt^Ft)+Mt[12]+3873151461&4294967295)<<11&4294967295|pt>>>21))+((pt=Ft+(qt^Xe^mt)+Mt[15]+530742520&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(Ft^qt^Xe)+Mt[2]+3299628645&4294967295)<<23&4294967295|pt>>>9))+((pt=Xe+(Ft^(mt|~qt))+Mt[0]+4096336452&4294967295)<<6&4294967295|pt>>>26))+((pt=qt+(mt^(Xe|~Ft))+Mt[7]+1126891415&4294967295)<<10&4294967295|pt>>>22))+((pt=Ft+(Xe^(qt|~mt))+Mt[14]+2878612391&4294967295)<<15&4294967295|pt>>>17))+((pt=mt+(qt^(Ft|~Xe))+Mt[5]+4237533241&4294967295)<<21&4294967295|pt>>>11))+((pt=Xe+(Ft^(mt|~qt))+Mt[12]+1700485571&4294967295)<<6&4294967295|pt>>>26))+((pt=qt+(mt^(Xe|~Ft))+Mt[3]+2399980690&4294967295)<<10&4294967295|pt>>>22))+((pt=Ft+(Xe^(qt|~mt))+Mt[10]+4293915773&4294967295)<<15&4294967295|pt>>>17))+((pt=mt+(qt^(Ft|~Xe))+Mt[1]+2240044497&4294967295)<<21&4294967295|pt>>>11))+((pt=Xe+(Ft^(mt|~qt))+Mt[8]+1873313359&4294967295)<<6&4294967295|pt>>>26))+((pt=qt+(mt^(Xe|~Ft))+Mt[15]+4264355552&4294967295)<<10&4294967295|pt>>>22))+((pt=Ft+(Xe^(qt|~mt))+Mt[6]+2734768916&4294967295)<<15&4294967295|pt>>>17))+((pt=mt+(qt^(Ft|~Xe))+Mt[13]+1309151649&4294967295)<<21&4294967295|pt>>>11))+((qt=(Xe=mt+((pt=Xe+(Ft^(mt|~qt))+Mt[4]+4149444226&4294967295)<<6&4294967295|pt>>>26))+((pt=qt+(mt^(Xe|~Ft))+Mt[11]+3174756917&4294967295)<<10&4294967295|pt>>>22))^((Ft=qt+((pt=Ft+(Xe^(qt|~mt))+Mt[2]+718787259&4294967295)<<15&4294967295|pt>>>17))|~Xe))+Mt[9]+3951481745&4294967295,St.g[0]=St.g[0]+Xe&4294967295,St.g[1]=St.g[1]+(Ft+(pt<<21&4294967295|pt>>>11))&4294967295,St.g[2]=St.g[2]+Ft&4294967295,St.g[3]=St.g[3]+qt&4294967295}function f(St,Xe){this.h=Xe;for(var mt=[],Mt=!0,Ft=St.length-1;0<=Ft;Ft--){var qt=0|St[Ft];Mt&&qt==Xe||(mt[Ft]=qt,Mt=!1)}this.g=mt}(function e(St,Xe){function mt(){}mt.prototype=Xe.prototype,St.D=Xe.prototype,St.prototype=new mt,St.prototype.constructor=St,St.C=function(Mt,Ft,qt){for(var pt=Array(arguments.length-2),Nh=2;Nh<arguments.length;Nh++)pt[Nh-2]=arguments[Nh];return Xe.prototype[Ft].apply(Mt,pt)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(St,Xe){void 0===Xe&&(Xe=St.length);for(var mt=Xe-this.blockSize,Mt=this.B,Ft=this.h,qt=0;qt<Xe;){if(0==Ft)for(;qt<=mt;)a(this,St,qt),qt+=this.blockSize;if("string"==typeof St){for(;qt<Xe;)if(Mt[Ft++]=St.charCodeAt(qt++),Ft==this.blockSize){a(this,Mt),Ft=0;break}}else for(;qt<Xe;)if(Mt[Ft++]=St[qt++],Ft==this.blockSize){a(this,Mt),Ft=0;break}}this.h=Ft,this.o+=Xe},i.prototype.v=function(){var St=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);St[0]=128;for(var Xe=1;Xe<St.length-8;++Xe)St[Xe]=0;var mt=8*this.o;for(Xe=St.length-8;Xe<St.length;++Xe)St[Xe]=255&mt,mt/=256;for(this.u(St),St=Array(16),Xe=mt=0;4>Xe;++Xe)for(var Mt=0;32>Mt;Mt+=8)St[mt++]=this.g[Xe]>>>Mt&255;return St};var _={};function I(St){return-128<=St&&128>St?function c(St,Xe){var mt=_;return Object.prototype.hasOwnProperty.call(mt,St)?mt[St]:mt[St]=Xe(St)}(St,function(Xe){return new f([0|Xe],0>Xe?-1:0)}):new f([0|St],0>St?-1:0)}function w(St){if(isNaN(St)||!isFinite(St))return Q;if(0>St)return Ut(w(-St));for(var Xe=[],mt=1,Mt=0;St>=mt;Mt++)Xe[Mt]=St/mt|0,mt*=4294967296;return new f(Xe,0)}var Q=I(0),ce=I(1),Ke=I(16777216);function At(St){if(0!=St.h)return!1;for(var Xe=0;Xe<St.g.length;Xe++)if(0!=St.g[Xe])return!1;return!0}function Wt(St){return-1==St.h}function Ut(St){for(var Xe=St.g.length,mt=[],Mt=0;Mt<Xe;Mt++)mt[Mt]=~St.g[Mt];return new f(mt,~St.h).add(ce)}function wn(St,Xe){return St.add(Ut(Xe))}function Bn(St,Xe){for(;(65535&St[Xe])!=St[Xe];)St[Xe+1]+=St[Xe]>>>16,St[Xe]&=65535,Xe++}function kn(St,Xe){this.g=St,this.h=Xe}function Zn(St,Xe){if(At(Xe))throw Error("division by zero");if(At(St))return new kn(Q,Q);if(Wt(St))return Xe=Zn(Ut(St),Xe),new kn(Ut(Xe.g),Ut(Xe.h));if(Wt(Xe))return Xe=Zn(St,Ut(Xe)),new kn(Ut(Xe.g),Xe.h);if(30<St.g.length){if(Wt(St)||Wt(Xe))throw Error("slowDivide_ only works with positive integers.");for(var mt=ce,Mt=Xe;0>=Mt.l(St);)mt=Nr(mt),Mt=Nr(Mt);var Ft=Vr(mt,1),qt=Vr(Mt,1);for(Mt=Vr(Mt,2),mt=Vr(mt,2);!At(Mt);){var pt=qt.add(Mt);0>=pt.l(St)&&(Ft=Ft.add(mt),qt=pt),Mt=Vr(Mt,1),mt=Vr(mt,1)}return Xe=wn(St,Ft.j(Xe)),new kn(Ft,Xe)}for(Ft=Q;0<=St.l(Xe);){for(mt=Math.max(1,Math.floor(St.m()/Xe.m())),Mt=48>=(Mt=Math.ceil(Math.log(mt)/Math.LN2))?1:Math.pow(2,Mt-48),pt=(qt=w(mt)).j(Xe);Wt(pt)||0<pt.l(St);)pt=(qt=w(mt-=Mt)).j(Xe);At(qt)&&(qt=ce),Ft=Ft.add(qt),St=wn(St,pt)}return new kn(Ft,St)}function Nr(St){for(var Xe=St.g.length+1,mt=[],Mt=0;Mt<Xe;Mt++)mt[Mt]=St.i(Mt)<<1|St.i(Mt-1)>>>31;return new f(mt,St.h)}function Vr(St,Xe){var mt=Xe>>5;Xe%=32;for(var Mt=St.g.length-mt,Ft=[],qt=0;qt<Mt;qt++)Ft[qt]=0<Xe?St.i(qt+mt)>>>Xe|St.i(qt+mt+1)<<32-Xe:St.i(qt+mt);return new f(Ft,St.h)}(r=f.prototype).m=function(){if(Wt(this))return-Ut(this).m();for(var St=0,Xe=1,mt=0;mt<this.g.length;mt++){var Mt=this.i(mt);St+=(0<=Mt?Mt:4294967296+Mt)*Xe,Xe*=4294967296}return St},r.toString=function(St){if(2>(St=St||10)||36<St)throw Error("radix out of range: "+St);if(At(this))return"0";if(Wt(this))return"-"+Ut(this).toString(St);for(var Xe=w(Math.pow(St,6)),mt=this,Mt="";;){var Ft=Zn(mt,Xe).g,qt=((0<(mt=wn(mt,Ft.j(Xe))).g.length?mt.g[0]:mt.h)>>>0).toString(St);if(At(mt=Ft))return qt+Mt;for(;6>qt.length;)qt="0"+qt;Mt=qt+Mt}},r.i=function(St){return 0>St?0:St<this.g.length?this.g[St]:this.h},r.l=function(St){return Wt(St=wn(this,St))?-1:At(St)?0:1},r.abs=function(){return Wt(this)?Ut(this):this},r.add=function(St){for(var Xe=Math.max(this.g.length,St.g.length),mt=[],Mt=0,Ft=0;Ft<=Xe;Ft++){var qt=Mt+(65535&this.i(Ft))+(65535&St.i(Ft)),pt=(qt>>>16)+(this.i(Ft)>>>16)+(St.i(Ft)>>>16);Mt=pt>>>16,mt[Ft]=(pt&=65535)<<16|(qt&=65535)}return new f(mt,-2147483648&mt[mt.length-1]?-1:0)},r.j=function(St){if(At(this)||At(St))return Q;if(Wt(this))return Wt(St)?Ut(this).j(Ut(St)):Ut(Ut(this).j(St));if(Wt(St))return Ut(this.j(Ut(St)));if(0>this.l(Ke)&&0>St.l(Ke))return w(this.m()*St.m());for(var Xe=this.g.length+St.g.length,mt=[],Mt=0;Mt<2*Xe;Mt++)mt[Mt]=0;for(Mt=0;Mt<this.g.length;Mt++)for(var Ft=0;Ft<St.g.length;Ft++){var qt=this.i(Mt)>>>16,pt=65535&this.i(Mt),Nh=St.i(Ft)>>>16,q0=65535&St.i(Ft);mt[2*Mt+2*Ft]+=pt*q0,Bn(mt,2*Mt+2*Ft),mt[2*Mt+2*Ft+1]+=qt*q0,Bn(mt,2*Mt+2*Ft+1),mt[2*Mt+2*Ft+1]+=pt*Nh,Bn(mt,2*Mt+2*Ft+1),mt[2*Mt+2*Ft+2]+=qt*Nh,Bn(mt,2*Mt+2*Ft+2)}for(Mt=0;Mt<Xe;Mt++)mt[Mt]=mt[2*Mt+1]<<16|mt[2*Mt];for(Mt=Xe;Mt<2*Xe;Mt++)mt[Mt]=0;return new f(mt,0)},r.A=function(St){return Zn(this,St).h},r.and=function(St){for(var Xe=Math.max(this.g.length,St.g.length),mt=[],Mt=0;Mt<Xe;Mt++)mt[Mt]=this.i(Mt)&St.i(Mt);return new f(mt,this.h&St.h)},r.or=function(St){for(var Xe=Math.max(this.g.length,St.g.length),mt=[],Mt=0;Mt<Xe;Mt++)mt[Mt]=this.i(Mt)|St.i(Mt);return new f(mt,this.h|St.h)},r.xor=function(St){for(var Xe=Math.max(this.g.length,St.g.length),mt=[],Mt=0;Mt<Xe;Mt++)mt[Mt]=this.i(Mt)^St.i(Mt);return new f(mt,this.h^St.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ua=ol.Md5=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=w,f.fromString=function V(St,Xe){if(0==St.length)throw Error("number format error: empty string");if(2>(Xe=Xe||10)||36<Xe)throw Error("radix out of range: "+Xe);if("-"==St.charAt(0))return Ut(V(St.substring(1),Xe));if(0<=St.indexOf("-"))throw Error('number format error: interior "-" character');for(var mt=w(Math.pow(Xe,8)),Mt=Q,Ft=0;Ft<St.length;Ft+=8){var qt=Math.min(8,St.length-Ft),pt=parseInt(St.substring(Ft,Ft+qt),Xe);8>qt?(qt=w(Math.pow(Xe,qt)),Mt=Mt.j(qt).add(w(pt))):Mt=(Mt=Mt.j(mt)).add(w(pt))}return Mt},Ks=ol.Integer=f}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});var ya,ta,Ec,al,uu,ll,Dd,cl,sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mo={};(function(){var r,e="function"==typeof Object.defineProperties?Object.defineProperty:function(y,x,q){return y==Array.prototype||y==Object.prototype||(y[x]=q.value),y},i=function t(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof sl&&sl];for(var x=0;x<y.length;++x){var q=y[x];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function a(y,x){if(x)e:{var q=i;y=y.split(".");for(var Ie=0;Ie<y.length-1;Ie++){var Vt=y[Ie];if(!(Vt in q))break e;q=q[Vt]}(x=x(Ie=q[y=y[y.length-1]]))!=Ie&&null!=x&&e(q,y,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(y){return y||function(){return function c(y,x){y instanceof String&&(y+="");var q=0,Ie=!1,Vt={next:function(){if(!Ie&&q<y.length){var pn=q++;return{value:x(pn,y[pn]),done:!1}}return Ie=!0,{done:!0,value:void 0}}};return Vt[Symbol.iterator]=function(){return Vt},Vt}(this,function(x,q){return q})}});var f=f||{},_=this||self;function I(y){var x=typeof y;return"array"==(x="object"!=x?x:y?Array.isArray(y)?"array":x:"null")||"object"==x&&"number"==typeof y.length}function w(y){var x=typeof y;return"object"==x&&null!=y||"function"==x}function V(y,x,q){return y.call.apply(y.bind,arguments)}function Q(y,x,q){if(!y)throw Error();if(2<arguments.length){var Ie=Array.prototype.slice.call(arguments,2);return function(){var Vt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Vt,Ie),y.apply(x,Vt)}}return function(){return y.apply(x,arguments)}}function ce(y,x,q){return(ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V:Q).apply(null,arguments)}function Ke(y,x){var q=Array.prototype.slice.call(arguments,1);return function(){var Ie=q.slice();return Ie.push.apply(Ie,arguments),y.apply(this,Ie)}}function At(y,x){function q(){}q.prototype=x.prototype,y.aa=x.prototype,y.prototype=new q,y.prototype.constructor=y,y.Qb=function(Ie,Vt,pn){for(var er=Array(arguments.length-2),No=2;No<arguments.length;No++)er[No-2]=arguments[No];return x.prototype[Vt].apply(Ie,er)}}function Wt(y){const x=y.length;if(0<x){const q=Array(x);for(let Ie=0;Ie<x;Ie++)q[Ie]=y[Ie];return q}return[]}function Ut(y,x){for(let q=1;q<arguments.length;q++){const Ie=arguments[q];if(I(Ie)){const Vt=y.length||0,pn=Ie.length||0;y.length=Vt+pn;for(let er=0;er<pn;er++)y[Vt+er]=Ie[er]}else y.push(Ie)}}function Bn(y){return/^[\s\xa0]*$/.test(y)}function kn(){var y=_.navigator;return y&&(y=y.userAgent)?y:""}function Zn(y){return Zn[" "](y),y}Zn[" "]=function(){};var Nr=!(-1==kn().indexOf("Gecko")||-1!=kn().toLowerCase().indexOf("webkit")&&-1==kn().indexOf("Edge")||-1!=kn().indexOf("Trident")||-1!=kn().indexOf("MSIE")||-1!=kn().indexOf("Edge"));function Vr(y,x,q){for(const Ie in y)x.call(q,y[Ie],Ie,y)}function Xe(y){const x={};for(const q in y)x[q]=y[q];return x}const mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mt(y,x){let q,Ie;for(let Vt=1;Vt<arguments.length;Vt++){for(q in Ie=arguments[Vt],Ie)y[q]=Ie[q];for(let pn=0;pn<mt.length;pn++)q=mt[pn],Object.prototype.hasOwnProperty.call(Ie,q)&&(y[q]=Ie[q])}}function Ft(y){var x=1;y=y.split(":");const q=[];for(;0<x&&y.length;)q.push(y.shift()),x--;return y.length&&q.push(y.join(":")),q}function qt(y){_.setTimeout(()=>{throw y},0)}function pt(){var y=jS;let x=null;return y.g&&(x=y.g,y.g=y.g.next,y.g||(y.h=null),x.next=null),x}var q0=new class wn{constructor(x,q){this.i=x,this.j=q,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new gx,y=>y.reset());class gx{constructor(){this.next=this.g=this.h=null}set(x,q){this.h=x,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Q0,Y0=!1,jS=new class Nh{constructor(){this.h=this.g=null}add(x,q){const Ie=q0.get();Ie.set(x,q),this.h?this.h.next=Ie:this.g=Ie,this.h=Ie}},nO=()=>{const y=_.Promise.resolve(void 0);Q0=()=>{y.then(mx)}};var mx=()=>{for(var y;y=pt();){try{y.h.call(y.g)}catch(q){qt(q)}var x=q0;x.j(y),100>x.h&&(x.h++,y.next=x.g,x.g=y)}Y0=!1};function cp(){this.s=this.s,this.C=this.C}function ha(y,x){this.type=y,this.g=this.target=x,this.defaultPrevented=!1}cp.prototype.s=!1,cp.prototype.ma=function(){this.s||(this.s=!0,this.N())},cp.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ha.prototype.h=function(){this.defaultPrevented=!0};var _x=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var y=!1,x=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const q=()=>{};_.addEventListener("test",q,x),_.removeEventListener("test",q,x)}catch{}return y}();function J0(y,x){if(ha.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var q=this.type=y.type,Ie=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=x,x=y.relatedTarget){if(Nr){e:{try{Zn(x.nodeName);var Vt=!0;break e}catch{}Vt=!1}Vt||(x=null)}}else"mouseover"==q?x=y.fromElement:"mouseout"==q&&(x=y.toElement);this.relatedTarget=x,Ie?(this.clientX=void 0!==Ie.clientX?Ie.clientX:Ie.pageX,this.clientY=void 0!==Ie.clientY?Ie.clientY:Ie.pageY,this.screenX=Ie.screenX||0,this.screenY=Ie.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:yx[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&J0.aa.h.call(this)}}At(J0,ha);var yx={2:"touch",3:"pen",4:"mouse"};J0.prototype.h=function(){J0.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Z0="closure_listenable_"+(1e6*Math.random()|0),vx=0;function Ex(y,x,q,Ie,Vt){this.listener=y,this.proxy=null,this.src=x,this.type=q,this.capture=!!Ie,this.ha=Vt,this.key=++vx,this.da=this.fa=!1}function sA(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function aA(y){this.src=y,this.g={},this.h=0}function WS(y,x){var q=x.type;if(q in y.g){var pn,Ie=y.g[q],Vt=Array.prototype.indexOf.call(Ie,x,void 0);(pn=0<=Vt)&&Array.prototype.splice.call(Ie,Vt,1),pn&&(sA(x),0==y.g[q].length&&(delete y.g[q],y.h--))}}function KS(y,x,q,Ie){for(var Vt=0;Vt<y.length;++Vt){var pn=y[Vt];if(!pn.da&&pn.listener==x&&pn.capture==!!q&&pn.ha==Ie)return Vt}return-1}aA.prototype.add=function(y,x,q,Ie,Vt){var pn=y.toString();(y=this.g[pn])||(y=this.g[pn]=[],this.h++);var er=KS(y,x,Ie,Vt);return-1<er?(x=y[er],q||(x.fa=!1)):((x=new Ex(x,this.src,pn,!!Ie,Vt)).fa=q,y.push(x)),x};var HS="closure_lm_"+(1e6*Math.random()|0),zS={};function rO(y,x,q,Ie,Vt){if(Ie&&Ie.once)return oO(y,x,q,Ie,Vt);if(Array.isArray(x)){for(var pn=0;pn<x.length;pn++)rO(y,x[pn],q,Ie,Vt);return null}return q=QS(q),y&&y[Z0]?y.K(x,q,w(Ie)?!!Ie.capture:!!Ie,Vt):iO(y,x,q,!1,Ie,Vt)}function iO(y,x,q,Ie,Vt,pn){if(!x)throw Error("Invalid event type");var er=w(Vt)?!!Vt.capture:!!Vt,No=XS(y);if(No||(y[HS]=No=new aA(y)),(q=No.add(x,q,Ie,er,pn)).proxy)return q;if(Ie=function Ix(){const x=Tx;return function y(q){return x.call(y.src,y.listener,q)}}(),q.proxy=Ie,Ie.src=y,Ie.listener=q,y.addEventListener)_x||(Vt=er),void 0===Vt&&(Vt=!1),y.addEventListener(x.toString(),Ie,Vt);else if(y.attachEvent)y.attachEvent(aO(x.toString()),Ie);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(Ie)}return q}function oO(y,x,q,Ie,Vt){if(Array.isArray(x)){for(var pn=0;pn<x.length;pn++)oO(y,x[pn],q,Ie,Vt);return null}return q=QS(q),y&&y[Z0]?y.L(x,q,w(Ie)?!!Ie.capture:!!Ie,Vt):iO(y,x,q,!0,Ie,Vt)}function sO(y,x,q,Ie,Vt){if(Array.isArray(x))for(var pn=0;pn<x.length;pn++)sO(y,x[pn],q,Ie,Vt);else Ie=w(Ie)?!!Ie.capture:!!Ie,q=QS(q),y&&y[Z0]?(y=y.i,(x=String(x).toString())in y.g&&-1<(q=KS(pn=y.g[x],q,Ie,Vt))&&(sA(pn[q]),Array.prototype.splice.call(pn,q,1),0==pn.length&&(delete y.g[x],y.h--))):y&&(y=XS(y))&&(x=y.g[x.toString()],y=-1,x&&(y=KS(x,q,Ie,Vt)),(q=-1<y?x[y]:null)&&GS(q))}function GS(y){if("number"!=typeof y&&y&&!y.da){var x=y.src;if(x&&x[Z0])WS(x.i,y);else{var q=y.type,Ie=y.proxy;x.removeEventListener?x.removeEventListener(q,Ie,y.capture):x.detachEvent?x.detachEvent(aO(q),Ie):x.addListener&&x.removeListener&&x.removeListener(Ie),(q=XS(x))?(WS(q,y),0==q.h&&(q.src=null,x[HS]=null)):sA(y)}}}function aO(y){return y in zS?zS[y]:zS[y]="on"+y}function Tx(y,x){if(y.da)y=!0;else{x=new J0(x,this);var q=y.listener,Ie=y.ha||y.src;y.fa&&GS(y),y=q.call(Ie,x)}return y}function XS(y){return(y=y[HS])instanceof aA?y:null}var qS="__closure_events_fn_"+(1e9*Math.random()>>>0);function QS(y){return"function"==typeof y?y:(y[qS]||(y[qS]=function(x){return y.handleEvent(x)}),y[qS])}function fa(){cp.call(this),this.i=new aA(this),this.M=this,this.F=null}function Pa(y,x){var q,Ie=y.F;if(Ie)for(q=[];Ie;Ie=Ie.F)q.push(Ie);if(y=y.M,Ie=x.type||x,"string"==typeof x)x=new ha(x,y);else if(x instanceof ha)x.target=x.target||y;else{var Vt=x;Mt(x=new ha(Ie,y),Vt)}if(Vt=!0,q)for(var pn=q.length-1;0<=pn;pn--){var er=x.g=q[pn];Vt=lA(er,Ie,!0,x)&&Vt}if(Vt=lA(er=x.g=y,Ie,!0,x)&&Vt,Vt=lA(er,Ie,!1,x)&&Vt,q)for(pn=0;pn<q.length;pn++)Vt=lA(er=x.g=q[pn],Ie,!1,x)&&Vt}function lA(y,x,q,Ie){if(!(x=y.i.g[String(x)]))return!0;x=x.concat();for(var Vt=!0,pn=0;pn<x.length;++pn){var er=x[pn];if(er&&!er.da&&er.capture==q){var No=er.listener,Zs=er.ha||er.src;er.fa&&WS(y.i,er),Vt=!1!==No.call(Zs,Ie)&&Vt}}return Vt&&!Ie.defaultPrevented}function lO(y,x,q){if("function"==typeof y)q&&(y=ce(y,q));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=ce(y.handleEvent,y)}return 2147483647<Number(x)?-1:_.setTimeout(y,x||0)}function cO(y){y.g=lO(()=>{y.g=null,y.i&&(y.i=!1,cO(y))},y.l);const x=y.h;y.h=null,y.m.apply(null,x)}At(fa,cp),fa.prototype[Z0]=!0,fa.prototype.removeEventListener=function(y,x,q,Ie){sO(this,y,x,q,Ie)},fa.prototype.N=function(){if(fa.aa.N.call(this),this.i){var x,y=this.i;for(x in y.g){for(var q=y.g[x],Ie=0;Ie<q.length;Ie++)sA(q[Ie]);delete y.g[x],y.h--}}this.F=null},fa.prototype.K=function(y,x,q,Ie){return this.i.add(String(y),x,!1,q,Ie)},fa.prototype.L=function(y,x,q,Ie){return this.i.add(String(y),x,!0,q,Ie)};class Dx extends cp{constructor(x,q){super(),this.m=x,this.l=q,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:cO(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eI(y){cp.call(this),this.h=y,this.g={}}At(eI,cp);var uO=[];function dO(y){Vr(y.g,function(x,q){this.g.hasOwnProperty(q)&&GS(x)},y),y.g={}}eI.prototype.N=function(){eI.aa.N.call(this),dO(this)},eI.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var YS=_.JSON.stringify,Cx=_.JSON.parse,Ax=class{stringify(y){return _.JSON.stringify(y,void 0)}parse(y){return _.JSON.parse(y,void 0)}};function JS(){}function fO(){}JS.prototype.h=null;var tI={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ZS(){ha.call(this,"d")}function eR(){ha.call(this,"c")}At(ZS,ha),At(eR,ha);var am={},pO=null;function cA(){return pO=pO||new fa}function gO(y){ha.call(this,am.La,y)}function nI(y){const x=cA();Pa(x,new gO(x))}function mO(y,x){ha.call(this,am.STAT_EVENT,y),this.stat=x}function Oa(y){const x=cA();Pa(x,new mO(x,y))}function _O(y,x){ha.call(this,am.Ma,y),this.size=x}function rI(y,x){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){y()},x)}function iI(){this.g=!0}function Py(y,x,q,Ie){y.info(function(){return"XMLHTTP TEXT ("+x+"): "+function Rx(y,x){if(!y.g)return x;if(!x)return null;try{var q=JSON.parse(x);if(q)for(y=0;y<q.length;y++)if(Array.isArray(q[y])){var Ie=q[y];if(!(2>Ie.length)){var Vt=Ie[1];if(Array.isArray(Vt)&&!(1>Vt.length)){var pn=Vt[0];if("noop"!=pn&&"stop"!=pn&&"close"!=pn)for(var er=1;er<Vt.length;er++)Vt[er]=""}}}return YS(q)}catch{return x}}(y,q)+(Ie?" "+Ie:"")})}am.La="serverreachability",At(gO,ha),am.STAT_EVENT="statevent",At(mO,ha),am.Ma="timingevent",At(_O,ha),iI.prototype.xa=function(){this.g=!1},iI.prototype.info=function(){};var tR,uA={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yO={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function dA(){}function up(y,x,q,Ie){this.j=y,this.i=x,this.l=q,this.R=Ie||1,this.U=new eI(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vO}function vO(){this.i=null,this.g="",this.h=!1}At(dA,JS),dA.prototype.g=function(){return new XMLHttpRequest},dA.prototype.i=function(){return{}},tR=new dA;var EO={},nR={};function rR(y,x,q){y.L=1,y.v=gA(xh(x)),y.m=q,y.P=!0,IO(y,null)}function IO(y,x){y.F=Date.now(),hA(y),y.A=xh(y.v);var q=y.A,Ie=y.R;Array.isArray(Ie)||(Ie=[String(Ie)]),kO(q.i,"t",Ie),y.C=0,q=y.j.J,y.h=new vO,y.g=ZO(y.j,q?x:null,!y.m),0<y.O&&(y.M=new Dx(ce(y.Y,y,y.g),y.O)),x=y.U,q=y.g,Ie=y.ca;var Vt="readystatechange";Array.isArray(Vt)||(Vt&&(uO[0]=Vt.toString()),Vt=uO);for(var pn=0;pn<Vt.length;pn++){var er=rO(q,Vt[pn],Ie||x.handleEvent,!1,x.h||x);if(!er)break;x.g[er.key]=er}x=y.H?Xe(y.H):{},y.m?(y.u||(y.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,x)):(y.u="GET",y.g.ea(y.A,y.u,null,x)),nI(),function bx(y,x,q,Ie,Vt,pn){y.info(function(){if(y.g)if(pn)for(var er="",No=pn.split("&"),Zs=0;Zs<No.length;Zs++){var to=No[Zs].split("=");if(1<to.length){var pa=to[0];to=to[1];var ga=pa.split("_");er=2<=ga.length&&"type"==ga[1]?er+(pa+"=")+to+"&":er+(pa+"=redacted&")}}else er=null;else er=pn;return"XMLHTTP REQ ("+Ie+") [attempt "+Vt+"]: "+x+"\n"+q+"\n"+er})}(y.i,y.u,y.A,y.l,y.R,y.m)}function TO(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function Mx(y,x){var q=y.C,Ie=x.indexOf("\n",q);return-1==Ie?nR:(q=Number(x.substring(q,Ie)),isNaN(q)?EO:(Ie+=1)+q>x.length?nR:(x=x.slice(Ie,Ie+q),y.C=Ie+q,x))}function hA(y){y.S=Date.now()+y.I,DO(y,y.I)}function DO(y,x){if(null!=y.B)throw Error("WatchDog timer not null");y.B=rI(ce(y.ba,y),x)}function iR(y){y.B&&(_.clearTimeout(y.B),y.B=null)}function oI(y){0==y.j.G||y.J||qO(y.j,y)}function lm(y){iR(y);var x=y.M;x&&"function"==typeof x.ma&&x.ma(),y.M=null,dO(y.U),y.g&&(x=y.g,y.g=null,x.abort(),x.ma())}function oR(y,x){try{var q=y.j;if(0!=q.G&&(q.g==y||sR(q.h,y)))if(!y.K&&sR(q.h,y)&&3==q.G){try{var Ie=q.Da.g.parse(x)}catch{Ie=null}if(Array.isArray(Ie)&&3==Ie.length){var Vt=Ie;if(0==Vt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<y.F))break e;EA(q),yA(q)}uR(q),Oa(18)}}else q.za=Vt[1],0<q.za-q.T&&37500>Vt[2]&&q.F&&0==q.v&&!q.C&&(q.C=rI(ce(q.Za,q),6e3));if(1>=bO(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else um(q,11)}else if((y.K||q.g==y)&&EA(q),!Bn(x))for(Vt=q.Da.g.parse(x),x=0;x<Vt.length;x++){let to=Vt[x];if(q.T=to[0],to=to[1],2==q.G)if("c"==to[0]){q.K=to[1],q.ia=to[2];const pa=to[3];null!=pa&&(q.la=pa,q.j.info("VER="+q.la));const ga=to[4];null!=ga&&(q.Aa=ga,q.j.info("SVER="+q.Aa));const xy=to[5];null!=xy&&"number"==typeof xy&&0<xy&&(q.L=Ie=1.5*xy,q.j.info("backChannelRequestTimeoutMs_="+Ie)),Ie=q;const au=y.g;if(au){const TA=au.g?au.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(TA){var pn=Ie.h;pn.g||-1==TA.indexOf("spdy")&&-1==TA.indexOf("quic")&&-1==TA.indexOf("h2")||(pn.j=pn.l,pn.g=new Set,pn.h&&(aR(pn,pn.h),pn.h=null))}if(Ie.D){const hR=au.g?au.g.getResponseHeader("X-HTTP-Session-Id"):null;hR&&(Ie.ya=hR,Qo(Ie.I,Ie.D,hR))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-y.F,q.j.info("Handshake RTT: "+q.R+"ms"));var er=y;if((Ie=q).qa=JO(Ie,Ie.J?Ie.ia:null,Ie.W),er.K){wO(Ie.h,er);var No=er,Zs=Ie.L;Zs&&(No.I=Zs),No.B&&(iR(No),hA(No)),Ie.g=er}else GO(Ie);0<q.i.length&&vA(q)}else"stop"!=to[0]&&"close"!=to[0]||um(q,7);else 3==q.G&&("stop"==to[0]||"close"==to[0]?"stop"==to[0]?um(q,7):cR(q):"noop"!=to[0]&&q.l&&q.l.ta(to),q.v=0)}nI()}catch{}}up.prototype.ca=function(y){y=y.target;const x=this.M;x&&3==kh(y)?x.j():this.Y(y)},up.prototype.Y=function(y){try{if(y==this.g)e:{const ga=kh(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>ga)&&(3!=ga||this.g&&(this.h.h||this.g.oa()||jO(this.g)))){this.J||4!=ga||7==x||nI(),iR(this);var q=this.g.Z();this.X=q;t:if(TO(this)){var Ie=jO(this.g);y="";var Vt=Ie.length,pn=4==kh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lm(this),oI(this);var er="";break t}this.h.i=new _.TextDecoder}for(x=0;x<Vt;x++)this.h.h=!0,y+=this.h.i.decode(Ie[x],{stream:!(pn&&x==Vt-1)});Ie.length=0,this.h.g+=y,this.C=0,er=this.h.g}else er=this.g.oa();if(this.o=200==q,function wx(y,x,q,Ie,Vt,pn,er){y.info(function(){return"XMLHTTP RESP ("+Ie+") [ attempt "+Vt+"]: "+x+"\n"+q+"\n"+pn+" "+er})}(this.i,this.u,this.A,this.l,this.R,ga,q),this.o){if(this.T&&!this.K){t:{if(this.g){var No,Zs=this.g;if((No=Zs.g?Zs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(No)){var to=No;break t}}to=null}if(!(q=to)){this.o=!1,this.s=3,Oa(12),lm(this),oI(this);break e}Py(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oR(this,q)}if(this.P){let au;for(q=!0;!this.J&&this.C<er.length;){if(au=Mx(this,er),au==nR){4==ga&&(this.s=4,Oa(14),q=!1),Py(this.i,this.l,null,"[Incomplete Response]");break}if(au==EO){this.s=4,Oa(15),Py(this.i,this.l,er,"[Invalid Chunk]"),q=!1;break}Py(this.i,this.l,au,null),oR(this,au)}if(TO(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ga||0!=er.length||this.h.h||(this.s=1,Oa(16),q=!1),this.o=this.o&&q,q){if(0<er.length&&!this.W){this.W=!0;var pa=this.j;pa.g==this&&pa.ba&&!pa.M&&(pa.j.info("Great, no buffering proxy detected. Bytes received: "+er.length),dR(pa),pa.M=!0,Oa(11))}}else Py(this.i,this.l,er,"[Invalid Chunked Response]"),lm(this),oI(this)}else Py(this.i,this.l,er,null),oR(this,er);4==ga&&lm(this),this.o&&!this.J&&(4==ga?qO(this.j,this):(this.o=!1,hA(this)))}else(function Gx(y){const x={};y=(y.g&&2<=kh(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let Ie=0;Ie<y.length;Ie++){if(Bn(y[Ie]))continue;var q=Ft(y[Ie]);const Vt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const pn=x[Vt]||[];x[Vt]=pn,pn.push(q)}!function St(y,x){for(const q in y)x.call(void 0,y[q],q,y)}(x,function(Ie){return Ie.join(", ")})})(this.g),400==q&&0<er.indexOf("Unknown SID")?(this.s=3,Oa(12)):(this.s=0,Oa(13)),lm(this),oI(this)}}}catch{}},up.prototype.cancel=function(){this.J=!0,lm(this)},up.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function Sx(y,x){y.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(nI(),Oa(17)),lm(this),this.s=2,oI(this)):DO(this,this.S-y)};var Px=class{constructor(y,x){this.g=y,this.map=x}};function CO(y){this.l=y||10,y=_.PerformanceNavigationTiming?0<(y=_.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AO(y){return!!y.h||!!y.g&&y.g.size>=y.j}function bO(y){return y.h?1:y.g?y.g.size:0}function sR(y,x){return y.h?y.h==x:!!y.g&&y.g.has(x)}function aR(y,x){y.g?y.g.add(x):y.h=x}function wO(y,x){y.h&&y.h==x?y.h=null:y.g&&y.g.has(x)&&y.g.delete(x)}function SO(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let x=y.i;for(const q of y.g.values())x=x.concat(q.D);return x}return Wt(y.i)}function RO(y,x){if(y.forEach&&"function"==typeof y.forEach)y.forEach(x,void 0);else if(I(y)||"string"==typeof y)Array.prototype.forEach.call(y,x,void 0);else for(var q=function Nx(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(I(y)||"string"==typeof y){var x=[];y=y.length;for(var q=0;q<y;q++)x.push(q);return x}x=[],q=0;for(const Ie in y)x[q++]=Ie;return x}}}(y),Ie=function Ox(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(I(y)){for(var x=[],q=y.length,Ie=0;Ie<q;Ie++)x.push(y[Ie]);return x}for(Ie in x=[],q=0,y)x[q++]=y[Ie];return x}(y),Vt=Ie.length,pn=0;pn<Vt;pn++)x.call(void 0,Ie[pn],q&&q[pn],y)}CO.prototype.cancel=function(){if(this.i=SO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var MO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cm(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof cm){this.h=y.h,fA(this,y.j),this.o=y.o,this.g=y.g,pA(this,y.s),this.l=y.l;var x=y.i,q=new lI;q.i=x.i,x.g&&(q.g=new Map(x.g),q.h=x.h),PO(this,q),this.m=y.m}else y&&(x=String(y).match(MO))?(this.h=!1,fA(this,x[1]||"",!0),this.o=sI(x[2]||""),this.g=sI(x[3]||"",!0),pA(this,x[4]),this.l=sI(x[5]||"",!0),PO(this,x[6]||"",!0),this.m=sI(x[7]||"")):(this.h=!1,this.i=new lI(null,this.h))}function xh(y){return new cm(y)}function fA(y,x,q){y.j=q?sI(x,!0):x,y.j&&(y.j=y.j.replace(/:$/,""))}function pA(y,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);y.s=x}else y.s=null}function PO(y,x,q){x instanceof lI?(y.i=x,function Bx(y,x){x&&!y.j&&(dp(y),y.i=null,y.g.forEach(function(q,Ie){var Vt=Ie.toLowerCase();Ie!=Vt&&(NO(this,Ie),kO(this,Vt,q))},y)),y.j=x}(y.i,y.h)):(q||(x=aI(x,Vx)),y.i=new lI(x,y.h))}function Qo(y,x,q){y.i.set(x,q)}function gA(y){return Qo(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function sI(y,x){return y?x?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function aI(y,x,q){return"string"==typeof y?(y=encodeURI(y).replace(x,kx),q&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function kx(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}cm.prototype.toString=function(){var y=[],x=this.j;x&&y.push(aI(x,OO,!0),":");var q=this.g;return(q||"file"==x)&&(y.push("//"),(x=this.o)&&y.push(aI(x,OO,!0),"@"),y.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&y.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&y.push("/"),y.push(aI(q,"/"==q.charAt(0)?Fx:Lx,!0))),(q=this.i.toString())&&y.push("?",q),(q=this.m)&&y.push("#",aI(q,Ux)),y.join("")};var OO=/[#\/\?@]/g,Lx=/[#\?:]/g,Fx=/[#\?]/g,Vx=/[#\?@]/g,Ux=/#/g;function lI(y,x){this.h=this.g=null,this.i=y||null,this.j=!!x}function dp(y){y.g||(y.g=new Map,y.h=0,y.i&&function xx(y,x){if(y){y=y.split("&");for(var q=0;q<y.length;q++){var Ie=y[q].indexOf("="),Vt=null;if(0<=Ie){var pn=y[q].substring(0,Ie);Vt=y[q].substring(Ie+1)}else pn=y[q];x(pn,Vt?decodeURIComponent(Vt.replace(/\+/g," ")):"")}}}(y.i,function(x,q){y.add(decodeURIComponent(x.replace(/\+/g," ")),q)}))}function NO(y,x){dp(y),x=Oy(y,x),y.g.has(x)&&(y.i=null,y.h-=y.g.get(x).length,y.g.delete(x))}function xO(y,x){return dp(y),x=Oy(y,x),y.g.has(x)}function kO(y,x,q){NO(y,x),0<q.length&&(y.i=null,y.g.set(Oy(y,x),Wt(q)),y.h+=q.length)}function Oy(y,x){return x=String(x),y.j&&(x=x.toLowerCase()),x}function hp(y,x,q,Ie,Vt){try{Vt&&(Vt.onload=null,Vt.onerror=null,Vt.onabort=null,Vt.ontimeout=null),Ie(q)}catch{}}function Wx(){this.g=new Ax}function Kx(y,x,q){const Ie=q||"";try{RO(y,function(Vt,pn){let er=Vt;w(Vt)&&(er=YS(Vt)),x.push(Ie+pn+"="+encodeURIComponent(er))})}catch(Vt){throw x.push(Ie+"type="+encodeURIComponent("_badmap")),Vt}}function cI(y){this.l=y.Ub||null,this.j=y.eb||!1}function mA(y,x){fa.call(this),this.D=y,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function LO(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function uI(y){y.readyState=4,y.l=null,y.j=null,y.v=null,dI(y)}function dI(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function FO(y){let x="";return Vr(y,function(q,Ie){x+=Ie,x+=":",x+=q,x+="\r\n"}),x}function lR(y,x,q){e:{for(Ie in q){var Ie=!1;break e}Ie=!0}Ie||(q=FO(q),"string"==typeof y?null!=q&&encodeURIComponent(String(q)):Qo(y,x,q))}function us(y){fa.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(r=lI.prototype).add=function(y,x){dp(this),this.i=null,y=Oy(this,y);var q=this.g.get(y);return q||this.g.set(y,q=[]),q.push(x),this.h+=1,this},r.forEach=function(y,x){dp(this),this.g.forEach(function(q,Ie){q.forEach(function(Vt){y.call(x,Vt,Ie,this)},this)},this)},r.na=function(){dp(this);const y=Array.from(this.g.values()),x=Array.from(this.g.keys()),q=[];for(let Ie=0;Ie<x.length;Ie++){const Vt=y[Ie];for(let pn=0;pn<Vt.length;pn++)q.push(x[Ie])}return q},r.V=function(y){dp(this);let x=[];if("string"==typeof y)xO(this,y)&&(x=x.concat(this.g.get(Oy(this,y))));else{y=Array.from(this.g.values());for(let q=0;q<y.length;q++)x=x.concat(y[q])}return x},r.set=function(y,x){return dp(this),this.i=null,xO(this,y=Oy(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[x]),this.h+=1,this},r.get=function(y,x){return y&&0<(y=this.V(y)).length?String(y[0]):x},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],x=Array.from(this.g.keys());for(var q=0;q<x.length;q++){var Ie=x[q];const pn=encodeURIComponent(String(Ie)),er=this.V(Ie);for(Ie=0;Ie<er.length;Ie++){var Vt=pn;""!==er[Ie]&&(Vt+="="+encodeURIComponent(String(er[Ie]))),y.push(Vt)}}return this.i=y.join("&")},At(cI,JS),cI.prototype.g=function(){return new mA(this.l,this.j)},cI.prototype.i=function(y){return function(){return y}}({}),At(mA,fa),(r=mA.prototype).open=function(y,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=x,this.readyState=1,dI(this)},r.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(x.body=y),(this.D||_).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uI(this)),this.readyState=0},r.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,dI(this)),this.g&&(this.readyState=3,dI(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;LO(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},r.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var x=y.value?y.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!y.done}))&&(this.response=this.responseText+=x)}y.done?uI(this):dI(this),3==this.readyState&&LO(this)}},r.Ra=function(y){this.g&&(this.response=this.responseText=y,uI(this))},r.Qa=function(y){this.g&&(this.response=y,uI(this))},r.ga=function(){this.g&&uI(this)},r.setRequestHeader=function(y,x){this.u.append(y,x)},r.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],x=this.h.entries();for(var q=x.next();!q.done;)y.push((q=q.value)[0]+": "+q[1]),q=x.next();return y.join("\r\n")},Object.defineProperty(mA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),At(us,fa);var Hx=/^https?$/i,zx=["POST","PUT"];function VO(y,x){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=x,y.m=5,UO(y),_A(y)}function UO(y){y.A||(y.A=!0,Pa(y,"complete"),Pa(y,"error"))}function BO(y){if(y.h&&typeof f<"u"&&(!y.v[1]||4!=kh(y)||2!=y.Z()))if(y.u&&4==kh(y))lO(y.Ea,0,y);else if(Pa(y,"readystatechange"),4==kh(y)){y.h=!1;try{const er=y.Z();e:switch(er){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var q;if(!(q=x)){var Ie;if(Ie=0===er){var Vt=String(y.D).match(MO)[1]||null;!Vt&&_.self&&_.self.location&&(Vt=_.self.location.protocol.slice(0,-1)),Ie=!Hx.test(Vt?Vt.toLowerCase():"")}q=Ie}if(q)Pa(y,"complete"),Pa(y,"success");else{y.m=6;try{var pn=2<kh(y)?y.g.statusText:""}catch{pn=""}y.l=pn+" ["+y.Z()+"]",UO(y)}}finally{_A(y)}}}function _A(y,x){if(y.g){$O(y);const q=y.g,Ie=y.v[0]?()=>{}:null;y.g=null,y.v=null,x||Pa(y,"ready");try{q.onreadystatechange=Ie}catch{}}}function $O(y){y.I&&(_.clearTimeout(y.I),y.I=null)}function kh(y){return y.g?y.g.readyState:0}function jO(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function hI(y,x,q){return q&&q.internalChannelParams&&q.internalChannelParams[y]||x}function WO(y){this.Aa=0,this.i=[],this.j=new iI,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hI("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hI("baseRetryDelayMs",5e3,y),this.cb=hI("retryDelaySeedMs",1e4,y),this.Wa=hI("forwardChannelMaxRetries",2,y),this.wa=hI("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new CO(y&&y.concurrentRequestLimit),this.Da=new Wx,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function cR(y){if(KO(y),3==y.G){var x=y.U++,q=xh(y.I);if(Qo(q,"SID",y.K),Qo(q,"RID",x),Qo(q,"TYPE","terminate"),fI(y,q),(x=new up(y,y.j,x)).L=2,x.v=gA(xh(q)),q=!1,_.navigator&&_.navigator.sendBeacon)try{q=_.navigator.sendBeacon(x.v.toString(),"")}catch{}!q&&_.Image&&((new Image).src=x.v,q=!0),q||(x.g=ZO(x.j,null),x.g.ea(x.v)),x.F=Date.now(),hA(x)}YO(y)}function yA(y){y.g&&(dR(y),y.g.cancel(),y.g=null)}function KO(y){yA(y),y.u&&(_.clearTimeout(y.u),y.u=null),EA(y),y.h.cancel(),y.s&&("number"==typeof y.s&&_.clearTimeout(y.s),y.s=null)}function vA(y){if(!AO(y.h)&&!y.s){y.s=!0;var x=y.Ga;Q0||nO(),Y0||(Q0(),Y0=!0),jS.add(x,y),y.B=0}}function HO(y,x){var q;q=x?x.l:y.U++;const Ie=xh(y.I);Qo(Ie,"SID",y.K),Qo(Ie,"RID",q),Qo(Ie,"AID",y.T),fI(y,Ie),y.m&&y.o&&lR(Ie,y.m,y.o),q=new up(y,y.j,q,y.B+1),null===y.m&&(q.H=y.o),x&&(y.i=x.D.concat(y.i)),x=zO(y,q,1e3),q.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),aR(y.h,q),rR(q,Ie,x)}function fI(y,x){y.H&&Vr(y.H,function(q,Ie){Qo(x,Ie,q)}),y.l&&RO({},function(q,Ie){Qo(x,Ie,q)})}function zO(y,x,q){q=Math.min(y.i.length,q);var Ie=y.l?ce(y.l.Na,y.l,y):null;e:{var Vt=y.i;let pn=-1;for(;;){const er=["count="+q];-1==pn?0<q?(pn=Vt[0].g,er.push("ofs="+pn)):pn=0:er.push("ofs="+pn);let No=!0;for(let Zs=0;Zs<q;Zs++){let to=Vt[Zs].g;const pa=Vt[Zs].map;if(to-=pn,0>to)pn=Math.max(0,Vt[Zs].g-100),No=!1;else try{Kx(pa,er,"req"+to+"_")}catch{Ie&&Ie(pa)}}if(No){Ie=er.join("&");break e}}}return y=y.i.splice(0,q),x.D=y,Ie}function GO(y){if(!y.g&&!y.u){y.Y=1;var x=y.Fa;Q0||nO(),Y0||(Q0(),Y0=!0),jS.add(x,y),y.v=0}}function uR(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=rI(ce(y.Fa,y),QO(y,y.v)),y.v++,0))}function dR(y){null!=y.A&&(_.clearTimeout(y.A),y.A=null)}function XO(y){y.g=new up(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var x=xh(y.qa);Qo(x,"RID","rpc"),Qo(x,"SID",y.K),Qo(x,"AID",y.T),Qo(x,"CI",y.F?"0":"1"),!y.F&&y.ja&&Qo(x,"TO",y.ja),Qo(x,"TYPE","xmlhttp"),fI(y,x),y.m&&y.o&&lR(x,y.m,y.o),y.L&&(y.g.I=y.L);var q=y.g;y=y.ia,q.L=1,q.v=gA(xh(x)),q.m=null,q.P=!0,IO(q,y)}function EA(y){null!=y.C&&(_.clearTimeout(y.C),y.C=null)}function qO(y,x){var q=null;if(y.g==x){EA(y),dR(y),y.g=null;var Ie=2}else{if(!sR(y.h,x))return;q=x.D,wO(y.h,x),Ie=1}if(0!=y.G)if(x.o)if(1==Ie){q=x.m?x.m.length:0,x=Date.now()-x.F;var Vt=y.B;Pa(Ie=cA(),new _O(Ie,q)),vA(y)}else GO(y);else if(3==(Vt=x.s)||0==Vt&&0<x.X||!(1==Ie&&function Xx(y,x){return!(bO(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=x.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=rI(ce(y.Ga,y,x),QO(y,y.B)),y.B++,0)))}(y,x)||2==Ie&&uR(y)))switch(q&&0<q.length&&(x=y.h,x.i=x.i.concat(q)),Vt){case 1:um(y,5);break;case 4:um(y,10);break;case 3:um(y,6);break;default:um(y,2)}}function QO(y,x){let q=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(q*=2),q*x}function um(y,x){if(y.j.info("Error code "+x),2==x){var q=ce(y.fb,y),Ie=y.Xa;const Vt=!Ie;Ie=new cm(Ie||"//www.google.com/images/cleardot.gif"),_.location&&"http"==_.location.protocol||fA(Ie,"https"),gA(Ie),Vt?function $x(y,x){const q=new iI;if(_.Image){const Ie=new Image;Ie.onload=Ke(hp,q,"TestLoadImage: loaded",!0,x,Ie),Ie.onerror=Ke(hp,q,"TestLoadImage: error",!1,x,Ie),Ie.onabort=Ke(hp,q,"TestLoadImage: abort",!1,x,Ie),Ie.ontimeout=Ke(hp,q,"TestLoadImage: timeout",!1,x,Ie),_.setTimeout(function(){Ie.ontimeout&&Ie.ontimeout()},1e4),Ie.src=y}else x(!1)}(Ie.toString(),q):function jx(y,x){new iI;const Ie=new AbortController,Vt=setTimeout(()=>{Ie.abort(),hp(0,0,!1,x)},1e4);fetch(y,{signal:Ie.signal}).then(pn=>{clearTimeout(Vt),hp(0,0,!!pn.ok,x)}).catch(()=>{clearTimeout(Vt),hp(0,0,!1,x)})}(Ie.toString(),q)}else Oa(2);y.G=0,y.l&&y.l.sa(x),YO(y),KO(y)}function YO(y){if(y.G=0,y.ka=[],y.l){const x=SO(y.h);(0!=x.length||0!=y.i.length)&&(Ut(y.ka,x),Ut(y.ka,y.i),y.h.i.length=0,Wt(y.i),y.i.length=0),y.l.ra()}}function JO(y,x,q){var Ie=q instanceof cm?xh(q):new cm(q);if(""!=Ie.g)x&&(Ie.g=x+"."+Ie.g),pA(Ie,Ie.s);else{var Vt=_.location;Ie=Vt.protocol,x=x?x+"."+Vt.hostname:Vt.hostname,Vt=+Vt.port;var pn=new cm(null);Ie&&fA(pn,Ie),x&&(pn.g=x),Vt&&pA(pn,Vt),q&&(pn.l=q),Ie=pn}return x=y.ya,(q=y.D)&&x&&Qo(Ie,q,x),Qo(Ie,"VER",y.la),fI(y,Ie),Ie}function ZO(y,x,q){if(x&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new us(y.Ca&&!y.pa?new cI({eb:q}):y.pa)).Ha(y.J),x}function eN(){}function IA(){}function Bl(y,x){fa.call(this),this.g=new WO(x),this.l=y,this.h=x&&x.messageUrlParams||null,y=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(y?y["X-WebChannel-Content-Type"]=x.messageContentType:y={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(y?y["X-WebChannel-Client-Profile"]=x.va:y={"X-WebChannel-Client-Profile":x.va}),this.g.S=y,(y=x&&x.Sb)&&!Bn(y)&&(this.g.m=y),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!Bn(x)&&(this.g.D=x,null!==(y=this.h)&&x in y&&x in(y=this.h)&&delete y[x]),this.j=new Ny(this)}function tN(y){ZS.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var x=y.__sm__;if(x){e:{for(const q in x){y=q;break e}y=void 0}(this.i=y)&&(y=this.i,x=null!==x&&y in x?x[y]:void 0),this.data=x}else this.data=y}function nN(){eR.call(this),this.status=1}function Ny(y){this.g=y}(r=us.prototype).Ha=function(y){this.J=y},r.ea=function(y,x,q,Ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);x=x?x.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tR.g(),this.v=function hO(y){return y.h||(y.h=y.i())}(this.o?this.o:tR),this.g.onreadystatechange=ce(this.Ea,this);try{this.B=!0,this.g.open(x,String(y),!0),this.B=!1}catch(pn){return void VO(this,pn)}if(y=q||"",q=new Map(this.headers),Ie)if(Object.getPrototypeOf(Ie)===Object.prototype)for(var Vt in Ie)q.set(Vt,Ie[Vt]);else{if("function"!=typeof Ie.keys||"function"!=typeof Ie.get)throw Error("Unknown input type for opt_headers: "+String(Ie));for(const pn of Ie.keys())q.set(pn,Ie.get(pn))}Ie=Array.from(q.keys()).find(pn=>"content-type"==pn.toLowerCase()),Vt=_.FormData&&y instanceof _.FormData,!(0<=Array.prototype.indexOf.call(zx,x,void 0))||Ie||Vt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pn,er]of q)this.g.setRequestHeader(pn,er);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$O(this),this.u=!0,this.g.send(y),this.u=!1}catch(pn){VO(this,pn)}},r.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Pa(this,"complete"),Pa(this,"abort"),_A(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_A(this,!0)),us.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?BO(this):this.bb())},r.bb=function(){BO(this)},r.isActive=function(){return!!this.g},r.Z=function(){try{return 2<kh(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(y){if(this.g){var x=this.g.responseText;return y&&0==x.indexOf(y)&&(x=x.substring(y.length)),Cx(x)}},r.Ba=function(){return this.m},r.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(r=WO.prototype).la=8,r.G=1,r.connect=function(y,x,q,Ie){Oa(0),this.W=y,this.H=x||{},q&&void 0!==Ie&&(this.H.OSID=q,this.H.OAID=Ie),this.F=this.X,this.I=JO(this,null,this.W),vA(this)},r.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Vt=new up(this,this.j,y);let pn=this.o;if(this.S&&(pn?(pn=Xe(pn),Mt(pn,this.S)):pn=this.S),null!==this.m||this.O||(Vt.H=pn,pn=null),this.P)e:{for(var x=0,q=0;q<this.i.length;q++){var Ie=this.i[q];if(void 0===(Ie="__data__"in Ie.map&&"string"==typeof(Ie=Ie.map.__data__)?Ie.length:void 0))break;if(4096<(x+=Ie)){x=q;break e}if(4096===x||q===this.i.length-1){x=q+1;break e}}x=1e3}else x=1e3;x=zO(this,Vt,x),Qo(q=xh(this.I),"RID",y),Qo(q,"CVER",22),this.D&&Qo(q,"X-HTTP-Session-Id",this.D),fI(this,q),pn&&(this.O?x="headers="+encodeURIComponent(String(FO(pn)))+"&"+x:this.m&&lR(q,this.m,pn)),aR(this.h,Vt),this.Ua&&Qo(q,"TYPE","init"),this.P?(Qo(q,"$req",x),Qo(q,"SID","null"),Vt.T=!0,rR(Vt,q,null)):rR(Vt,q,x),this.G=2}}else 3==this.G&&(y?HO(this,y):0==this.i.length||AO(this.h)||HO(this))},r.Fa=function(){if(this.u=null,XO(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=rI(ce(this.ab,this),y)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oa(10),yA(this),XO(this))},r.Za=function(){null!=this.C&&(this.C=null,yA(this),uR(this),Oa(19))},r.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Oa(2)):(this.j.info("Failed to ping google.com"),Oa(1))},r.isActive=function(){return!!this.l&&this.l.isActive(this)},(r=eN.prototype).ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){},IA.prototype.g=function(y,x){return new Bl(y,x)},At(Bl,fa),Bl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bl.prototype.close=function(){cR(this.g)},Bl.prototype.o=function(y){var x=this.g;if("string"==typeof y){var q={};q.__data__=y,y=q}else this.u&&((q={}).__data__=YS(y),y=q);x.i.push(new Px(x.Ya++,y)),3==x.G&&vA(x)},Bl.prototype.N=function(){this.g.l=null,delete this.j,cR(this.g),delete this.g,Bl.aa.N.call(this)},At(tN,ZS),At(nN,eR),At(Ny,eN),Ny.prototype.ua=function(){Pa(this.g,"a")},Ny.prototype.ta=function(y){Pa(this.g,new tN(y))},Ny.prototype.sa=function(y){Pa(this.g,new nN)},Ny.prototype.ra=function(){Pa(this.g,"b")},IA.prototype.createWebChannel=IA.prototype.g,Bl.prototype.send=Bl.prototype.o,Bl.prototype.open=Bl.prototype.m,Bl.prototype.close=Bl.prototype.close,cl=Mo.createWebChannelTransport=function(){return new IA},Dd=Mo.getStatEventTarget=function(){return cA()},ll=Mo.Event=am,uu=Mo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uA.NO_ERROR=0,uA.TIMEOUT=8,uA.HTTP_ERROR=6,al=Mo.ErrorCode=uA,yO.COMPLETE="complete",Ec=Mo.EventType=yO,fO.EventType=tI,tI.OPEN="a",tI.CLOSE="b",tI.ERROR="c",tI.MESSAGE="d",fa.prototype.listen=fa.prototype.K,ta=Mo.WebChannel=fO,Mo.FetchXmlHttpFactory=cI,us.prototype.listenOnce=us.prototype.L,us.prototype.getLastError=us.prototype.Ka,us.prototype.getLastErrorCode=us.prototype.Ba,us.prototype.getStatus=us.prototype.Z,us.prototype.getResponseJson=us.prototype.Oa,us.prototype.getResponseText=us.prototype.oa,us.prototype.send=us.prototype.ea,us.prototype.setWithCredentials=us.prototype.Ha,ya=Mo.XhrIo=us}).apply(typeof sl<"u"?sl:typeof self<"u"?self:typeof window<"u"?window:{});const ul="@firebase/firestore";class Eo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Eo.UNAUTHENTICATED=new Eo(null),Eo.GOOGLE_CREDENTIALS=new Eo("google-credentials-uid"),Eo.FIRST_PARTY=new Eo("first-party-uid"),Eo.MOCK_USER=new Eo("mock-user");let Hs="10.14.0";const dl=new ts.Vy("@firebase/firestore");function zl(){return dl.logLevel}function bn(r,...e){if(dl.logLevel<=ts.$b.DEBUG){const t=e.map(zs);dl.debug(`Firestore (${Hs}): ${r}`,...t)}}function Io(r,...e){if(dl.logLevel<=ts.$b.ERROR){const t=e.map(zs);dl.error(`Firestore (${Hs}): ${r}`,...t)}}function hs(r,...e){if(dl.logLevel<=ts.$b.WARN){const t=e.map(zs);dl.warn(`Firestore (${Hs}): ${r}`,...t)}}function zs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function zn(r="Unexpected state"){const e=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+r;throw Io(e),new Error(e)}function ir(r,e){r||zn()}function $n(r,e){return r}const Yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Cn extends be.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class du{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Eo.UNAUTHENTICATED))}shutdown(){}}class fl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fh{constructor(e){this.t=e,this.currentUser=Eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;ir(void 0===this.o);let a=this.i;const c=w=>this.i!==a?(a=this.i,t(w)):Promise.resolve();let f=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Vo,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const w=f;e.enqueueRetryable((0,gt.A)(function*(){yield w.promise,yield c(i.currentUser)}))},I=w=>{bn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),_())};this.t.onInit(w=>I(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?I(w):(bn("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Vo)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(bn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ir("string"==typeof i.accessToken),new du(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ir(null===e||"string"==typeof e),new Eo(e)}}class pl{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Eo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ic{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new pl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ir(void 0===this.o);const i=c=>{null!=c.error&&bn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,bn("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{bn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):bn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ir("string"==typeof t.token),this.R=t.token,new hu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gl(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class Dc{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=Gl(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return i}}function Cr(r,e){return r<e?-1:r>e?1:0}function gl(r,e,t){return r.length===e.length&&r.every((i,a)=>t(i,e[a]))}function Cc(r){return r+"\0"}class _i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Cn(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Cn(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Cn(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Cn(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _i.fromMillis(Date.now())}static fromDate(e){return _i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new _i(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cr(this.nanoseconds,e.nanoseconds):Cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mr(e)}static min(){return new mr(new _i(0,0))}static max(){return new mr(new _i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yi{constructor(e,t,i){void 0===t?t=0:t>e.length&&zn(),void 0===i?i=e.length-t:i>e.length-t&&zn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===yi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qr extends yi{construct(e,t,i){return new Qr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Cn(Yt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Qr(t)}static emptyPath(){return new Qr([])}}const Xl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends yi{construct(e,t,i){return new Si(e,t,i)}static isValidIdentifier(e){return Xl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Si(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(0===i.length)throw new Cn(Yt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let f=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Cn(Yt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[a+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Cn(Yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=I,a+=2}else"`"===_?(f=!f,a++):"."!==_||f?(i+=_,a++):(c(),a++)}if(c(),f)throw new Cn(Yt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Si(t)}static emptyPath(){return new Si([])}}class Wn{constructor(e){this.path=e}static fromPath(e){return new Wn(Qr.fromString(e))}static fromName(e){return new Wn(Qr.fromString(e).popFirst(5))}static empty(){return new Wn(Qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wn(new Qr(e.slice()))}}class D{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function M(r){return r.fields.find(e=>2===e.kind)}function A(r){return r.fields.filter(e=>2!==e.kind)}D.UNKNOWN_ID=-1;class G{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ne{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ne(0,Qn.min())}}function Dt(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=mr.fromTimestamp(1e9===i?new _i(t+1,0):new _i(t,i));return new Qn(a,Wn.empty(),e)}function fn(r){return new Qn(r.readTime,r.key,-1)}class Qn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Qn(mr.min(),Wn.empty(),-1)}static max(){return new Qn(mr.max(),Wn.empty(),-1)}}function ci(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Wn.comparator(r.documentKey,e.documentKey),0!==t?t:Cr(r.largestBatchId,e.largestBatchId))}const Ui="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xo(r){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,gt.A)(function*(r){if(r.code!==Yt.FAILED_PRECONDITION||r.message!==Ui)throw r;bn("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Nt((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Nt?t:Nt.resolve(t)}catch(t){return Nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.reject(t)}static resolve(e){return new Nt((t,i)=>{t(e)})}static reject(e){return new Nt((t,i)=>{i(e)})}static waitFor(e){return new Nt((t,i)=>{let a=0,c=0,f=!1;e.forEach(_=>{++a,_.next(()=>{++c,f&&c===a&&t()},I=>i(I))}),f=!0,c===a&&t()})}static or(e){let t=Nt.resolve(!1);for(const i of e)t=t.next(a=>a?Nt.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new Nt((i,a)=>{const c=e.length,f=new Array(c);let _=0;for(let I=0;I<c;I++){const w=I;t(e[w]).next(V=>{f[w]=V,++_,_===c&&i(f)},V=>a(V))}})}static doWhile(e,t){return new Nt((i,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):i()};c()})}}class Gs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Vo,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ql(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const a=Ss(i.target.error);this.V.reject(new ql(e,a))}}static open(e,t,i,a){try{return new Gs(t,e.transaction(a,i))}catch(c){throw new ql(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(bn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Uh(t)}}class ws{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===ws.S((0,be.ZQ)())&&Io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return bn("SimpleDb","Removing database:",e),ml(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.zW)())return!1;if(ws.v())return!0;const e=(0,be.ZQ)(),t=ws.S(e),i=0<t&&t<10,a=Ea(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,gt.A)(function*(){return t.db||(bn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{i(f.target.result)},c.onblocked=()=>{a(new ql(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const _=f.target.error;a("VersionError"===_.name?new Cn(Yt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Cn(Yt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new ql(e,_))},c.onupgradeneeded=f=>{bn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.p.O(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{bn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var c=this;return(0,gt.A)(function*(){const f="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.M(e);const I=Gs.open(c.db,e,f?"readonly":"readwrite",i),w=a(I).next(V=>(I.g(),V)).catch(V=>(I.abort(V),Nt.reject(V))).toPromise();return w.catch(()=>{}),yield I.m,w}catch(I){const w=I,V="FirebaseError"!==w.name&&_<3;if(bn("SimpleDb","Transaction failed with error:",w.message,"Retrying:",V),c.close(),!V)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ea(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Ia{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ml(this.B.delete())}}class ql extends Cn{constructor(e,t){super(Yt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function na(r){return"IndexedDbTransactionError"===r.name}class Uh{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(bn("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(bn("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ml(i)}add(e){return bn("SimpleDb","ADD",this.store.name,e,e),ml(this.store.add(e))}get(e){return ml(this.store.get(e)).next(t=>(void 0===t&&(t=null),bn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return bn("SimpleDb","DELETE",this.store.name,e),ml(this.store.delete(e))}count(){return bn("SimpleDb","COUNT",this.store.name),ml(this.store.count())}U(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if("function"==typeof a.getAll){const c=a.getAll(i.range);return new Nt((f,_)=>{c.onerror=I=>{_(I.target.error)},c.onsuccess=I=>{f(I.target.result)}})}{const c=this.cursor(i),f=[];return this.W(c,(_,I)=>{f.push(I)}).next(()=>f)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Nt((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}j(e,t){bn("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const a=this.cursor(i);return this.W(a,(c,f,_)=>_.delete())}J(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.W(a,t)}Y(e){const t=this.cursor({});return new Nt((i,a)=>{t.onerror=c=>{const f=Ss(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(_=>{_?f.continue():i()}):i()}})}W(e,t){const i=[];return new Nt((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const _=f.target.result;if(!_)return void a();const I=new Ia(_),w=t(_.primaryKey,_.value,I);if(w instanceof Nt){const V=w.catch(Q=>(I.done(),Nt.reject(Q)));i.push(V)}I.isDone?a():null===I.K?_.continue():_.continue(I.K)}}).next(()=>Nt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ml(r){return new Nt((e,t)=>{r.onsuccess=i=>{e(i.target.result)},r.onerror=i=>{const a=Ss(i.target.error);t(a)}})}let Ta=!1;function Ss(r){const e=ws.S((0,be.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new Cn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ta||(Ta=!0,setTimeout(()=>{throw i},0)),i}}return r}class Ac{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;bn("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,gt.A)(function*(){t.task=null;try{bn("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){na(i)?bn("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Xo(i)}yield t.X(6e4)}))}}class Bh{constructor(e,t){this.localStore=e,this.persistence=t}ee(){var e=this;return(0,gt.A)(function*(t=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))}).apply(this,arguments)}te(e,t){const i=new Set;let a=t,c=!0;return Nt.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!i.has(f))return bn("IndexBackfiller",`Processing collection: ${f}`),this.ne(e,f,a).next(_=>{a-=_,i.add(f)});c=!1})).next(()=>t-a)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.re(a,c)).next(_=>(bn("IndexBackfiller",`Updating offset: ${_}`),this.localStore.indexManager.updateCollectionGroup(e,t,_))).next(()=>f.size)}))}re(e,t){let i=e;return t.changes.forEach((a,c)=>{const f=fn(c);ci(f,i)>0&&(i=f)}),new Qn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let fs=(()=>{class r{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return r.oe=-1,r})();function _l(r){return null==r}function Cd(r){return 0===r&&1/r==-1/0}function fp(r){return"number"==typeof r&&Number.isInteger(r)&&!Cd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function ls(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=pu(e)),e=fu(r.get(t),e);return pu(e)}function fu(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function pu(r){return r+"\x01\x01"}function ra(r){const e=r.length;if(ir(e>=2),2===e)return ir("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Qr.emptyPath();const t=e-2,i=[];let a="";for(let c=0;c<e;){const f=r.indexOf("\x01",c);switch((f<0||f>t)&&zn(),r.charAt(f+1)){case"\x01":const _=r.substring(c,f);let I;0===a.length?I=_:(a+=_,I=a,a=""),i.push(I);break;case"\x10":a+=r.substring(c,f),a+="\0";break;case"\x11":a+=r.substring(c,f+1);break;default:zn()}c=f+2}return new Qr(i)}const pp=["userId","batchId"];function Ba(r,e){return[r,ls(e)]}function $h(r,e,t){return[r,ls(e),t]}const Ad={},gp=["prefixPath","collectionGroup","readTime","documentId"],bd=["prefixPath","collectionGroup","documentId"],jh=["collectionGroup","readTime","prefixPath","documentId"],gu=["canonicalId","targetId"],bc=["targetId","path"],wd=["path","targetId"],mp=["collectionId","parent"],S=["indexId","uid"],Y=["uid","sequenceNumber"],De=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$t=["indexId","uid","orderedDocumentKey"],En=["userId","collectionPath","documentId"],lr=["userId","collectionPath","largestBatchId"],Zi=["userId","collectionGroup","largestBatchId"],cs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uo=[...cs,"documentOverlays"],co=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$a=co,Sd=[...$a,"indexConfiguration","indexState","indexEntries"],ky=Sd,_p=[...Sd,"globals"];class Wh extends Yo{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Zo(r,e){const t=$n(r);return ws.F(t._e,e)}function yp(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ia(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function hm(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class uo{constructor(e,t){this.comparator=e,this.root=t||ns.EMPTY}insert(e,t){return new uo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new uo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??ns.RED,this.left=a??ns.EMPTY,this.right=c??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new ns(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ns.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zn();const e=this.left.check();if(e!==this.right.check())throw zn();return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw zn()}get value(){throw zn()}get color(){throw zn()}get left(){throw zn()}get right(){throw zn()}copy(e,t,i,a,c){return this}insert(e,t,i){return new ns(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zi{constructor(e){this.comparator=e,this.data=new uo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zi(this.comparator);return t.data=e,t}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ql(r){return r.hasNext()?r.getNext():void 0}class Rs{constructor(e){this.fields=e,e.sort(Si.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new zi(Si.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class vp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vp("Invalid base64 string: "+c):c}}(e);return new Bo(t)}static fromUint8Array(e){const t=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Bo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bo.EMPTY_BYTE_STRING=new Bo("");const Ep=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(r){if(ir(!!r),"string"==typeof r){let e=0;const t=Ep.exec(r);if(ir(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Po(r.seconds),nanos:Po(r.nanos)}}function Po(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ja(r){return"string"==typeof r?Bo.fromBase64String(r):Bo.fromUint8Array(r)}function _u(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ip(r){const e=r.mapValue.fields.__previous_value__;return _u(e)?Ip(e):e}function yu(r){const e=Da(r.mapValue.fields.__local_write_time__.timestampValue);return new _i(e.seconds,e.nanos)}class pI{constructor(e,t,i,a,c,f,_,I,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.longPollingOptions=I,this.useFetchStreams=w}}class yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}const Wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vu={nullValue:"NULL_VALUE"};function oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_u(r)?4:Xh(r)?9007199254740991:Tu(r)?10:11:zn()}function Ms(r,e){if(r===e)return!0;const t=oa(r);if(t!==oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Da(a.timestampValue),_=Da(c.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,ja(r.bytesValue).isEqual(ja(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,c){return Po(a.geoPointValue.latitude)===Po(c.geoPointValue.latitude)&&Po(a.geoPointValue.longitude)===Po(c.geoPointValue.longitude)}(r,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Po(a.integerValue)===Po(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=Po(a.doubleValue),_=Po(c.doubleValue);return f===_?Cd(f)===Cd(_):isNaN(f)&&isNaN(_)}return!1}(r,e);case 9:return gl(r.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},_=c.mapValue.fields||{};if(yp(f)!==yp(_))return!1;for(const I in f)if(f.hasOwnProperty(I)&&(void 0===_[I]||!Ms(f[I],_[I])))return!1;return!0}(r,e);default:return zn()}var c}function Eu(r,e){return void 0!==(r.values||[]).find(t=>Ms(t,e))}function Ka(r,e){if(r===e)return 0;const t=oa(r),i=oa(e);if(t!==i)return Cr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Cr(r.booleanValue,e.booleanValue);case 2:return function(c,f){const _=Po(c.integerValue||c.doubleValue),I=Po(f.integerValue||f.doubleValue);return _<I?-1:_>I?1:_===I?0:isNaN(_)?isNaN(I)?0:-1:1}(r,e);case 3:return Kh(r.timestampValue,e.timestampValue);case 4:return Kh(yu(r),yu(e));case 5:return Cr(r.stringValue,e.stringValue);case 6:return function(c,f){const _=ja(c),I=ja(f);return _.compareTo(I)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const _=c.split("/"),I=f.split("/");for(let w=0;w<_.length&&w<I.length;w++){const V=Cr(_[w],I[w]);if(0!==V)return V}return Cr(_.length,I.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const _=Cr(Po(c.latitude),Po(f.latitude));return 0!==_?_:Cr(Po(c.longitude),Po(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Hh(r.arrayValue,e.arrayValue);case 10:return function(c,f){var _,I,w,V;const Ke=null===(_=(c.fields||{}).value)||void 0===_?void 0:_.arrayValue,At=null===(I=(f.fields||{}).value)||void 0===I?void 0:I.arrayValue,Wt=Cr((null===(w=Ke?.values)||void 0===w?void 0:w.length)||0,(null===(V=At?.values)||void 0===V?void 0:V.length)||0);return 0!==Wt?Wt:Hh(Ke,At)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===Wa.mapValue&&f===Wa.mapValue)return 0;if(c===Wa.mapValue)return 1;if(f===Wa.mapValue)return-1;const _=c.fields||{},I=Object.keys(_),w=f.fields||{},V=Object.keys(w);I.sort(),V.sort();for(let Q=0;Q<I.length&&Q<V.length;++Q){const ce=Cr(I[Q],V[Q]);if(0!==ce)return ce;const Ke=Ka(_[I[Q]],w[V[Q]]);if(0!==Ke)return Ke}return Cr(I.length,V.length)}(r.mapValue,e.mapValue);default:throw zn()}}function Kh(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Cr(r,e);const t=Da(r),i=Da(e),a=Cr(t.seconds,i.seconds);return 0!==a?a:Cr(t.nanos,i.nanos)}function Hh(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const c=Ka(t[a],i[a]);if(c)return c}return Cr(t.length,i.length)}function Iu(r){return Rd(r)}function Rd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Da(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ja(r.bytesValue).toBase64():"referenceValue"in r?Wn.fromName(r.referenceValue).toString():"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",a=!0;for(const c of t.values||[])a?a=!1:i+=",",i+=Rd(c);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${Rd(t.fields[f])}`;return a+"}"}(r.mapValue):zn()}function Ts(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zh(r){return!!r&&"integerValue"in r}function Gh(r){return!!r&&"arrayValue"in r}function Md(r){return!!r&&"nullValue"in r}function Vy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tp(r){return!!r&&"mapValue"in r}function Tu(r){var e,t;return"__vector__"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Du(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ia(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Du(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Du(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Xh(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}const fm={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function pm(r){return"nullValue"in r?vu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ts(yl.empty(),Wn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Tu(r)?fm:{mapValue:{}}:zn()}function Uy(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ts(yl.empty(),Wn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?fm:"mapValue"in r?Tu(r)?{mapValue:{}}:Wa:zn()}function qh(r,e){const t=Ka(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function gm(r,e){const t=Ka(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class ps{constructor(e){this.value=e}static empty(){return new ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Tp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(t)}setAll(e){let t=Si.emptyPath(),i={},a=[];e.forEach((f,_)=>{if(!t.isImmediateParentOf(_)){const I=this.getFieldsMap(t);this.applyChanges(I,i,a),i={},a=[],t=_.popLast()}f?i[_.lastSegment()]=Du(f):a.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());Tp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Tp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ia(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new ps(Du(this.value))}}function sa(r){const e=[];return ia(r.fields,(t,i)=>{const a=new Si([t]);if(Tp(i)){const c=sa(i.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Rs(e)}class go{constructor(e,t,i,a,c,f,_){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=f,this.documentState=_}static newInvalidDocument(e){return new go(e,0,mr.min(),mr.min(),mr.min(),ps.empty(),0)}static newFoundDocument(e,t,i,a){return new go(e,1,t,mr.min(),i,a,0)}static newNoDocument(e,t){return new go(e,2,t,mr.min(),mr.min(),ps.empty(),0)}static newUnknownDocument(e,t){return new go(e,3,t,mr.min(),mr.min(),ps.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof go&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new go(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Aa{constructor(e,t){this.position=e,this.inclusive=t}}function mm(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(i=c.field.isKeyField()?Wn.comparator(Wn.fromName(f.referenceValue),t.key):Ka(f,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function _m(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ms(r.position[t],e.position[t]))return!1;return!0}class Pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function By(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Dp{}class hi extends Dp{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new ym(e,t,i):"array-contains"===t?new $y(e,i):"in"===t?new vm(e,i):"not-in"===t?new xd(e,i):"array-contains-any"===t?new Em(e,i):new hi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Au(e,i):new Ap(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ka(t,this.value)):null!==t&&oa(this.value)===oa(t)&&this.matchesComparison(Ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends Dp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gi(e,t)}matches(e){return Cu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Cu(r){return"and"===r.op}function Bi(r){return"or"===r.op}function Od(r){return Cp(r)&&Cu(r)}function Cp(r){for(const e of r.filters)if(e instanceof Gi)return!1;return!0}function Sc(r){if(r instanceof hi)return r.field.canonicalString()+r.op.toString()+Iu(r.value);if(Od(r))return r.filters.map(e=>Sc(e)).join(",");{const e=r.filters.map(t=>Sc(t)).join(",");return`${r.op}(${e})`}}function Rc(r,e){return r instanceof hi?(i=r,(a=e)instanceof hi&&i.op===a.op&&i.field.isEqual(a.field)&&Ms(i.value,a.value)):r instanceof Gi?function(i,a){return a instanceof Gi&&i.op===a.op&&i.filters.length===a.filters.length&&i.filters.reduce((c,f,_)=>c&&Rc(f,a.filters[_]),!0)}(r,e):void zn();var i,a}function Yl(r,e){const t=r.filters.concat(e);return Gi.create(t,r.op)}function Nd(r){return r instanceof hi?`${(t=r).field.canonicalString()} ${t.op} ${Iu(t.value)}`:r instanceof Gi?function(t){return t.op.toString()+" {"+t.getFilters().map(Nd).join(" ,")+"}"}(r):"Filter";var t}class ym extends hi{constructor(e,t,i){super(e,t,i),this.key=Wn.fromName(i.referenceValue)}matches(e){const t=Wn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Au extends hi{constructor(e,t){super(e,"in",t),this.keys=Qh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ap extends hi{constructor(e,t){super(e,"not-in",t),this.keys=Qh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Wn.fromName(i.referenceValue))}class $y extends hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gh(t)&&Eu(t.arrayValue,this.value)}}class vm extends hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eu(this.value.arrayValue,t)}}class xd extends hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eu(this.value.arrayValue,t)}}class Em extends hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Eu(this.value.arrayValue,i))}}class kd{constructor(e,t=null,i=[],a=[],c=null,f=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=f,this.endAt=_,this.ue=null}}function Mc(r,e=null,t=[],i=[],a=null,c=null,f=null){return new kd(r,e,t,i,a,c,f)}function Jl(r){const e=$n(r);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Sc(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),_l(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Iu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Iu(i)).join(",")),e.ue=t}return e.ue}function Pc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!By(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Rc(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_m(r.startAt,e.startAt)&&_m(r.endAt,e.endAt)}function Zl(r){return Wn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function bu(r,e){return r.filters.filter(t=>t instanceof hi&&t.field.isEqual(e))}function Im(r,e,t){let i=vu,a=!0;for(const c of bu(r,e)){let f=vu,_=!0;switch(c.op){case"<":case"<=":f=pm(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,_=!1;break;case"!=":case"not-in":f=vu}qh({value:i,inclusive:a},{value:f,inclusive:_})<0&&(i=f,a=_)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];qh({value:i,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(i=f,a=t.inclusive);break}return{value:i,inclusive:a}}function bp(r,e,t){let i=Wa,a=!0;for(const c of bu(r,e)){let f=Wa,_=!0;switch(c.op){case">=":case">":f=Uy(c.value),_=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,_=!1;break;case"!=":case"not-in":f=Wa}gm({value:i,inclusive:a},{value:f,inclusive:_})>0&&(i=f,a=_)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];gm({value:i,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(i=f,a=t.inclusive);break}return{value:i,inclusive:a}}class Xs{constructor(e,t=null,i=[],a=[],c=null,f="F",_=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=f,this.startAt=_,this.endAt=I,this.ce=null,this.le=null,this.he=null}}function wu(r,e,t,i,a,c,f,_){return new Xs(r,e,t,i,a,c,f,_)}function ec(r){return new Xs(r)}function Yh(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function ba(r){return null!==r.collectionGroup}function Su(r){const e=$n(r);if(null===e.ce){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let _=new zi(Si.comparator);return f.filters.forEach(I=>{I.getFlattenedFilters().forEach(w=>{w.isInequality()&&(_=_.add(w.field))})}),_})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Pd(c,i))}),t.has(Si.keyField().canonicalString())||e.ce.push(new Pd(Si.keyField(),i))}return e.ce}function rs(r){const e=$n(r);return e.le||(e.le=function Tm(r,e){if("F"===r.limitType)return Mc(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>new Pd(a.field,"desc"===a.dir?"asc":"desc"));const t=r.endAt?new Aa(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Aa(r.startAt.position,r.startAt.inclusive):null;return Mc(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}(e,Su(r))),e.le}function Ld(r,e){const t=r.filters.concat([e]);return new Xs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Fd(r,e,t){return new Xs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ru(r,e){return Pc(rs(r),rs(e))&&r.limitType===e.limitType}function Jh(r){return`${Jl(rs(r))}|lt:${r.limitType}`}function Oc(r){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>Nd(a)).join(", ")}]`),_l(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>{return`${(f=a).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Iu(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Iu(a)).join(",")),`Target(${i})`}(rs(r))}; limitType=${r.limitType})`}function Vd(r,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Wn.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(r,e)&&function(i,a){for(const c of Su(i))if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(r,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(r,e)&&(a=e,!((i=r).startAt&&!function(f,_,I){const w=mm(f,_,I);return f.inclusive?w<=0:w<0}(i.startAt,Su(i),a)||i.endAt&&!function(f,_,I){const w=mm(f,_,I);return f.inclusive?w>=0:w>0}(i.endAt,Su(i),a)));var i,a}function El(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Zh(r){return(e,t)=>{let i=!1;for(const a of Su(r)){const c=Ud(a,e,t);if(0!==c)return c;i=i||a.field.isKeyField()}return 0}}function Ud(r,e,t){const i=r.field.isKeyField()?Wn.comparator(e.key,t.key):function(c,f,_){const I=f.data.field(c),w=_.data.field(c);return null!==I&&null!==w?Ka(I,w):zn()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return zn()}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,c]of i)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return hm(this.inner)}size(){return this.innerSize}}const gs=new uo(Wn.comparator);function Ps(){return gs}const wp=new uo(Wn.comparator);function Os(...r){let e=wp;for(const t of r)e=e.insert(t.key,t);return e}function Sp(r){let e=wp;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function wa(){return Il()}function Rp(){return Il()}function Il(){return new Ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const ef=new uo(Wn.comparator),jy=new zi(Wn.comparator);function dr(...r){let e=jy;for(const t of r)e=e.add(t);return e}const Wy=new zi(Cr);function Bd(){return Wy}function Mp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function Pp(r){return{integerValue:""+r}}function tf(r,e){return fp(e)?Pp(e):Mp(r,e)}class $d{constructor(){this._=void 0}}function Dm(r,e,t){return r instanceof Pu?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&_u(c)&&(c=Ip(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(t,e):r instanceof Tl?Cm(r,e):r instanceof tc?Np(r,e):function(a,c){const f=Mu(a,c),_=nf(f)+nf(a.Pe);return zh(f)&&zh(a.Pe)?Pp(_):Mp(a.serializer,_)}(r,e)}function Op(r,e,t){return r instanceof Tl?Cm(r,e):r instanceof tc?Np(r,e):t}function Mu(r,e){return r instanceof Ou?zh(i=e)||(c=i)&&"doubleValue"in c?e:{integerValue:0}:null;var i,c}class Pu extends $d{}class Tl extends $d{constructor(e){super(),this.elements=e}}function Cm(r,e){const t=rf(e);for(const i of r.elements)t.some(a=>Ms(a,i))||t.push(i);return{arrayValue:{values:t}}}class tc extends $d{constructor(e){super(),this.elements=e}}function Np(r,e){let t=rf(e);for(const i of r.elements)t=t.filter(a=>!Ms(a,i));return{arrayValue:{values:t}}}class Ou extends $d{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function nf(r){return Po(r.integerValue||r.doubleValue)}function rf(r){return Gh(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Dl{constructor(e,t){this.field=e,this.transform=t}}class bm{constructor(e,t){this.version=e,this.transformResults=t}}class mo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mo}static exists(e){return new mo(void 0,e)}static updateTime(e){return new mo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nu(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class ms{}function xu(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ga(r.key,mo.none()):new xc(r.key,r.data,mo.none());{const t=r.data,i=ps.empty();let a=new zi(Si.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?i.delete(c):i.set(c,f),a=a.add(c)}return new za(r.key,i,new Rs(a.toArray()),mo.none())}}function jd(r,e,t){r instanceof xc?function(a,c,f){const _=a.value.clone(),I=Al(a.fieldTransforms,c,f.transformResults);_.setAll(I),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(r,e,t):r instanceof za?function(a,c,f){if(!Nu(a.precondition,c))return void c.convertToUnknownDocument(f.version);const _=Al(a.fieldTransforms,c,f.transformResults),I=c.data;I.setAll(xp(a)),I.setAll(_),c.convertToFoundDocument(f.version,I).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Nc(r,e,t,i){return r instanceof xc?function(c,f,_,I){if(!Nu(c.precondition,f))return _;const w=c.value.clone(),V=Wd(c.fieldTransforms,I,f);return w.setAll(V),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),null}(r,e,t,i):r instanceof za?function(c,f,_,I){if(!Nu(c.precondition,f))return _;const w=Wd(c.fieldTransforms,I,f),V=f.data;return V.setAll(xp(c)),V.setAll(w),f.convertToFoundDocument(f.version,V).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(Q=>Q.field))}(r,e,t,i):(_=t,Nu(r.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):_);var f,_}function sf(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),c=Mu(i.transform,a||null);null!=c&&(null===t&&(t=ps.empty()),t.set(i.field,c))}return t||null}function Cl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=r.fieldTransforms)&&void 0===a||i&&a&&gl(i,a,(c,f)=>function Am(r,e){return r.field.isEqual(e.field)&&(a=e.transform,(i=r.transform)instanceof Tl&&a instanceof Tl||i instanceof tc&&a instanceof tc?gl(i.elements,a.elements,Ms):i instanceof Ou&&a instanceof Ou?Ms(i.Pe,a.Pe):i instanceof Pu&&a instanceof Pu);var i,a}(c,f))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var i,a}class xc extends ms{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class za extends ms{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function xp(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function Al(r,e,t){const i=new Map;ir(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,_=e.data.field(c.field);i.set(c.field,Op(f,_,t[a]))}return i}function Wd(r,e,t){const i=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);i.set(a.field,Dm(c,f,e))}return i}class Ga extends ms{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kd extends ms{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class af{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&jd(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Nc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Nc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Rp();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let _=this.applyToLocalView(f,c.mutatedFields);_=t.has(a.key)?null:_;const I=xu(f,_);null!==I&&i.set(a.key,I),f.isValidDocument()||f.convertToNoDocument(mr.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dr())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(t,i)=>Cl(t,i))&&gl(this.baseMutations,e.baseMutations,(t,i)=>Cl(t,i))}}class lf{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ir(e.mutations.length===i.length);let a=function(){return ef}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,i[f].version);return new lf(e,t,i,a)}}class Ds{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hd{constructor(e,t){this.count=e,this.unchangedNames=t}}var qo,Yr;function kc(r){switch(r){default:return zn();case Yt.CANCELLED:case Yt.UNKNOWN:case Yt.DEADLINE_EXCEEDED:case Yt.RESOURCE_EXHAUSTED:case Yt.INTERNAL:case Yt.UNAVAILABLE:case Yt.UNAUTHENTICATED:return!1;case Yt.INVALID_ARGUMENT:case Yt.NOT_FOUND:case Yt.ALREADY_EXISTS:case Yt.PERMISSION_DENIED:case Yt.FAILED_PRECONDITION:case Yt.ABORTED:case Yt.OUT_OF_RANGE:case Yt.UNIMPLEMENTED:case Yt.DATA_LOSS:return!0}}function uf(r){if(void 0===r)return Io("GRPC error has no .code"),Yt.UNKNOWN;switch(r){case qo.OK:return Yt.OK;case qo.CANCELLED:return Yt.CANCELLED;case qo.UNKNOWN:return Yt.UNKNOWN;case qo.DEADLINE_EXCEEDED:return Yt.DEADLINE_EXCEEDED;case qo.RESOURCE_EXHAUSTED:return Yt.RESOURCE_EXHAUSTED;case qo.INTERNAL:return Yt.INTERNAL;case qo.UNAVAILABLE:return Yt.UNAVAILABLE;case qo.UNAUTHENTICATED:return Yt.UNAUTHENTICATED;case qo.INVALID_ARGUMENT:return Yt.INVALID_ARGUMENT;case qo.NOT_FOUND:return Yt.NOT_FOUND;case qo.ALREADY_EXISTS:return Yt.ALREADY_EXISTS;case qo.PERMISSION_DENIED:return Yt.PERMISSION_DENIED;case qo.FAILED_PRECONDITION:return Yt.FAILED_PRECONDITION;case qo.ABORTED:return Yt.ABORTED;case qo.OUT_OF_RANGE:return Yt.OUT_OF_RANGE;case qo.UNIMPLEMENTED:return Yt.UNIMPLEMENTED;case qo.DATA_LOSS:return Yt.DATA_LOSS;default:return zn()}}(Yr=qo||(qo={}))[Yr.OK=0]="OK",Yr[Yr.CANCELLED=1]="CANCELLED",Yr[Yr.UNKNOWN=2]="UNKNOWN",Yr[Yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yr[Yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yr[Yr.NOT_FOUND=5]="NOT_FOUND",Yr[Yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yr[Yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yr[Yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yr[Yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yr[Yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yr[Yr.ABORTED=10]="ABORTED",Yr[Yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yr[Yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yr[Yr.INTERNAL=13]="INTERNAL",Yr[Yr.UNAVAILABLE=14]="UNAVAILABLE",Yr[Yr.DATA_LOSS=15]="DATA_LOSS";function kp(){return new TextEncoder}const zd=new Ks([4294967295,4294967295],0);function nc(r){const e=kp().encode(r),t=new Ua;return t.update(e),new Uint8Array(t.digest())}function Lp(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ks([t,i],0),new Ks([a,c],0)]}class ku{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Fc(`Invalid padding: ${t}`);if(i<0)throw new Fc(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Fc(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Fc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ks.fromNumber(this.Ie)}Ee(e,t,i){let a=e.add(t.multiply(Ks.fromNumber(i)));return 1===a.compare(zd)&&(a=new Ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=nc(e),[i,a]=Lp(t);for(let c=0;c<this.hashCount;c++){const f=this.Ee(i,a,c);if(!this.de(f))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new ku(c,a,t);return i.forEach(_=>f.insert(_)),f}insert(e){if(0===this.Ie)return;const t=nc(e),[i,a]=Lp(t);for(let c=0;c<this.hashCount;c++){const f=this.Ee(i,a,c);this.Ae(f)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class E{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,p.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new E(mr.min(),a,new uo(Cr),Ps(),dr())}}class p{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new p(i,t,dr(),dr(),dr())}}class m{constructor(e,t,i,a){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=a}}class T{constructor(e,t){this.targetId=e,this.me=t}}class B{constructor(e,t,i=Bo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class se{constructor(){this.fe=0,this.ge=gn(),this.pe=Bo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=dr(),t=dr(),i=dr();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:zn()}}),new p(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=gn()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ir(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ps(),this.qe=Ct(),this.Qe=new uo(Cr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:zn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,i=e.me.count,a=this.Je(t);if(a){const c=a.target;if(Zl(c))if(0===i){const f=new Wn(c.path);this.Ue(t,f,go.newNoDocument(f,mr.min()))}else ir(1===i);else{const f=this.Ye(t);if(f!==i){const _=this.Ze(e),I=_?this.Xe(_,e,f):1;0!==I&&(this.je(t),this.Qe=this.Qe.insert(t,2===I?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=t;let f,_;try{f=ja(i).toUint8Array()}catch(I){if(I instanceof vp)return hs("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw I}try{_=new ku(f,a,c)}catch(I){return hs(I instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",I),null}return 0===_.Ie?null:_}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let a=0;return i.forEach(c=>{const f=this.Le.tt(),_=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.Ue(t,c,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((c,f)=>{const _=this.Je(f);if(_){if(c.current&&Zl(_.target)){const I=new Wn(_.target.path);null!==this.ke.get(I)||this.it(f,I)||this.Ue(f,I,go.newNoDocument(I,e))}c.be&&(t.set(f,c.ve()),c.Ce())}});let i=dr();this.qe.forEach((c,f)=>{let _=!0;f.forEachWhile(I=>{const w=this.Je(I);return!w||"TargetPurposeLimboResolution"===w.purpose||(_=!1,!1)}),_&&(i=i.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new E(e,t,this.Qe,this.ke,i);return this.ke=Ps(),this.qe=Ct(),this.Qe=new uo(Cr),a}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new se,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new zi(Cr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||bn("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new se),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ct(){return new uo(Wn.comparator)}function gn(){return new uo(Wn.comparator)}const Yn={asc:"ASCENDING",desc:"DESCENDING"},Ar={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jn={and:"AND",or:"OR"};class Ai{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ns(r,e){return r.useProto3Json||_l(e)?e:{value:e}}function qs(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bl(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function df(r,e){return qs(r,e.toTimestamp())}function Oo(r){return ir(!!r),mr.fromTimestamp(function(t){const i=Da(t);return new _i(i.seconds,i.nanos)}(r))}function Fp(r,e){return Gd(r,e).canonicalString()}function Gd(r,e){const t=(a=r,new Qr(["projects",a.projectId,"databases",a.database])).child("documents");var a;return void 0===e?t:t.child(e)}function Vp(r){const e=Qr.fromString(r);return ir(vI(e)),e}function Lu(r,e){return Fp(r.databaseId,e.path)}function Bs(r,e){const t=Vp(e);if(t.get(1)!==r.databaseId.projectId)throw new Cn(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Cn(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Wn(Qd(t))}function Up(r,e){return Fp(r.databaseId,e)}function Xd(r){const e=Vp(r);return 4===e.length?Qr.emptyPath():Qd(e)}function qd(r){return new Qr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qd(r){return ir(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Bp(r,e,t){return{name:Lu(r,e),fields:t.value.mapValue.fields}}function DA(r,e,t){const i=Bs(r,e.name),a=Oo(e.updateTime),c=e.createTime?Oo(e.createTime):mr.min(),f=new ps({mapValue:{fields:e.fields}}),_=go.newFoundDocument(i,a,c,f);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function Fu(r,e){let t;if(e instanceof xc)t={update:Bp(r,e.key,e.value)};else if(e instanceof Ga)t={delete:Lu(r,e.key)};else if(e instanceof za)t={update:Bp(r,e.key,e.data),updateMask:wA(e.fieldMask)};else{if(!(e instanceof Kd))return zn();t={verify:Lu(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,f){const _=f.transform;if(_ instanceof Pu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Tl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof tc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Ou)return{fieldPath:f.field.canonicalString(),increment:_.Pe};throw zn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:df(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:zn()),t;var c}function Hy(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?mo.updateTime(Oo(c.updateTime)):void 0!==c.exists?mo.exists(c.exists):mo.none():mo.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(f,_){let I=null;"setToServerValue"in _?(ir("REQUEST_TIME"===_.setToServerValue),I=new Pu):"appendMissingElements"in _?I=new Tl(_.appendMissingElements.values||[]):"removeAllFromArray"in _?I=new tc(_.removeAllFromArray.values||[]):"increment"in _?I=new Ou(f,_.increment):zn();const w=Si.fromServerFormat(_.fieldPath);return new Dl(w,I)}(r,a)):[];var c;if(e.update){const a=Bs(r,e.update.name),c=new ps({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Rs((e.updateMask.fieldPaths||[]).map(V=>Si.fromServerFormat(V)));return new za(a,c,f,t,i)}return new xc(a,c,t,i)}if(e.delete){const a=Bs(r,e.delete);return new Ga(a,t)}if(e.verify){const a=Bs(r,e.verify);return new Kd(a,t)}return zn()}function mI(r,e){return{documents:[Up(r,e.path)]}}function Yd(r,e){const t={structuredQuery:{}},i=e.path;let a;null!==e.collectionGroup?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Up(r,a);const c=function(w){if(0!==w.length)return yI(Gi.create(w,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const f=function(w){if(0!==w.length)return w.map(V=>{return{field:Vc((ce=V).field),direction:qM(ce.dir)};var ce})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const _=Ns(r,e.limit);return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(t.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(e.endAt)),{_t:t,parent:a};var w}function Jd(r){let e=Xd(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ir(1===i);const V=t.from[0];V.allDescendants?a=V.collectionId:e=e.child(V.collectionId)}let c=[];t.where&&(c=function(Q){const ce=AA(Q);return ce instanceof Gi&&Od(ce)?ce.getFilters():[ce]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(ce=>{return new Pd(eh((At=ce).field),function(Ut){switch(Ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(At.direction));var At}));let _=null;t.limit&&(_=function(Q){let ce;return ce="object"==typeof Q?Q.value:Q,_l(ce)?null:ce}(t.limit));let I=null;var Q;t.startAt&&(I=new Aa((Q=t.startAt).values||[],!!Q.before));let w=null;return t.endAt&&(w=function(Q){return new Aa(Q.values||[],!Q.before)}(t.endAt)),wu(e,a,f,c,_,"F",I,w)}function AA(r){return void 0!==r.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=eh(t.unaryFilter.field);return hi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=eh(t.unaryFilter.field);return hi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eh(t.unaryFilter.field);return hi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eh(t.unaryFilter.field);return hi.create(f,"!=",{nullValue:"NULL_VALUE"});default:return zn()}}(r):void 0!==r.fieldFilter?hi.create(eh((t=r).fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==r.compositeFilter?function(t){return Gi.create(t.compositeFilter.filters.map(i=>AA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return zn()}}(t.compositeFilter.op))}(r):zn();var t}function qM(r){return Yn[r]}function $p(r){return Ar[r]}function bA(r){return Jn[r]}function Vc(r){return{fieldPath:r.canonicalString()}}function eh(r){return Si.fromServerFormat(r.fieldPath)}function yI(r){return r instanceof hi?function(t){if("=="===t.op){if(Vy(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NAN"}};if(Md(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vy(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NOT_NAN"}};if(Md(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(t.field),op:$p(t.op),value:t.value}}}(r):r instanceof Gi?function(t){const i=t.getFilters().map(a=>yI(a));return 1===i.length?i[0]:{compositeFilter:{op:bA(t.op),filters:i}}}(r):zn()}function wA(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vI(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Uc{constructor(e,t,i,a,c=mr.min(),f=mr.min(),_=Bo.EMPTY_BYTE_STRING,I=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_,this.expectedCount=I}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EI{constructor(e){this.ct=e}}function zy(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Lu(c=r.ct,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:qs(c,f.version.toTimestamp()),createTime:qs(c,f.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Vu(e.version)};else{if(!e.isUnknownDocument())return zn();i.unknownDocument={path:t.path.toArray(),version:Vu(e.version)}}var c,f;return i}function Gy(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Vu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function th(r){const e=new _i(r.seconds,r.nanoseconds);return mr.fromTimestamp(e)}function rc(r,e){const t=(e.baseMutations||[]).map(c=>Hy(r.ct,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const i=e.mutations.map(c=>Hy(r.ct,c)),a=_i.fromMillis(e.localWriteTimeMs);return new af(e.batchId,a,t,i)}function jp(r){const e=th(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?th(r.lastLimboFreeSnapshotVersion):mr.min();let i;return i=void 0!==r.query.documents?(ir(1===(c=r.query).documents.length),rs(ec(Xd(c.documents[0])))):function(c){return rs(Jd(c))}(r.query),new Uc(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Bo.fromBase64String(r.resumeToken));var c}function RA(r,e){const t=Vu(e.snapshotVersion),i=Vu(e.lastLimboFreeSnapshotVersion);let a;a=Zl(e.target)?mI(r.ct,e.target):Yd(r.ct,e.target)._t;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jl(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function wm(r){const e=Jd({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Fd(e,e.limit,"L"):e}function Sm(r,e){return new Ds(e.largestBatchId,Hy(r.ct,e.overlayMutation))}function II(r,e){const t=e.path.lastSegment();return[r,ls(e.path.popLast()),t]}function TI(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:Vu(i.readTime),documentKey:ls(i.documentKey.path),largestBatchId:i.largestBatchId}}class DI{getBundleMetadata(e,t){return Rm(e).get(t).next(i=>{if(i)return{id:(c=i).bundleId,createTime:th(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Rm(e).put({bundleId:(a=t).id,createTime:Vu(Oo(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Xy(e).get(t).next(i=>{if(i)return{name:(c=i).name,query:wm(c.bundledQuery),readTime:th(c.readTime)};var c})}saveNamedQuery(e,t){return Xy(e).put({name:(a=t).name,readTime:Vu(Oo(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Rm(r){return Zo(r,"bundles")}function Xy(r){return Zo(r,"namedQueries")}class Mm{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new Mm(e,t.uid||"")}getOverlay(e,t){return ic(e).get(II(this.userId,t)).next(i=>i?Sm(this.serializer,i):null)}getOverlays(e,t){const i=wa();return Nt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((c,f)=>{const _=new Ds(t,f);a.push(this.ht(e,_))}),Nt.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(f=>a.add(ls(f.getCollectionPath())));const c=[];return a.forEach(f=>{const _=IDBKeyRange.bound([this.userId,f,i],[this.userId,f,i+1],!1,!0);c.push(ic(e).j("collectionPathOverlayIndex",_))}),Nt.waitFor(c)}getOverlaysForCollection(e,t,i){const a=wa(),c=ls(t),f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return ic(e).U("collectionPathOverlayIndex",f).next(_=>{for(const I of _){const w=Sm(this.serializer,I);a.set(w.getKey(),w)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const c=wa();let f;const _=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ic(e).J({index:"collectionGroupOverlayIndex",range:_},(I,w,V)=>{const Q=Sm(this.serializer,w);c.size()<a||Q.largestBatchId===f?(c.set(Q.getKey(),Q),f=Q.largestBatchId):V.done()}).next(()=>c)}ht(e,t){return ic(e).put(function(a,c,f){const[_,I,w]=II(c,f.mutation.key);return{userId:c,collectionPath:I,documentId:w,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Fu(a.ct,f.mutation)}}(this.serializer,this.userId,t))}}function ic(r){return Zo(r,"documentOverlays")}class CI{Pt(e){return Zo(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const i=t?.value;return i?Bo.fromUint8Array(i):Bo.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Uu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Po(e.integerValue));else if("doubleValue"in e){const i=Po(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Cd(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i&&(i=Da(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ja(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Xh(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Tu(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):zn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const i=e.fields||{};this.dt(t,55);for(const a of Object.keys(i))this.Vt(a,t),this.Tt(i[a],t)}wt(e,t){var i,a;const c=e.fields||{};this.dt(t,53);const f="value",_=(null===(a=null===(i=c[f].arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.length)||0;this.dt(t,15),t.At(Po(_)),this.Vt(f,t),this.Tt(c[f],t)}bt(e,t){const i=e.values||[];this.dt(t,50);for(const a of i)this.Tt(a,t)}yt(e,t){this.dt(t,37),Wn.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function hf(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Pm(r){const e=64-function(i){let a=0;for(let c=0;c<8;++c){const f=hf(255&i[c]);if(a+=f,8!==f)break}return a}(r);return Math.ceil(e/8)}Uu.vt=new Uu;class Wp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const a=t.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Bt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const a=t.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}this.Nt()}kt(e){const t=this.qt(e),i=Pm(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Kt(e){const t=this.qt(e),i=Pm(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class MA{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class AI{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Bu{constructor(){this.jt=new Wp,this.Ht=new MA(this.jt),this.Jt=new AI(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ff{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ff(this.indexId,this.documentKey,this.arrayValue,i)}}function nh(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=pf(r.arrayValue,e.arrayValue),0!==t?t:(t=pf(r.directionalValue,e.directionalValue),0!==t?t:Wn.comparator(r.documentKey,e.documentKey)))}function pf(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(0!==i)return i}return r.length-e.length}class bI{constructor(e){this.Xt=new zi((t,i)=>Si.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(ir(e.collectionGroup===this.collectionId),this.nn)return!1;const t=M(e);if(void 0!==t&&!this.sn(t))return!1;const i=A(e);let a=new Set,c=0,f=0;for(;c<i.length&&this.sn(i[c]);++c)a=a.add(i[c].fieldPath.canonicalString());if(c===i.length)return!0;if(this.Xt.size>0){const _=this.Xt.getIterator().getNext();if(!a.has(_.field.canonicalString())){const I=i[c];if(!this.on(_,I)||!this._n(this.en[f++],I))return!1}++c}for(;c<i.length;++c)if(f>=this.en.length||!this._n(this.en[f++],i[c]))return!1;return!0}an(){if(this.nn)return null;let e=new zi(Si.comparator);const t=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new G(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new G(i.field,0))}for(const i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new G(i.field,"asc"===i.dir?0:1)));return new D(D.UNKNOWN_ID,this.collectionId,t,Ne.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Kp(r){var e,t;if(ir(r instanceof hi||r instanceof Gi),r instanceof hi){if(r instanceof vm){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>hi.create(r.field,"==",c)))||[];return Gi.create(a,"or")}return r}const i=r.filters.map(a=>Kp(a));return Gi.create(i,r.op)}function qy(r){if(0===r.getFilters().length)return[];const e=Yy(Kp(r));return ir(PA(e)),Qy(e)||wI(e)?[e]:e.getFilters()}function Qy(r){return r instanceof hi}function wI(r){return r instanceof Gi&&Od(r)}function PA(r){return Qy(r)||wI(r)||function(t){if(t instanceof Gi&&Bi(t)){for(const i of t.getFilters())if(!Qy(i)&&!wI(i))return!1;return!0}return!1}(r)}function Yy(r){if(ir(r instanceof hi||r instanceof Gi),r instanceof hi)return r;if(1===r.filters.length)return Yy(r.filters[0]);const e=r.filters.map(i=>Yy(i));let t=Gi.create(e,r.op);return t=Zy(t),PA(t)?t:(ir(t instanceof Gi),ir(Cu(t)),ir(t.filters.length>1),t.filters.reduce((i,a)=>Jy(i,a)))}function Jy(r,e){let t;return ir(r instanceof hi||r instanceof Gi),ir(e instanceof hi||e instanceof Gi),t=r instanceof hi?e instanceof hi?Gi.create([r,e],"and"):OA(r,e):e instanceof hi?OA(e,r):function(a,c){if(ir(a.filters.length>0&&c.filters.length>0),Cu(a)&&Cu(c))return Yl(a,c.getFilters());const f=Bi(a)?a:c,_=Bi(a)?c:a,I=f.filters.map(w=>Jy(w,_));return Gi.create(I,"or")}(r,e),Zy(t)}function OA(r,e){if(Cu(e))return Yl(e,r.getFilters());{const t=e.filters.map(i=>Jy(r,i));return Gi.create(t,"or")}}function Zy(r){if(ir(r instanceof hi||r instanceof Gi),r instanceof hi)return r;const e=r.getFilters();if(1===e.length)return Zy(e[0]);if(Cp(r))return r;const t=e.map(a=>Zy(a)),i=[];return t.forEach(a=>{a instanceof hi?i.push(a):a instanceof Gi&&(a.op===r.op?i.push(...a.filters):i.push(a))}),1===i.length?i[0]:Gi.create(i,r.op)}class QM{constructor(){this.un=new ev}addToCollectionParentIndex(e,t){return this.un.add(t),Nt.resolve()}getCollectionParents(e,t){return Nt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Nt.resolve()}deleteFieldIndex(e,t){return Nt.resolve()}deleteAllFieldIndexes(e){return Nt.resolve()}createTargetIndexes(e,t){return Nt.resolve()}getDocumentsMatchingTarget(e,t){return Nt.resolve(null)}getIndexType(e,t){return Nt.resolve(0)}getFieldIndexes(e,t){return Nt.resolve([])}getNextCollectionGroupToUpdate(e){return Nt.resolve(null)}getMinOffset(e,t){return Nt.resolve(Qn.min())}getMinOffsetFromCollectionGroup(e,t){return Nt.resolve(Qn.min())}updateCollectionGroup(e,t,i){return Nt.resolve()}updateIndexEntries(e,t){return Nt.resolve()}}class ev{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new zi(Qr.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zi(Qr.comparator)).toArray()}}const Om=new Uint8Array(0);class NA{constructor(e,t){this.databaseId=t,this.cn=new ev,this.ln=new Ha(i=>Jl(i),(i,a)=>Pc(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const c={collectionId:i,parent:ls(a)};return Nm(e).put(c)}return Nt.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[Cc(t),""],!1,!0);return Nm(e).U(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;i.push(ra(f.parent))}return i})}addFieldIndex(e,t){const i=rh(e),a={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(I=>[I.fieldPath.canonicalString(),I.kind])};var _;delete a.indexId;const c=i.add(a);if(t.indexState){const f=Bc(e);return c.next(_=>{f.put(TI(_,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const i=rh(e),a=Bc(e),c=oc(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=rh(e),i=oc(e),a=Bc(e);return t.j().next(()=>i.j()).next(()=>a.j())}createTargetIndexes(e,t){return Nt.forEach(this.hn(t),i=>this.getIndexType(e,i).next(a=>{if(0===a||1===a){const c=new bI(i).an();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const i=oc(e);let a=!0;const c=new Map;return Nt.forEach(this.hn(t),f=>this.Pn(e,f).next(_=>{a&&(a=!!_),c.set(f,_)})).next(()=>{if(a){let f=dr();const _=[];return Nt.forEach(c,(I,w)=>{var kn;bn("IndexedDbIndexManager",`Using index ${kn=I,`id=${kn.indexId}|cg=${kn.collectionGroup}|f=${kn.fields.map(Zn=>`${Zn.fieldPath}:${Zn.kind}`).join(",")}`} to execute ${Jl(t)}`);const V=function(kn,Zn){const Nr=M(Zn);if(void 0===Nr)return null;for(const Vr of bu(kn,Nr.fieldPath))switch(Vr.op){case"array-contains-any":return Vr.value.arrayValue.values||[];case"array-contains":return[Vr.value]}return null}(w,I),Q=function(kn,Zn){const Nr=new Map;for(const Vr of A(Zn))for(const St of bu(kn,Vr.fieldPath))switch(St.op){case"==":case"in":Nr.set(Vr.fieldPath.canonicalString(),St.value);break;case"not-in":case"!=":return Nr.set(Vr.fieldPath.canonicalString(),St.value),Array.from(Nr.values())}return null}(w,I),ce=function(kn,Zn){const Nr=[];let Vr=!0;for(const St of A(Zn)){const Xe=0===St.kind?Im(kn,St.fieldPath,kn.startAt):bp(kn,St.fieldPath,kn.startAt);Nr.push(Xe.value),Vr&&(Vr=Xe.inclusive)}return new Aa(Nr,Vr)}(w,I),Ke=function(kn,Zn){const Nr=[];let Vr=!0;for(const St of A(Zn)){const Xe=0===St.kind?bp(kn,St.fieldPath,kn.endAt):Im(kn,St.fieldPath,kn.endAt);Nr.push(Xe.value),Vr&&(Vr=Xe.inclusive)}return new Aa(Nr,Vr)}(w,I),At=this.In(I,w,ce),Wt=this.In(I,w,Ke),Ut=this.Tn(I,w,Q),wn=this.En(I.indexId,V,At,ce.inclusive,Wt,Ke.inclusive,Ut);return Nt.forEach(wn,Bn=>i.G(Bn,t.limit).next(kn=>{kn.forEach(Zn=>{const Nr=Wn.fromSegments(Zn.documentKey);f.has(Nr)||(f=f.add(Nr),_.push(Nr))})}))}).next(()=>_)}return Nt.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:qy(Gi.create(e.filters,"and")).map(i=>Mc(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,a,c,f,_){const I=(null!=t?t.length:1)*Math.max(i.length,c.length),w=I/(null!=t?t.length:1),V=[];for(let Q=0;Q<I;++Q){const ce=t?this.dn(t[Q/w]):Om,Ke=this.An(e,ce,i[Q%w],a),At=this.Rn(e,ce,c[Q%w],f),Wt=_.map(Ut=>this.An(e,ce,Ut,!0));V.push(...this.createRange(Ke,At,Wt))}return V}An(e,t,i,a){const c=new ff(e,Wn.empty(),t,i);return a?c:c.Zt()}Rn(e,t,i,a){const c=new ff(e,Wn.empty(),t,i);return a?c.Zt():c}Pn(e,t){const i=new bI(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const _ of c)i.rn(_)&&(!f||_.fields.length>f.fields.length)&&(f=_);return f})}getIndexType(e,t){let i=2;const a=this.hn(t);return Nt.forEach(a,c=>this.Pn(e,c).next(f=>{f?0!==i&&f.fields.length<function(I){let w=new zi(Si.comparator),V=!1;for(const Q of I.filters)for(const ce of Q.getFlattenedFilters())ce.field.isKeyField()||("array-contains"===ce.op||"array-contains-any"===ce.op?V=!0:w=w.add(ce.field));for(const Q of I.orderBy)Q.field.isKeyField()||(w=w.add(Q.field));return w.size+(V?1:0)}(c)&&(i=1):i=0})).next(()=>null!==t.limit&&a.length>1&&2===i?1:i)}Vn(e,t){const i=new Bu;for(const a of A(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=i.Yt(a.kind);Uu.vt.It(c,f)}return i.zt()}dn(e){const t=new Bu;return Uu.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const i=new Bu;return Uu.vt.It(Ts(this.databaseId,t),i.Yt(function(c){const f=A(c);return 0===f.length?0:f[f.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(null===i)return[];let a=[];a.push(new Bu);let c=0;for(const f of A(e)){const _=i[c++];for(const I of a)if(this.fn(t,f.fieldPath)&&Gh(_))a=this.gn(a,f,_);else{const w=I.Yt(f.kind);Uu.vt.It(_,w)}}return this.pn(a)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){const a=[...e],c=[];for(const f of i.arrayValue.values||[])for(const _ of a){const I=new Bu;I.seed(_.zt()),Uu.vt.It(f,I.Yt(t.kind)),c.push(I)}return c}fn(e,t){return!!e.filters.find(i=>i instanceof hi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=rh(e),a=Bc(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(c=>{const f=[];return Nt.forEach(c,_=>a.get([_.indexId,this.uid]).next(I=>{f.push(function(V,Q){const ce=Q?new Ne(Q.sequenceNumber,new Qn(th(Q.readTime),new Wn(ra(Q.documentKey)),Q.largestBatchId)):Ne.empty(),Ke=V.fields.map(([At,Wt])=>new G(Si.fromServerFormat(At),Wt));return new D(V.indexId,V.collectionGroup,Ke,ce)}(_,I))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const c=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Cr(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=rh(e),c=Bc(e);return this.yn(e).next(f=>a.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(_=>Nt.forEach(_,I=>c.put(TI(I.indexId,this.uid,f,i)))))}updateIndexEntries(e,t){const i=new Map;return Nt.forEach(t,(a,c)=>{const f=i.get(a.collectionGroup);return(f?Nt.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(_=>(i.set(a.collectionGroup,_),Nt.forEach(_,I=>this.wn(e,a,I).next(w=>{const V=this.Sn(c,I);return w.isEqual(V)?Nt.resolve():this.bn(e,c,I,w,V)}))))})}Dn(e,t,i,a){return oc(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,a){return oc(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const a=oc(e);let c=new zi(nh);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(f,_)=>{c=c.add(new ff(i.indexId,t,_.arrayValue,_.directionalValue))}).next(()=>c)}Sn(e,t){let i=new zi(nh);const a=this.Vn(t,e);if(null==a)return i;const c=M(t);if(null!=c){const f=e.data.field(c.fieldPath);if(Gh(f))for(const _ of f.arrayValue.values||[])i=i.add(new ff(t.indexId,e.key,this.dn(_),a))}else i=i.add(new ff(t.indexId,e.key,Om,a));return i}bn(e,t,i,a,c){bn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(I,w,V,Q,ce){const Ke=I.getIterator(),At=w.getIterator();let Wt=Ql(Ke),Ut=Ql(At);for(;Wt||Ut;){let wn=!1,Bn=!1;if(Wt&&Ut){const kn=V(Wt,Ut);kn<0?Bn=!0:kn>0&&(wn=!0)}else null!=Wt?Bn=!0:wn=!0;wn?(Q(Ut),Ut=Ql(At)):Bn?(ce(Wt),Wt=Ql(Ke)):(Wt=Ql(Ke),Ut=Ql(At))}}(a,c,nh,_=>{f.push(this.Dn(e,t,i,_))},_=>{f.push(this.vn(e,t,i,_))}),Nt.waitFor(f)}yn(e){let t=1;return Bc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((f,_)=>nh(f,_)).filter((f,_,I)=>!_||0!==nh(f,I[_-1]));const a=[];a.push(e);for(const f of i){const _=nh(f,e),I=nh(f,t);if(0===_)a[0]=e.Zt();else if(_>0&&I<0)a.push(f),a.push(f.Zt());else if(I>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.Cn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Om,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Om,[]]))}return c}Cn(e,t){return nh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tv)}getMinOffset(e,t){return Nt.mapArray(this.hn(t),i=>this.Pn(e,i).next(a=>a||zn())).next(tv)}}function Nm(r){return Zo(r,"collectionParents")}function oc(r){return Zo(r,"indexEntries")}function rh(r){return Zo(r,"indexConfiguration")}function Bc(r){return Zo(r,"indexState")}function tv(r){ir(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;ci(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Qn(e.readTime,e.documentKey,t)}const gf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new xs(e,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function SI(r,e,t){const i=r.store("mutations"),a=r.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let _=0;const I=i.J({range:f},(V,Q,ce)=>(_++,ce.delete()));c.push(I.next(()=>{ir(1===_)}));const w=[];for(const V of t.mutations){const Q=$h(e,V.key.path,t.batchId);c.push(a.delete(Q)),w.push(V.key)}return Nt.waitFor(c).next(()=>w)}function $u(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw zn();e=r.noDocument}return JSON.stringify(e).length}xs.DEFAULT_COLLECTION_PERCENTILE=10,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xs.DEFAULT=new xs(41943040,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xs.DISABLED=new xs(-1,0,0);class Hp{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Fn={}}static lt(e,t,i,a){ir(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Hp(c,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aa(e).J({index:"userMutationsIndex",range:i},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const c=ju(e),f=aa(e);return f.add({}).next(_=>{ir("number"==typeof _);const I=new af(_,t,i,a),w=function(Ke,At,Wt){const Ut=Wt.baseMutations.map(Bn=>Fu(Ke.ct,Bn)),wn=Wt.mutations.map(Bn=>Fu(Ke.ct,Bn));return{userId:At,batchId:Wt.batchId,localWriteTimeMs:Wt.localWriteTime.toMillis(),baseMutations:Ut,mutations:wn}}(this.serializer,this.userId,I),V=[];let Q=new zi((ce,Ke)=>Cr(ce.canonicalString(),Ke.canonicalString()));for(const ce of a){const Ke=$h(this.userId,ce.key.path,_);Q=Q.add(ce.key.path.popLast()),V.push(f.put(w)),V.push(c.put(Ke,Ad))}return Q.forEach(ce=>{V.push(this.indexManager.addToCollectionParentIndex(e,ce))}),e.addOnCommittedListener(()=>{this.Fn[_]=I.keys()}),Nt.waitFor(V).next(()=>I)})}lookupMutationBatch(e,t){return aa(e).get(t).next(i=>i?(ir(i.userId===this.userId),rc(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?Nt.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Fn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return aa(e).J({index:"userMutationsIndex",range:a},(f,_,I)=>{_.userId===this.userId&&(ir(_.batchId>=i),c=rc(this.serializer,_)),I.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return aa(e).J({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{i=c.batchId,f.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return aa(e).U("userMutationsIndex",t).next(i=>i.map(a=>rc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Ba(this.userId,t.path),a=IDBKeyRange.lowerBound(i),c=[];return ju(e).J({range:a},(f,_,I)=>{const[w,V,Q]=f,ce=ra(V);if(w===this.userId&&t.path.isEqual(ce))return aa(e).get(Q).next(Ke=>{if(!Ke)throw zn();ir(Ke.userId===this.userId),c.push(rc(this.serializer,Ke))});I.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zi(Cr);const a=[];return t.forEach(c=>{const f=Ba(this.userId,c.path),_=IDBKeyRange.lowerBound(f),I=ju(e).J({range:_},(w,V,Q)=>{const[ce,Ke,At]=w,Wt=ra(Ke);ce===this.userId&&c.path.isEqual(Wt)?i=i.add(At):Q.done()});a.push(I)}),Nt.waitFor(a).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,c=Ba(this.userId,i),f=IDBKeyRange.lowerBound(c);let _=new zi(Cr);return ju(e).J({range:f},(I,w,V)=>{const[Q,ce,Ke]=I,At=ra(ce);Q===this.userId&&i.isPrefixOf(At)?At.length===a&&(_=_.add(Ke)):V.done()}).next(()=>this.xn(e,_))}xn(e,t){const i=[],a=[];return t.forEach(c=>{a.push(aa(e).get(c).next(f=>{if(null===f)throw zn();ir(f.userId===this.userId),i.push(rc(this.serializer,f))}))}),Nt.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return SI(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),Nt.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Nt.resolve();const i=IDBKeyRange.lowerBound(function(f){return[f]}(this.userId)),a=[];return ju(e).J({range:i},(c,f,_)=>{if(c[0]===this.userId){const I=ra(c[1]);a.push(I)}else _.done()}).next(()=>{ir(0===a.length)})})}containsKey(e,t){return nv(e,this.userId,t)}Nn(e){return RI(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nv(r,e,t){const i=Ba(e,t.path),a=i[1],c=IDBKeyRange.lowerBound(i);let f=!1;return ju(r).J({range:c,H:!0},(_,I,w)=>{const[V,Q,ce]=_;V===e&&Q===a&&(f=!0),w.done()}).next(()=>f)}function aa(r){return Zo(r,"mutations")}function ju(r){return Zo(r,"documentMutations")}function RI(r){return Zo(r,"mutationQueues")}class ih{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ih(0)}static kn(){return new ih(-1)}}class MI{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const i=new ih(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>mr.fromTimestamp(new _i(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Qn(e,a)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>oh(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(ir(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let a=0;const c=[];return oh(e).J((f,_)=>{const I=jp(_);I.sequenceNumber<=t&&null===i.get(I.targetId)&&(a++,c.push(this.removeTargetData(e,I)))}).next(()=>Nt.waitFor(c)).next(()=>a)}forEachTarget(e,t){return oh(e).J((i,a)=>{const c=jp(a);t(c)})}qn(e){return PI(e).get("targetGlobalKey").next(t=>(ir(null!==t),t))}Qn(e,t){return PI(e).put("targetGlobalKey",t)}Kn(e,t){return oh(e).put(RA(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Jl(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return oh(e).J({range:a,index:"queryTargetsIndex"},(f,_,I)=>{const w=jp(_);Pc(t,w.target)&&(c=w,I.done())}).next(()=>c)}addMatchingKeys(e,t,i){const a=[],c=Wu(e);return t.forEach(f=>{const _=ls(f.path);a.push(c.put({targetId:i,path:_})),a.push(this.referenceDelegate.addReference(e,i,f))}),Nt.waitFor(a)}removeMatchingKeys(e,t,i){const a=Wu(e);return Nt.forEach(t,c=>{const f=ls(c.path);return Nt.waitFor([a.delete([i,f]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=Wu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Wu(e);let c=dr();return a.J({range:i,H:!0},(f,_,I)=>{const w=ra(f[1]),V=new Wn(w);c=c.add(V)}).next(()=>c)}containsKey(e,t){const i=ls(t.path),a=IDBKeyRange.bound([i],[Cc(i)],!1,!0);let c=0;return Wu(e).J({index:"documentTargetsIndex",H:!0,range:a},([f,_],I,w)=>{0!==f&&(c++,w.done())}).next(()=>c>0)}ot(e,t){return oh(e).get(t).next(i=>i?jp(i):null)}}function oh(r){return Zo(r,"targets")}function PI(r){return Zo(r,"targetGlobal")}function Wu(r){return Zo(r,"targetDocuments")}function OI([r,e],[t,i]){const a=Cr(r,t);return 0===a?Cr(e,i):a}class zp{constructor(e){this.Un=e,this.buffer=new zi(OI),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();OI(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;bn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,gt.A)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){na(i)?bn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Xo(i)}yield t.Hn(3e5)}))}}class xA{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Nt.resolve(fs.oe);const i=new zp(t);return this.Jn.forEachTarget(e,a=>i.zn(a.sequenceNumber)).next(()=>this.Jn.Zn(e,a=>i.zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(bn("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(gf)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(bn("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gf):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,a,c,f,_,I,w;const V=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Q=>(Q>this.params.maximumSequenceNumbersToCollect?(bn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Q}`),a=this.params.maximumSequenceNumbersToCollect):a=Q,f=Date.now(),this.nthSequenceNumber(e,a))).next(Q=>(i=Q,_=Date.now(),this.removeTargets(e,i,t))).next(Q=>(c=Q,I=Date.now(),this.removeOrphanedDocuments(e,i))).next(Q=>(w=Date.now(),zl()<=ts.$b.DEBUG&&bn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-V}ms\n\tDetermined least recently used ${a} in `+(_-f)+`ms\n\tRemoved ${c} targets in `+(I-_)+`ms\n\tRemoved ${Q} documents in `+(w-I)+`ms\nTotal Duration: ${w-V}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Q})))}}class xm{constructor(e,t){this.db=e,this.garbageCollector=function xI(r,e){return new xA(r,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,a)=>t(a))}addReference(e,t,i){return Gp(e,i)}removeReference(e,t,i){return Gp(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Gp(e,t)}nr(e,t){return function(a,c){let f=!1;return RI(a).Y(_=>nv(a,_,c).next(I=>(I&&(f=!0),Nt.resolve(!I)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.tr(e,(f,_)=>{if(_<=t){const I=this.nr(e,f).next(w=>{if(!w)return c++,i.getEntry(e,f).next(()=>(i.removeEntry(f,mr.min()),Wu(e).delete([0,ls(f.path)])))});a.push(I)}}).next(()=>Nt.waitFor(a)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Gp(e,t)}tr(e,t){const i=Wu(e);let a,c=fs.oe;return i.J({index:"documentTargetsIndex"},([f,_],{path:I,sequenceNumber:w})=>{0===f?(c!==fs.oe&&t(new Wn(ra(a)),c),c=w,a=I):c=fs.oe}).next(()=>{c!==fs.oe&&t(new Wn(ra(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gp(r,e){return Wu(r).put((a=r.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:a}));var a}class rv{constructor(){this.changes=new Ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,go.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Nt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return sc(e).put(i)}removeEntry(e,t,i){return sc(e).delete(function(c,f){const _=c.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],Gy(f),_[_.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=go.newInvalidDocument(t);return sc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xp(t))},(a,c)=>{i=this.ir(t,c)}).next(()=>i)}sr(e,t){let i={size:0,document:go.newInvalidDocument(t)};return sc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xp(t))},(a,c)=>{i={document:this.ir(t,c),size:$u(c)}}).next(()=>i)}getEntries(e,t){let i=Ps();return this._r(e,t,(a,c)=>{const f=this.ir(a,c);i=i.insert(a,f)}).next(()=>i)}ar(e,t){let i=Ps(),a=new uo(Wn.comparator);return this._r(e,t,(c,f)=>{const _=this.ir(c,f);i=i.insert(c,_),a=a.insert(c,$u(f))}).next(()=>({documents:i,ur:a}))}_r(e,t,i){if(t.isEmpty())return Nt.resolve();let a=new zi(UI);t.forEach(I=>a=a.add(I));const c=IDBKeyRange.bound(Xp(a.first()),Xp(a.last())),f=a.getIterator();let _=f.getNext();return sc(e).J({index:"documentKeyIndex",range:c},(I,w,V)=>{const Q=Wn.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;_&&UI(_,Q)<0;)i(_,null),_=f.getNext();_&&_.isEqual(Q)&&(i(_,w),_=f.hasNext()?f.getNext():null),_?V.$(Xp(_)):V.done()}).next(()=>{for(;_;)i(_,null),_=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,i,a,c){const f=t.path,_=[f.popLast().toArray(),f.lastSegment(),Gy(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],I=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sc(e).U(IDBKeyRange.bound(_,I,!0)).next(w=>{c?.incrementDocumentReadCount(w.length);let V=Ps();for(const Q of w){const ce=this.ir(Wn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);ce.isFoundDocument()&&(Vd(t,ce)||a.has(ce.key))&&(V=V.insert(ce.key,ce))}return V})}getAllFromCollectionGroup(e,t,i,a){let c=Ps();const f=VI(t,i),_=VI(t,Qn.max());return sc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,_,!0)},(I,w,V)=>{const Q=this.ir(Wn.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(Q.key,Q),c.size===a&&V.done()}).next(()=>c)}newChangeBuffer(e){return new FI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return km(e).get("remoteDocumentGlobalKey").next(t=>(ir(!!t),t))}rr(e,t){return km(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const i=function SA(r,e){let t;if(e.document)t=DA(r.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Wn.fromSegments(e.noDocument.path),a=th(e.noDocument.readTime);t=go.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return zn();{const i=Wn.fromSegments(e.unknownDocument.path),a=th(e.unknownDocument.version);t=go.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(a){const c=new _i(a[0],a[1]);return mr.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(mr.min()))return i}return go.newInvalidDocument(e)}}function LI(r){return new kI(r)}class FI extends rv{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Ha(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new zi((c,f)=>Cr(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const _=this.lr.get(c);if(t.push(this.cr.removeEntry(e,c,_.readTime)),f.isValidDocument()){const I=zy(this.cr.serializer,f);a=a.add(c.path.popLast());const w=$u(I);i+=w-_.size,t.push(this.cr.addEntry(e,c,I))}else if(i-=_.size,this.trackRemovals){const I=zy(this.cr.serializer,f.convertToNoDocument(mr.min()));t.push(this.cr.addEntry(e,c,I))}}),a.forEach(c=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.cr.updateMetadata(e,i)),Nt.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:a})=>(a.forEach((c,f)=>{this.lr.set(c,{size:f,readTime:i.get(c).readTime})}),i))}}function km(r){return Zo(r,"remoteDocumentGlobal")}function sc(r){return Zo(r,"remoteDocumentsV14")}function Xp(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VI(r,e){const t=e.documentKey.path.toArray();return[r,Gy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function UI(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<i.length-2;++c)if(a=Cr(t[c],i[c]),a)return a;return a=Cr(t.length,i.length),a||(a=Cr(t[t.length-2],i[i.length-2]),a||Cr(t[t.length-1],i[i.length-1]))}class kA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BI{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&Nc(i.mutation,a,Rs.empty(),_i.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,dr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=dr()){const a=wa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let f=Os();return c.forEach((_,I)=>{f=f.insert(_,I.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const i=wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,dr()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,_)=>{t.set(f,_)})})}computeViews(e,t,i,a){let c=Ps();const f=Il(),_=Il();return t.forEach((I,w)=>{const V=i.get(w.key);a.has(w.key)&&(void 0===V||V.mutation instanceof za)?c=c.insert(w.key,w):void 0!==V?(f.set(w.key,V.mutation.getFieldMask()),Nc(V.mutation,w,V.mutation.getFieldMask(),_i.now())):f.set(w.key,Rs.empty())}),this.recalculateAndSaveOverlays(e,c).next(I=>(I.forEach((w,V)=>f.set(w,V)),t.forEach((w,V)=>{var Q;return _.set(w,new kA(V,null!==(Q=f.get(w))&&void 0!==Q?Q:null))}),_))}recalculateAndSaveOverlays(e,t){const i=Il();let a=new uo((f,_)=>f-_),c=dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const _ of f)_.keys().forEach(I=>{const w=t.get(I);if(null===w)return;let V=i.get(I)||Rs.empty();V=_.applyToLocalView(w,V),i.set(I,V);const Q=(a.get(_.batchId)||dr()).add(I);a=a.insert(_.batchId,Q)})}).next(()=>{const f=[],_=a.getReverseIterator();for(;_.hasNext();){const I=_.getNext(),w=I.key,V=I.value,Q=Rp();V.forEach(ce=>{if(!c.has(ce)){const Ke=xu(t.get(ce),i.get(ce));null!==Ke&&Q.set(ce,Ke),c=c.add(ce)}}),f.push(this.documentOverlayCache.saveOverlays(e,w,Q))}return Nt.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return Wn.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ba(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a);var f}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):Nt.resolve(wa());let _=-1,I=c;return f.next(w=>Nt.forEach(w,(V,Q)=>(_<Q.largestBatchId&&(_=Q.largestBatchId),c.get(V)?Nt.resolve():this.remoteDocumentCache.getEntry(e,V).next(ce=>{I=I.insert(V,ce)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,I,w,dr())).next(V=>({batchId:_,changes:Sp(V)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wn(t)).next(i=>{let a=Os();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const c=t.collectionGroup;let f=Os();return this.indexManager.getCollectionParents(e,c).next(_=>Nt.forEach(_,I=>{const w=(Q=t,ce=I.child(c),new Xs(ce,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ce;return this.getDocumentsMatchingCollectionQuery(e,w,i,a).next(V=>{V.forEach((Q,ce)=>{f=f.insert(Q,ce)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,a))).next(f=>{c.forEach((I,w)=>{const V=w.getKey();null===f.get(V)&&(f=f.insert(V,go.newInvalidDocument(V)))});let _=Os();return f.forEach((I,w)=>{const V=c.get(I);void 0!==V&&Nc(V.mutation,w,Rs.empty(),_i.now()),Vd(t,w)&&(_=_.insert(I,w))}),_})}}class LA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Nt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(a=t).id,version:a.version,createTime:Oo(a.createTime)}),Nt.resolve();var a}getNamedQuery(e,t){return Nt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(a=t).name,query:wm(a.bundledQuery),readTime:Oo(a.readTime)}),Nt.resolve();var a}}class iv{constructor(){this.overlays=new uo(Wn.comparator),this.Ir=new Map}getOverlay(e,t){return Nt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=wa();return Nt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.ht(e,t,c)}),Nt.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Ir.get(i);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(i)),Nt.resolve()}getOverlaysForCollection(e,t,i){const a=wa(),c=t.length+1,f=new Wn(t.child("")),_=this.overlays.getIteratorFrom(f);for(;_.hasNext();){const I=_.getNext().value,w=I.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&I.largestBatchId>i&&a.set(I.getKey(),I)}return Nt.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new uo((w,V)=>w-V);const f=this.overlays.getIterator();for(;f.hasNext();){const w=f.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let V=c.get(w.largestBatchId);null===V&&(V=wa(),c=c.insert(w.largestBatchId,V)),V.set(w.getKey(),w)}}const _=wa(),I=c.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((w,V)=>_.set(w,V)),!(_.size()>=a)););return Nt.resolve(_)}ht(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const f=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new Ds(t,i));let c=this.Ir.get(t);void 0===c&&(c=dr(),this.Ir.set(t,c)),this.Ir.set(t,c.add(i.key))}}class FA{constructor(){this.sessionToken=Bo.EMPTY_BYTE_STRING}getSessionToken(e){return Nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Nt.resolve()}}class Lm{constructor(){this.Tr=new zi(_s.Er),this.dr=new zi(_s.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new _s(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new _s(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new Wn(new Qr([])),i=new _s(t,e),a=new _s(t,e+1),c=[];return this.dr.forEachInRange([i,a],f=>{this.Vr(f),c.push(f.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Wn(new Qr([])),i=new _s(t,e),a=new _s(t,e+1);let c=dr();return this.dr.forEachInRange([i,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new _s(e,0),i=this.Tr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class _s{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Wn.comparator(e.key,t.key)||Cr(e.wr,t.wr)}static Ar(e,t){return Cr(e.wr,t.wr)||Wn.comparator(e.key,t.key)}}class VA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new zi(_s.Er)}checkEmpty(e){return Nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const c=this.Sr;this.Sr++;const f=new af(c,t,i,a);this.mutationQueue.push(f);for(const _ of a)this.br=this.br.add(new _s(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Nt.resolve(f)}lookupMutationBatch(e,t){return Nt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.vr(t+1),c=a<0?0:a;return Nt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new _s(t,0),a=new _s(t,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([i,a],f=>{const _=this.Dr(f.wr);c.push(_)}),Nt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zi(Cr);return t.forEach(a=>{const c=new _s(a,0),f=new _s(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],_=>{i=i.add(_.wr)})}),Nt.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;Wn.isDocumentKey(c)||(c=c.child(""));const f=new _s(new Wn(c),0);let _=new zi(Cr);return this.br.forEachWhile(I=>{const w=I.key.path;return!!i.isPrefixOf(w)&&(w.length===a&&(_=_.add(I.wr)),!0)},f),Nt.resolve(this.Cr(_))}Cr(e){const t=[];return e.forEach(i=>{const a=this.Dr(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){ir(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return Nt.forEach(t.mutations,a=>{const c=new _s(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new _s(t,0),a=this.br.firstAfterOrEqual(i);return Nt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Nt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qp{constructor(e){this.Mr=e,this.docs=new uo(Wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,f=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Nt.resolve(i?i.document.mutableCopy():go.newInvalidDocument(t))}getEntries(e,t){let i=Ps();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():go.newInvalidDocument(a))}),Nt.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=Ps();const f=t.path,_=new Wn(f.child("")),I=this.docs.getIteratorFrom(_);for(;I.hasNext();){const{key:w,value:{document:V}}=I.getNext();if(!f.isPrefixOf(w.path))break;w.path.length>f.length+1||ci(fn(V),i)<=0||(a.has(V.key)||Vd(t,V))&&(c=c.insert(V.key,V.mutableCopy()))}return Nt.resolve(c)}getAllFromCollectionGroup(e,t,i,a){zn()}Or(e,t){return Nt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Fm(this)}getSize(e){return Nt.resolve(this.size)}}class Fm extends rv{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)}),Nt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class YM{constructor(e){this.persistence=e,this.Nr=new Ha(t=>Jl(t),Pc),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lm,this.targetCount=0,this.kr=ih.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,a)=>t(a)),Nt.resolve()}getLastRemoteSnapshotVersion(e){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),Nt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Nt.resolve()}updateTargetData(e,t){return this.Kn(t),Nt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.Nr.forEach((f,_)=>{_.sequenceNumber<=t&&null===i.get(_.targetId)&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),Nt.waitFor(c).next(()=>a)}getTargetCount(e){return Nt.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return Nt.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),Nt.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Nt.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Nt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return Nt.resolve(i)}containsKey(e,t){return Nt.resolve(this.Br.containsKey(t))}}class ov{constructor(e,t){this.qr={},this.overlays={},this.Qr=new fs(0),this.Kr=!1,this.Kr=!0,this.$r=new FA,this.referenceDelegate=e(this),this.Ur=new YM(this),this.indexManager=new QM,this.remoteDocumentCache=new qp(i=>this.referenceDelegate.Wr(i)),this.serializer=new EI(t),this.Gr=new LA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new VA(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){bn("MemoryPersistence","Starting transaction:",e);const a=new $I(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(c=>this.referenceDelegate.jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Hr(e,t){return Nt.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class $I extends Yo{constructor(e){super(),this.currentSequenceNumber=e}}class mf{constructor(e){this.persistence=e,this.Jr=new Lm,this.Yr=null}static Zr(e){return new mf(e)}get Xr(){if(this.Yr)return this.Yr;throw zn()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),Nt.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),Nt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Nt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Xr.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.Xr,i=>{const a=Wn.fromPath(i);return this.ei(e,a).next(c=>{c||t.removeEntry(a,mr.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Nt.or([()=>Nt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class jI{constructor(e){this.serializer=e}O(e,t,i,a){const c=new Gs("createOrUpgrade",t);var I;i<1&&a>=1&&(e.createObjectStore("owner"),(I=e).createObjectStore("mutationQueues",{keyPath:"userId"}),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pp,{unique:!0}),I.createObjectStore("documentMutations"),UA(e),function(I){I.createObjectStore("remoteDocuments")}(e));let f=Nt.resolve();return i<3&&a>=3&&(0!==i&&(function(I){I.deleteObjectStore("targetDocuments"),I.deleteObjectStore("targets"),I.deleteObjectStore("targetGlobal")}(e),UA(e)),f=f.next(()=>function(I){const w=I.store("targetGlobal"),V={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mr.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",V)}(c))),i<4&&a>=4&&(0!==i&&(f=f.next(()=>function(I,w){return w.store("mutations").U().next(V=>{I.deleteObjectStore("mutations"),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pp,{unique:!0});const Q=w.store("mutations"),ce=V.map(Ke=>Q.put(Ke));return Nt.waitFor(ce)})}(e,c))),f=f.next(()=>{!function(I){I.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(f=f.next(()=>this.ni(c))),i<6&&a>=6&&(f=f.next(()=>(function(I){I.createObjectStore("remoteDocumentGlobal")}(e),this.ri(c)))),i<7&&a>=7&&(f=f.next(()=>this.ii(c))),i<8&&a>=8&&(f=f.next(()=>this.si(e,c))),i<9&&a>=9&&(f=f.next(()=>{!function(I){I.objectStoreNames.contains("remoteDocumentChanges")&&I.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(f=f.next(()=>this.oi(c))),i<11&&a>=11&&(f=f.next(()=>{(function(I){I.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(I){I.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(f=f.next(()=>{!function(I){const w=I.createObjectStore("documentOverlays",{keyPath:En});w.createIndex("collectionPathOverlayIndex",lr,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",Zi,{unique:!1})}(e)})),i<13&&a>=13&&(f=f.next(()=>function(I){const w=I.createObjectStore("remoteDocumentsV14",{keyPath:gp});w.createIndex("documentKeyIndex",bd),w.createIndex("collectionGroupIndex",jh)}(e)).next(()=>this._i(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(f=f.next(()=>this.ai(e,c))),i<15&&a>=15&&(f=f.next(()=>function(I){I.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),I.createObjectStore("indexState",{keyPath:S}).createIndex("sequenceNumberIndex",Y,{unique:!1}),I.createObjectStore("indexEntries",{keyPath:De}).createIndex("documentKeyIndex",$t,{unique:!1})}(e))),i<16&&a>=16&&(f=f.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&a>=17&&(f=f.next(()=>{!function(I){I.createObjectStore("globals",{keyPath:"name"})}(e)})),f}ri(e){let t=0;return e.store("remoteDocuments").J((i,a)=>{t+=$u(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(a=>Nt.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",f).next(_=>Nt.forEach(_,I=>{ir(I.userId===c.userId);const w=rc(this.serializer,I);return SI(e,c.userId,w).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return i.J((f,_)=>{const I=new Qr(f),w=[0,ls(I)];c.push(t.get(w).next(V=>V?Nt.resolve():t.put({targetId:0,path:ls(I),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Nt.waitFor(c))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:mp});const i=t.store("collectionParents"),a=new ev,c=f=>{if(a.add(f)){const _=f.lastSegment(),I=f.popLast();return i.put({collectionId:_,parent:ls(I)})}};return t.store("remoteDocuments").J({H:!0},(f,_)=>{const I=new Qr(f);return c(I.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([f,_,I],w)=>{const V=ra(_);return c(V.popLast())}))}oi(e){const t=e.store("targets");return t.J((i,a)=>{const c=jp(a),f=RA(this.serializer,c);return t.put(f)})}_i(e,t){const i=t.store("remoteDocuments"),a=[];return i.J((c,f)=>{const _=t.store("remoteDocumentsV14"),I=(Q=f,Q.document?new Wn(Qr.fromString(Q.document.name).popFirst(5)):Q.noDocument?Wn.fromSegments(Q.noDocument.path):Q.unknownDocument?Wn.fromSegments(Q.unknownDocument.path):zn()).path.toArray(),w={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};var Q;a.push(_.put(w))}).next(()=>Nt.waitFor(a))}ai(e,t){const i=t.store("mutations"),a=LI(this.serializer),c=new ov(mf.Zr,this.serializer.ct);return i.U().next(f=>{const _=new Map;return f.forEach(I=>{var w;let V=null!==(w=_.get(I.userId))&&void 0!==w?w:dr();rc(this.serializer,I).keys().forEach(Q=>V=V.add(Q)),_.set(I.userId,V)}),Nt.forEach(_,(I,w)=>{const V=new Eo(w),Q=Mm.lt(this.serializer,V),ce=c.getIndexManager(V),Ke=Hp.lt(V,this.serializer,ce,c.referenceDelegate);return new BI(a,Ke,Q,ce).recalculateAndSaveOverlaysForDocumentKeys(new Wh(t,fs.oe),I).next()})})}}function UA(r){r.createObjectStore("targetDocuments",{keyPath:bc}).createIndex("documentTargetsIndex",wd,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gu,{unique:!0}),r.createObjectStore("targetGlobal")}const WI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sv{constructor(e,t,i,a,c,f,_,I,w,V,Q=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=c,this.window=f,this.document=_,this.ci=w,this.li=V,this.hi=Q,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=ce=>Promise.resolve(),!sv.D())throw new Cn(Yt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xm(this,a),this.Ai=t+"main",this.serializer=new EI(I),this.Ri=new ws(this.Ai,this.hi,new jI(this.serializer)),this.$r=new CI,this.Ur=new MI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LI(this.serializer),this.Gr=new DI,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===V&&Io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Cn(Yt.FAILED_PRECONDITION,WI);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new fs(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var i=(0,gt.A)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,gt.A)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,gt.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(na(e))return bn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return bn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return _f(e).get("owner").next(t=>Nt.resolve(this.vi(t)))}Ci(e){return Qp(e).delete(this.clientId)}Fi(){var e=this;return(0,gt.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=Zo(i,"clientMetadata");return a.U().next(c=>{const f=e.xi(c,18e5),_=c.filter(I=>-1===f.indexOf(I));return Nt.forEach(_,I=>a.delete(I.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Vi)for(const i of t)e.Vi.removeItem(e.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Nt.resolve(!0):_f(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new Cn(Yt.FAILED_PRECONDITION,WI);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qp(e).U().next(i=>void 0===this.xi(i,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&bn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,gt.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Wh(t,fs.oe);return e.bi(i).next(()=>e.Ci(i))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Qp(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return Hp.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NA(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Mm.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){bn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=17===(I=this.hi)?_p:16===I?ky:15===I?Sd:14===I?$a:13===I?co:12===I?Uo:11===I?cs:void zn();var I;let f;return this.Ri.runTransaction(e,a,c,_=>(f=new Wh(_,this.Qr?this.Qr.next():fs.oe),"readwrite-primary"===t?this.wi(f).next(I=>!!I||this.Si(f)).next(I=>{if(!I)throw Io(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Cn(Yt.FAILED_PRECONDITION,Ui);return i(f)}).next(I=>this.Di(f).next(()=>I)):this.Ki(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Ki(e){return _f(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Cn(Yt.FAILED_PRECONDITION,WI)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _f(e).put("owner",t)}static D(){return ws.D()}bi(e){const t=_f(e);return t.get("owner").next(i=>this.vi(i)?(bn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Nt.resolve())}Mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Io(`Detected an update time that is in the future: ${e} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,be.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const i=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return bn("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Io("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Io("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _f(r){return Zo(r,"owner")}function Qp(r){return Zo(r,"clientMetadata")}function KI(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Um{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=a}static Wi(e,t){let i=dr(),a=dr();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Um(e,t.fromCache,i,a)}}class BA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $A{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,be.nr)()?8:Ea((0,be.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,a){const c={result:null};return this.Yi(e,t).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Zi(e,t,a,i).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new BA;return this.Xi(e,t,f).next(_=>{if(c.result=_,this.zi)return this.es(e,t,f,_.size)})}).next(()=>c.result)}es(e,t,i,a){return i.documentReadCount<this.ji?(zl()<=ts.$b.DEBUG&&bn("QueryEngine","SDK will not create cache indexes for query:",Oc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Nt.resolve()):(zl()<=ts.$b.DEBUG&&bn("QueryEngine","Query:",Oc(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(zl()<=ts.$b.DEBUG&&bn("QueryEngine","The SDK decides to create cache indexes for query:",Oc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):Nt.resolve())}Yi(e,t){if(Yh(t))return Nt.resolve(null);let i=rs(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Fd(t,null,"F"),i=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const f=dr(...c);return this.Ji.getDocuments(e,f).next(_=>this.indexManager.getMinOffset(e,i).next(I=>{const w=this.ts(t,_);return this.ns(t,w,f,I.readTime)?this.Yi(e,Fd(t,null,"F")):this.rs(e,w,t,I)}))})))}Zi(e,t,i,a){return Yh(t)||a.isEqual(mr.min())?Nt.resolve(null):this.Ji.getDocuments(e,i).next(c=>{const f=this.ts(t,c);return this.ns(t,f,i,a)?Nt.resolve(null):(zl()<=ts.$b.DEBUG&&bn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Oc(t)),this.rs(e,f,t,Dt(a,-1)).next(_=>_))})}ts(e,t){let i=new zi(Zh(e));return t.forEach((a,c)=>{Vd(e,c)&&(i=i.add(c))}),i}ns(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Xi(e,t,i){return zl()<=ts.$b.DEBUG&&bn("QueryEngine","Using full collection scan to execute query:",Oc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Qn.min(),i)}rs(e,t,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class JM{constructor(e,t,i,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new uo(Cr),this._s=new Ha(c=>Jl(c),Pc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function jA(r,e,t,i){return new JM(r,e,t,i)}function HI(r,e){return zI.apply(this,arguments)}function zI(){return(zI=(0,gt.A)(function*(r,e){const t=$n(r);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const f=[],_=[];let I=dr();for(const w of a){f.push(w.batchId);for(const V of w.mutations)I=I.add(V.key)}for(const w of c){_.push(w.batchId);for(const V of w.mutations)I=I.add(V.key)}return t.localDocuments.getDocuments(i,I).next(w=>({hs:w,removedBatchIds:f,addedBatchIds:_}))})})})).apply(this,arguments)}function GI(r){const e=$n(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function XI(r,e,t){let i=dr(),a=dr();return t.forEach(c=>i=i.add(c)),e.getEntries(r,i).next(c=>{let f=Ps();return t.forEach((_,I)=>{const w=c.get(_);I.isFoundDocument()!==w.isFoundDocument()&&(a=a.add(_)),I.isNoDocument()&&I.version.isEqual(mr.min())?(e.removeEntry(_,I.readTime),f=f.insert(_,I)):!w.isValidDocument()||I.version.compareTo(w.version)>0||0===I.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(I),f=f.insert(_,I)):bn("LocalStore","Ignoring outdated watch update for ",_,". Current version:",w.version," Watch version:",I.version)}),{Ps:f,Is:a}})}function sh(r,e){const t=$n(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ac(r,e){const t=$n(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ur.getTargetData(i,e).next(c=>c?(a=c,Nt.resolve(a)):t.Ur.allocateTargetId(i).next(f=>(a=new Uc(e,f,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.os.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Ku(r,e,t){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,gt.A)(function*(r,e,t){const i=$n(r),a=i.os.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,f=>i.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!na(f))throw f;bn("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}i.os=i.os.remove(e),i._s.delete(a.target)})).apply(this,arguments)}function Bm(r,e,t){const i=$n(r);let a=mr.min(),c=dr();return i.persistence.runTransaction("Execute query","readwrite",f=>function(I,w,V){const Q=$n(I),ce=Q._s.get(V);return void 0!==ce?Nt.resolve(Q.os.get(ce)):Q.Ur.getTargetData(w,V)}(i,f,rs(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(f,_.targetId).next(I=>{c=I})}).next(()=>i.ss.getDocumentsMatchingQuery(f,e,t?a:mr.min(),t?c:dr())).next(_=>(qI(i,El(e),_),{documents:_,Ts:c})))}function ah(r,e){const t=$n(r),i=$n(t.Ur),a=t.os.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>i.ot(c,e).next(f=>f?f.target:null))}function lv(r,e){const t=$n(r),i=t.us.get(e)||mr.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.cs.getAllFromCollectionGroup(a,e,Dt(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(qI(t,e,a),a))}function qI(r,e,t){let i=r.us.get(e)||mr.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),r.us.set(e,i)}function cv(){return(cv=(0,gt.A)(function*(r,e,t,i){const a=$n(r);let c=dr(),f=Ps();for(const w of t){const V=e.Es(w.metadata.name);w.document&&(c=c.add(V));const Q=e.ds(w);Q.setReadTime(e.As(w.metadata.readTime)),f=f.insert(V,Q)}const _=a.cs.newChangeBuffer({trackRemovals:!0}),I=yield ac(a,(V=i,rs(ec(Qr.fromString(`__bundle__/docs/${V}`)))));var V;return a.persistence.runTransaction("Apply bundle documents","readwrite",w=>XI(w,_,f).next(V=>(_.apply(w),V)).next(V=>a.Ur.removeMatchingKeysForTargetId(w,I.targetId).next(()=>a.Ur.addMatchingKeys(w,c,I.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(w,V.Ps,V.Is)).next(()=>V.Ps)))})).apply(this,arguments)}function KA(r,e){return uv.apply(this,arguments)}function uv(){return(uv=(0,gt.A)(function*(r,e,t=dr()){const i=yield ac(r,rs(wm(e.bundledQuery))),a=$n(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=Oo(e.readTime);if(i.snapshotVersion.compareTo(f)>=0)return a.Gr.saveNamedQuery(c,e);const _=i.withResumeToken(Bo.EMPTY_BYTE_STRING,f);return a.os=a.os.insert(_.targetId,_),a.Ur.updateTargetData(c,_).next(()=>a.Ur.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>a.Ur.addMatchingKeys(c,t,i.targetId)).next(()=>a.Gr.saveNamedQuery(c,e))})})).apply(this,arguments)}function Jp(r,e){return`firestore_clients_${r}_${e}`}function QI(r,e,t){let i=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function $m(r,e){return`firestore_targets_${r}_${e}`}class lh{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Rs(e,t,i){const a=JSON.parse(i);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new Cn(a.error.code,a.error.message))),f?new lh(e,t,a.state,c):(Io("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hu{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){const i=JSON.parse(t);let a,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Cn(i.error.code,i.error.message))),c?new Hu(e,i.state,a):(Io("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,c=Bd();for(let f=0;a&&f<i.activeTargetIds.length;++f)a=fp(i.activeTargetIds[f]),c=c.add(i.activeTargetIds[f]);return a?new jm(e,c):(Io("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dv{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dv(t.clientId,t.onlineState):(Io("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hv{constructor(){this.activeTargetIds=Bd()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wm{constructor(e,t,i,a,c){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new uo(Cr),this.started=!1,this.bs=[];const f=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Ds=Jp(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new hv),this.Cs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(I){return`firestore_bundle_loaded_v2_${I}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,gt.A)(function*(){const t=yield e.syncEngine.Qi();for(const a of t){if(a===e.ps)continue;const c=e.getItem(Jp(e.persistenceKey,a));if(c){const f=jm.Rs(a,c);f&&(e.Ss=e.Ss.insert(f.clientId,f))}}e.Ns();const i=e.storage.getItem(e.xs);if(i){const a=e.Ls(i);a&&e.Bs(a)}for(const a of e.bs)e.ws(a);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem($m(this.persistenceKey,e));if(a){const c=Hu.Rs(e,a);c&&(i=c.state)}}return t&&this.Ks.fs(e),this.Ns(),i}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($m(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Qs(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return bn("SharedClientState","READ",e,t),t}setItem(e,t){bn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){bn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const i=e;if(i.storageArea===this.storage){if(bn("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void Io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,gt.A)(function*(){if(t.started){if(null!==i.key)if(t.Cs.test(i.key)){if(null==i.newValue){const a=t.Gs(i.key);return t.zs(a,null)}{const a=t.js(i.key,i.newValue);if(a)return t.zs(a.clientId,a)}}else if(t.Fs.test(i.key)){if(null!==i.newValue){const a=t.Hs(i.key,i.newValue);if(a)return t.Js(a)}}else if(t.Ms.test(i.key)){if(null!==i.newValue){const a=t.Ys(i.key,i.newValue);if(a)return t.Zs(a)}}else if(i.key===t.xs){if(null!==i.newValue){const a=t.Ls(i.newValue);if(a)return t.Bs(a)}}else if(i.key===t.vs){const a=function(f){let _=fs.oe;if(null!=f)try{const I=JSON.parse(f);ir("number"==typeof I),_=I}catch(I){Io("SharedClientState","Failed to read sequence number from WebStorage",I)}return _}(i.newValue);a!==fs.oe&&t.sequenceNumberHandler(a)}else if(i.key===t.Os){const a=t.Xs(i.newValue);yield Promise.all(a.map(c=>t.syncEngine.eo(c)))}}else t.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){const a=new lh(this.currentUser,e,t,i),c=QI(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Vs())}Qs(e){const t=QI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,i){const a=$m(this.persistenceKey,e),c=new Hu(e,t,i);this.setItem(a,c.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const i=this.Gs(e);return jm.Rs(i,t)}Hs(e,t){const i=this.Fs.exec(e),a=Number(i[1]);return lh.Rs(new Eo(void 0!==i[2]?i[2]:null),a,t)}Ys(e,t){const i=this.Ms.exec(e),a=Number(i[1]);return Hu.Rs(a,t)}Ls(e){return dv.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,gt.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);bn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const i=t?this.Ss.insert(e,t):this.Ss.remove(e),a=this.ks(this.Ss),c=this.ks(i),f=[],_=[];return c.forEach(I=>{a.has(I)||f.push(I)}),a.forEach(I=>{c.has(I)||_.push(I)}),this.syncEngine.io(f,_).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=Bd();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class fv{constructor(){this.so=new hv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eP{_o(e){}shutdown(){}}class YI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){bn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){bn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zu=null;function pv(){return null===zu?zu=268435456+Math.round(2147483648*Math.random()):zu++,"0x"+zu.toString(16)}const JI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ks="WebChannelConnection";class ZI extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${a}/databases/${c}`,this.Co="(default)"===this.databaseId.database?`project_id=${a}`:`project_id=${a}&database_id=${c}`}get Fo(){return!1}Mo(t,i,a,c,f){const _=pv(),I=this.xo(t,i.toUriEncodedString());bn("RestConnection",`Sending RPC '${t}' ${_}:`,I,a);const w={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(w,c,f),this.No(t,I,w,a).then(V=>(bn("RestConnection",`Received RPC '${t}' ${_}: `,V),V),V=>{throw hs("RestConnection",`RPC '${t}' ${_} failed with error: `,V,"url: ",I,"request:",a),V})}Lo(t,i,a,c,f,_){return this.Mo(t,i,a,c,f)}Oo(t,i,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+Hs,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,f)=>t[f]=c),a&&a.headers.forEach((c,f)=>t[f]=c)}xo(t,i){return`${this.Do}/v1/${i}:${JI[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,a){const c=pv();return new Promise((f,_)=>{const I=new ya;I.setWithCredentials(!0),I.listenOnce(Ec.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case al.NO_ERROR:const V=I.getResponseJson();bn(ks,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(V)),f(V);break;case al.TIMEOUT:bn(ks,`RPC '${e}' ${c} timed out`),_(new Cn(Yt.DEADLINE_EXCEEDED,"Request time out"));break;case al.HTTP_ERROR:const Q=I.getStatus();if(bn(ks,`RPC '${e}' ${c} failed with status:`,Q,"response text:",I.getResponseText()),Q>0){let ce=I.getResponseJson();Array.isArray(ce)&&(ce=ce[0]);const Ke=ce?.error;if(Ke&&Ke.status&&Ke.message){const At=function(Ut){const wn=Ut.toLowerCase().replace(/_/g,"-");return Object.values(Yt).indexOf(wn)>=0?wn:Yt.UNKNOWN}(Ke.status);_(new Cn(At,Ke.message))}else _(new Cn(Yt.UNKNOWN,"Server responded with status "+I.getStatus()))}else _(new Cn(Yt.UNAVAILABLE,"Connection failed."));break;default:zn()}}finally{bn(ks,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(a);bn(ks,`RPC '${e}' ${c} sending request:`,a),I.send(t,"POST",w,i,15)})}Bo(e,t,i){const a=pv(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=cl(),_=Dd(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(I.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(I.useFetchStreams=!0),this.Oo(I.initMessageHeaders,t,i),I.encodeInitMessageHeaders=!0;const V=c.join("");bn(ks,`Creating RPC '${e}' stream ${a}: ${V}`,I);const Q=f.createWebChannel(V,I);let ce=!1,Ke=!1;const At=new HA({Io:Ut=>{Ke?bn(ks,`Not sending because RPC '${e}' stream ${a} is closed:`,Ut):(ce||(bn(ks,`Opening RPC '${e}' stream ${a} transport.`),Q.open(),ce=!0),bn(ks,`RPC '${e}' stream ${a} sending:`,Ut),Q.send(Ut))},To:()=>Q.close()}),Wt=(Ut,wn,Bn)=>{Ut.listen(wn,kn=>{try{Bn(kn)}catch(Zn){setTimeout(()=>{throw Zn},0)}})};return Wt(Q,ta.EventType.OPEN,()=>{Ke||(bn(ks,`RPC '${e}' stream ${a} transport opened.`),At.yo())}),Wt(Q,ta.EventType.CLOSE,()=>{Ke||(Ke=!0,bn(ks,`RPC '${e}' stream ${a} transport closed`),At.So())}),Wt(Q,ta.EventType.ERROR,Ut=>{Ke||(Ke=!0,hs(ks,`RPC '${e}' stream ${a} transport errored:`,Ut),At.So(new Cn(Yt.UNAVAILABLE,"The operation could not be completed")))}),Wt(Q,ta.EventType.MESSAGE,Ut=>{var wn;if(!Ke){const Bn=Ut.data[0];ir(!!Bn);const Zn=Bn.error||(null===(wn=Bn[0])||void 0===wn?void 0:wn.error);if(Zn){bn(ks,`RPC '${e}' stream ${a} received error:`,Zn);const Nr=Zn.status;let Vr=function(mt){const Mt=qo[mt];if(void 0!==Mt)return uf(Mt)}(Nr),St=Zn.message;void 0===Vr&&(Vr=Yt.INTERNAL,St="Unknown error status: "+Nr+" with message "+Zn.message),Ke=!0,At.So(new Cn(Vr,St)),Q.close()}else bn(ks,`RPC '${e}' stream ${a} received:`,Bn),At.bo(Bn)}}),Wt(_,ll.STAT_EVENT,Ut=>{Ut.stat===uu.PROXY?bn(ks,`RPC '${e}' stream ${a} detected buffering proxy`):Ut.stat===uu.NOPROXY&&bn(ks,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{At.wo()},0),At}}function eT(){return typeof window<"u"?window:null}function Zp(){return typeof document<"u"?document:null}function eg(r){return new Ai(r,!0)}class yf{constructor(e,t,i=1e3,a=1.5,c=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=a,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-i);a>0&&bn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Km{constructor(e,t,i,a,c,f,_,I){this.ui=e,this.Ho=i,this.Jo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=_,this.listener=I,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yf(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,gt.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,gt.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var i=this;return(0,gt.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():t&&t.code===Yt.RESOURCE_EXHAUSTED?(Io(t.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):t&&t.code===Yt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===t&&this.P_(i,a)},i=>{e(()=>{const a=new Cn(Yt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>1==++this.e_?this.E_(a):this.onNext(a))})}i_(){var e=this;this.state=5,this.t_.Go((0,gt.A)(function*(){e.state=0,e.start()}))}I_(e){return bn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(bn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zA extends Km{constructor(e,t,i,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,f),this.serializer=c}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function Ky(r,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:zn(),a=e.targetChange.targetIds||[],c=function(w,V){return w.useProto3Json?(ir(void 0===V||"string"==typeof V),Bo.fromBase64String(V||"")):(ir(void 0===V||V instanceof Buffer||V instanceof Uint8Array),Bo.fromUint8Array(V||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,_=f&&function(w){const V=void 0===w.code?Yt.UNKNOWN:uf(w.code);return new Cn(V,w.message||"")}(f);t=new B(i,a,c,_||null)}else if("documentChange"in e){const i=e.documentChange,a=Bs(r,i.document.name),c=Oo(i.document.updateTime),f=i.document.createTime?Oo(i.document.createTime):mr.min(),_=new ps({mapValue:{fields:i.document.fields}}),I=go.newFoundDocument(a,c,f,_);t=new m(i.targetIds||[],i.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const i=e.documentDelete,a=Bs(r,i.document),c=i.readTime?Oo(i.readTime):mr.min(),f=go.newNoDocument(a,c);t=new m([],i.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const i=e.documentRemove,a=Bs(r,i.document);t=new m([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return zn();{const i=e.filter,{count:a=0,unchangedNames:c}=i,f=new Hd(a,c);t=new T(i.targetId,f)}}var w;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return mr.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?mr.min():f.readTime?Oo(f.readTime):mr.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=qd(this.serializer),t.addTarget=function(c,f){let _;const I=f.target;if(_=Zl(I)?{documents:mI(c,I)}:{query:Yd(c,I)._t},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){_.resumeToken=bl(c,f.resumeToken);const w=Ns(c,f.expectedCount);null!==w&&(_.expectedCount=w)}else if(f.snapshotVersion.compareTo(mr.min())>0){_.readTime=qs(c,f.snapshotVersion.toTimestamp());const w=Ns(c,f.expectedCount);null!==w&&(_.expectedCount=w)}return _}(this.serializer,e);const i=function Zd(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=qd(this.serializer),t.removeTarget=e,this.a_(t)}}class GA extends Km{constructor(e,t,i,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ir(!!e.streamToken),this.lastStreamToken=e.streamToken,ir(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function CA(r,e){return r&&r.length>0?(ir(void 0!==e),r.map(t=>function(a,c){let f=Oo(a.updateTime?a.updateTime:c);return f.isEqual(mr.min())&&(f=Oo(c)),new bm(f,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Oo(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=qd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Fu(this.serializer,i))};this.a_(t)}}class XA extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Cn(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Mo(e,Gd(t,i),a,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Cn(Yt.UNKNOWN,c.toString())})}Lo(e,t,i,a,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Lo(e,Gd(t,i),a,f,_,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Cn(Yt.UNKNOWN,f.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Io(t),this.D_=!1):bn("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ch{constructor(e,t,i,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(_=>{i.enqueueAndForget((0,gt.A)(function*(){var I;wl(f)&&(bn("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,gt.A)(function*(V){const Q=$n(V);Q.L_.add(4),yield lc(Q),Q.q_.set("Unknown"),Q.L_.delete(4),yield Gu(Q)}),function w(V){return I.apply(this,arguments)})(f))}))}),this.q_=new gv(i,a)}}function Gu(r){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,gt.A)(function*(r){if(wl(r))for(const e of r.B_)yield e(!0)})).apply(this,arguments)}function lc(r){return mv.apply(this,arguments)}function mv(){return(mv=(0,gt.A)(function*(r){for(const e of r.B_)yield e(!1)})).apply(this,arguments)}function zm(r,e){const t=$n(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Xu(t)?tg(t):Ls(t).r_()&&cc(t,e))}function vf(r,e){const t=$n(r),i=Ls(t);t.N_.delete(e),i.r_()&&Ef(t,e),0===t.N_.size&&(i.r_()?i.o_():wl(t)&&t.q_.set("Unknown"))}function cc(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ls(r).A_(e)}function Ef(r,e){r.Q_.xe(e),Ls(r).R_(e)}function tg(r){r.Q_=new qe({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ls(r).start(),r.q_.v_()}function Xu(r){return wl(r)&&!Ls(r).n_()&&r.N_.size>0}function wl(r){return 0===$n(r).L_.size}function uh(r){r.Q_=void 0}function tT(r){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,gt.A)(function*(r){r.q_.set("Online")})).apply(this,arguments)}function qA(r){return _v.apply(this,arguments)}function _v(){return(_v=(0,gt.A)(function*(r){r.N_.forEach((e,t)=>{cc(r,e)})})).apply(this,arguments)}function QA(r,e){return yv.apply(this,arguments)}function yv(){return(yv=(0,gt.A)(function*(r,e){uh(r),Xu(r)?(r.q_.M_(e),tg(r)):r.q_.set("Unknown")})).apply(this,arguments)}function nT(r,e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,gt.A)(function*(r,e,t){if(r.q_.set("Online"),e instanceof B&&2===e.state&&e.cause)try{yield(i=(0,gt.A)(function*(c,f){const _=f.cause;for(const I of f.targetIds)c.N_.has(I)&&(yield c.remoteSyncer.rejectListen(I,_),c.N_.delete(I),c.Q_.removeTarget(I))}),function a(c,f){return i.apply(this,arguments)})(r,e)}catch(i){bn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ng(r,i)}else if(e instanceof m?r.Q_.Ke(e):e instanceof T?r.Q_.He(e):r.Q_.We(e),!t.isEqual(mr.min()))try{const i=yield GI(r.localStore);t.compareTo(i)>=0&&(yield function(c,f){const _=c.Q_.rt(f);return _.targetChanges.forEach((I,w)=>{if(I.resumeToken.approximateByteSize()>0){const V=c.N_.get(w);V&&c.N_.set(w,V.withResumeToken(I.resumeToken,f))}}),_.targetMismatches.forEach((I,w)=>{const V=c.N_.get(I);if(!V)return;c.N_.set(I,V.withResumeToken(Bo.EMPTY_BYTE_STRING,V.snapshotVersion)),Ef(c,I);const Q=new Uc(V.target,I,w,V.sequenceNumber);cc(c,Q)}),c.remoteSyncer.applyRemoteEvent(_)}(r,t))}catch(i){bn("RemoteStore","Failed to raise snapshot:",i),yield ng(r,i)}var i}),Xm.apply(this,arguments)}function ng(r,e,t){return qm.apply(this,arguments)}function qm(){return(qm=(0,gt.A)(function*(r,e,t){if(!na(e))throw e;r.L_.add(1),yield lc(r),r.q_.set("Offline"),t||(t=()=>GI(r.localStore)),r.asyncQueue.enqueueRetryable((0,gt.A)(function*(){bn("RemoteStore","Retrying IndexedDB access"),yield t(),r.L_.delete(1),yield Gu(r)}))})).apply(this,arguments)}function rT(r,e){return e().catch(t=>ng(r,t,e))}function If(r){return vv.apply(this,arguments)}function vv(){return(vv=(0,gt.A)(function*(r){const e=$n(r),t=qa(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YA(e);)try{const a=yield sh(e.localStore,i);if(null===a){0===e.O_.length&&t.o_();break}i=a.batchId,JA(e,a)}catch(a){yield ng(e,a)}ZA(e)&&Qm(e)})).apply(this,arguments)}function YA(r){return wl(r)&&r.O_.length<10}function JA(r,e){r.O_.push(e);const t=qa(r);t.r_()&&t.V_&&t.m_(e.mutations)}function ZA(r){return wl(r)&&!qa(r).n_()&&r.O_.length>0}function Qm(r){qa(r).start()}function Ev(r){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,gt.A)(function*(r){qa(r).p_()})).apply(this,arguments)}function Iv(r){return Tv.apply(this,arguments)}function Tv(){return(Tv=(0,gt.A)(function*(r){const e=qa(r);for(const t of r.O_)e.m_(t.mutations)})).apply(this,arguments)}function eb(r,e,t){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,gt.A)(function*(r,e,t){const i=r.O_.shift(),a=lf.from(i,e,t);yield rT(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield If(r)})).apply(this,arguments)}function tb(r,e){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,gt.A)(function*(r,e){var t;e&&qa(r).V_&&(yield(t=(0,gt.A)(function*(a,c){if(kc(_=c.code)&&_!==Yt.ABORTED){const f=a.O_.shift();qa(a).s_(),yield rT(a,()=>a.remoteSyncer.rejectFailedWrite(f.batchId,c)),yield If(a)}var _}),function i(a,c){return t.apply(this,arguments)})(r,e)),ZA(r)&&Qm(r)}),Xa.apply(this,arguments)}function Tf(r,e){return _o.apply(this,arguments)}function _o(){return(_o=(0,gt.A)(function*(r,e){const t=$n(r);t.asyncQueue.verifyOperationInProgress(),bn("RemoteStore","RemoteStore received new credentials");const i=wl(t);t.L_.add(3),yield lc(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Gu(t)})).apply(this,arguments)}function $c(r,e){return Df.apply(this,arguments)}function Df(){return(Df=(0,gt.A)(function*(r,e){const t=$n(r);e?(t.L_.delete(2),yield Gu(t)):e||(t.L_.add(2),yield lc(t),t.q_.set("Unknown"))})).apply(this,arguments)}function Ls(r){return r.K_||(r.K_=function(t,i,a){const c=$n(t);return c.w_(),new zA(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(r.datastore,r.asyncQueue,{Eo:tT.bind(null,r),Ro:qA.bind(null,r),mo:QA.bind(null,r),d_:nT.bind(null,r)}),r.B_.push(function(){var e=(0,gt.A)(function*(t){t?(r.K_.s_(),Xu(r)?tg(r):r.q_.set("Unknown")):(yield r.K_.stop(),uh(r))});return function(t){return e.apply(this,arguments)}}())),r.K_}function qa(r){return r.U_||(r.U_=function(t,i,a){const c=$n(t);return c.w_(),new GA(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ev.bind(null,r),mo:tb.bind(null,r),f_:Iv.bind(null,r),g_:eb.bind(null,r)}),r.B_.push(function(){var e=(0,gt.A)(function*(t){t?(r.U_.s_(),yield If(r)):(yield r.U_.stop(),r.O_.length>0&&(bn("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))});return function(t){return e.apply(this,arguments)}}())),r.U_}class Zm{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,c){const f=Date.now()+i,_=new Zm(e,t,f,a,c);return _.start(i),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cn(Yt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dh(r,e){if(Io("AsyncQueue",`${e}: ${r}`),na(r))return new Cn(Yt.UNAVAILABLE,`${e}: ${r}`);throw r}class Cf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Wn.comparator(t.key,i.key):(t,i)=>Wn.comparator(t.key,i.key),this.keyedMap=Os(),this.sortedSet=new uo(this.comparator)}static emptySet(e){return new Cf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Cf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class iT{constructor(){this.W_=new uo(Wn.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(t):1===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):zn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class hh{constructor(e,t,i,a,c,f,_,I,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=I,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,a,c){const f=[];return t.forEach(_=>{f.push({type:0,doc:_})}),new hh(e,t,Cf.emptySet(t),f,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class nb{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rb{constructor(){this.queries=rg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,i){const a=$n(t),c=a.queries;a.queries=rg(),c.forEach((f,_)=>{for(const I of _.j_)I.onError(i)})}(this,new Cn(Yt.ABORTED,"Firestore shutting down"))}}function rg(){return new Ha(r=>Jh(r),Ru)}function oT(r,e){return uc.apply(this,arguments)}function uc(){return(uc=(0,gt.A)(function*(r,e){const t=$n(r);let i=3;const a=e.query;let c=t.queries.get(a);c?!c.H_()&&e.J_()&&(i=2):(c=new nb,i=e.J_()?0:1);try{switch(i){case 0:c.z_=yield t.onListen(a,!0);break;case 1:c.z_=yield t.onListen(a,!1);break;case 2:yield t.onFirstRemoteStoreListen(a)}}catch(f){const _=dh(f,`Initialization of query '${Oc(e.query)}' failed`);return void e.onError(_)}t.queries.set(a,c),c.j_.push(e),e.Z_(t.onlineState),c.z_&&e.X_(c.z_)&&Av(t)})).apply(this,arguments)}function Dv(r,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,gt.A)(function*(r,e){const t=$n(r),i=e.query;let a=3;const c=t.queries.get(i);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),0===c.j_.length?a=e.J_()?0:1:!c.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function ib(r,e){const t=$n(r);let i=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const _ of f.j_)_.X_(a)&&(i=!0);f.z_=a}}i&&Av(t)}function ob(r,e,t){const i=$n(r),a=i.queries.get(e);if(a)for(const c of a.j_)c.onError(t);i.queries.delete(e)}function Av(r){r.Y_.forEach(e=>{e.next()})}var sT,bv;(bv=sT||(sT={})).ea="default",bv.Cache="cache";class wv{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new hh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sT.Cache}}class sb{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class ab{constructor(e){this.serializer=e}Es(e){return Bs(this.serializer,e)}ds(e){return e.metadata.exists?DA(this.serializer,e.document,!1):go.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Oo(e)}}class lb{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aT(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const i=Qr.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,i=new ab(this.serializer);for(const a of e)if(a.metadata.queries){const c=i.Es(a.metadata.name);for(const f of a.metadata.queries){const _=(t.get(f)||dr()).add(c);t.set(f,_)}}return t}complete(){var e=this;return(0,gt.A)(function*(){const t=yield function ZM(r,e,t,i){return cv.apply(this,arguments)}(e.localStore,new ab(e.serializer),e.documents,e.ca.id),i=e.ha(e.documents);for(const a of e.queries)yield KA(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function aT(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class lT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class ig{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=dr(),this.mutatedKeys=dr(),this.Aa=Zh(e),this.Ra=new Cf(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new iT,a=t?t.Ra:this.Ra;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,_=!1;const I="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,w="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((V,Q)=>{const ce=a.get(V),Ke=Vd(this.query,Q)?Q:null,At=!!ce&&this.mutatedKeys.has(ce.key),Wt=!!Ke&&(Ke.hasLocalMutations||this.mutatedKeys.has(Ke.key)&&Ke.hasCommittedMutations);let Ut=!1;ce&&Ke?ce.data.isEqual(Ke.data)?At!==Wt&&(i.track({type:3,doc:Ke}),Ut=!0):this.ga(ce,Ke)||(i.track({type:2,doc:Ke}),Ut=!0,(I&&this.Aa(Ke,I)>0||w&&this.Aa(Ke,w)<0)&&(_=!0)):!ce&&Ke?(i.track({type:0,doc:Ke}),Ut=!0):ce&&!Ke&&(i.track({type:1,doc:ce}),Ut=!0,(I||w)&&(_=!0)),Ut&&(Ke?(f=f.add(Ke),c=Wt?c.add(V):c.delete(V)):(f=f.delete(V),c=c.delete(V)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const V="F"===this.query.limitType?f.last():f.first();f=f.delete(V.key),c=c.delete(V.key),i.track({type:1,doc:V})}return{Ra:f,fa:i,ns:_,mutatedKeys:c}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort((V,Q)=>function(Ke,At){const Wt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zn()}};return Wt(Ke)-Wt(At)}(V.type,Q.type)||this.Aa(V.doc,Q.doc)),this.pa(i),a=null!=a&&a;const _=t&&!a?this.ya():[],I=0===this.da.size&&this.current&&!a?1:0,w=I!==this.Ea;return this.Ea=I,0!==f.length||w?{snapshot:new hh(this.query,e.Ra,c,f,e.mutatedKeys,0===I,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:_}:{wa:_}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=dr(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new cT(i))}),this.da.forEach(i=>{e.has(i)||t.push(new lT(i))}),t}ba(e){this.Ta=e.Ts,this.da=dr();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return hh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class cb{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ub{constructor(e){this.key=e,this.va=!1}}class uT{constructor(e,t,i,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new Ha(_=>Jh(_),Ru),this.Ma=new Map,this.xa=new Set,this.Oa=new uo(Wn.comparator),this.Na=new Map,this.La=new Lm,this.Ba={},this.ka=new Map,this.qa=ih.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function db(r,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,gt.A)(function*(r,e,t=!0){const i=c_(r);let a;const c=i.Fa.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Da()):a=yield dT(i,e,t,!0),a})).apply(this,arguments)}function e_(r,e){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,gt.A)(function*(r,e){const t=c_(r);yield dT(t,e,!0,!1)})).apply(this,arguments)}function dT(r,e,t,i){return t_.apply(this,arguments)}function t_(){return(t_=(0,gt.A)(function*(r,e,t,i){const a=yield ac(r.localStore,rs(e)),c=a.targetId,f=r.sharedClientState.addLocalQueryTarget(c,t);let _;return i&&(_=yield n_(r,e,c,"current"===f,a.resumeToken)),r.isPrimaryClient&&t&&zm(r.remoteStore,a),_})).apply(this,arguments)}function n_(r,e,t,i,a){return og.apply(this,arguments)}function og(){return og=(0,gt.A)(function*(r,e,t,i,a){r.Ka=(Q,ce,Ke)=>{return(At=(0,gt.A)(function*(Ut,wn,Bn,kn){let Zn=wn.view.ma(Bn);Zn.ns&&(Zn=yield Bm(Ut.localStore,wn.query,!1).then(({documents:Xe})=>wn.view.ma(Xe,Zn)));const Nr=kn&&kn.targetChanges.get(wn.targetId),Vr=kn&&null!=kn.targetMismatches.get(wn.targetId),St=wn.view.applyChanges(Zn,Ut.isPrimaryClient,Nr,Vr);return s_(Ut,wn.targetId,St.wa),St.snapshot}),function Wt(Ut,wn,Bn,kn){return At.apply(this,arguments)})(r,Q,ce,Ke);var At};const c=yield Bm(r.localStore,e,!0),f=new ig(e,c.Ts),_=f.ma(c.documents),I=p.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==r.onlineState,a),w=f.applyChanges(_,r.isPrimaryClient,I);s_(r,t,w.wa);const V=new cb(e,t,f);return r.Fa.set(e,V),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),w.snapshot}),og.apply(this,arguments)}function hT(r,e,t){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,gt.A)(function*(r,e,t){const i=$n(r),a=i.Fa.get(e),c=i.Ma.get(a.targetId);if(c.length>1)return i.Ma.set(a.targetId,c.filter(f=>!Ru(f,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Ku(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&vf(i.remoteStore,a.targetId),qu(i,a.targetId)}).catch(Xo))):(qu(i,a.targetId),yield Ku(i.localStore,a.targetId,!0))})).apply(this,arguments)}function fT(r,e){return sg.apply(this,arguments)}function sg(){return(sg=(0,gt.A)(function*(r,e){const t=$n(r),i=t.Fa.get(e),a=t.Ma.get(i.targetId);t.isPrimaryClient&&1===a.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),vf(t.remoteStore,i.targetId))})).apply(this,arguments)}function r_(){return(r_=(0,gt.A)(function*(r,e,t){const i=ug(r);try{const a=yield function(f,_){const I=$n(f),w=_i.now(),V=_.reduce((Ke,At)=>Ke.add(At.key),dr());let Q,ce;return I.persistence.runTransaction("Locally write mutations","readwrite",Ke=>{let At=Ps(),Wt=dr();return I.cs.getEntries(Ke,V).next(Ut=>{At=Ut,At.forEach((wn,Bn)=>{Bn.isValidDocument()||(Wt=Wt.add(wn))})}).next(()=>I.localDocuments.getOverlayedDocuments(Ke,At)).next(Ut=>{Q=Ut;const wn=[];for(const Bn of _){const kn=sf(Bn,Q.get(Bn.key).overlayedDocument);null!=kn&&wn.push(new za(Bn.key,kn,sa(kn.value.mapValue),mo.exists(!0)))}return I.mutationQueue.addMutationBatch(Ke,w,wn,_)}).next(Ut=>{ce=Ut;const wn=Ut.applyToLocalDocumentSet(Q,Wt);return I.documentOverlayCache.saveOverlays(Ke,Ut.batchId,wn)})}).then(()=>({batchId:ce.batchId,changes:Sp(Q)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(f,_,I){let w=f.Ba[f.currentUser.toKey()];w||(w=new uo(Cr)),w=w.insert(_,I),f.Ba[f.currentUser.toKey()]=w}(i,a.batchId,t),yield jc(i,a.changes),yield If(i.remoteStore)}catch(a){const c=dh(a,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function gT(r,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,gt.A)(function*(r,e){const t=$n(r);try{const i=yield function WA(r,e){const t=$n(r),i=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const _=[];e.targetChanges.forEach((V,Q)=>{const ce=a.get(Q);if(!ce)return;_.push(t.Ur.removeMatchingKeys(c,V.removedDocuments,Q).next(()=>t.Ur.addMatchingKeys(c,V.addedDocuments,Q)));let Ke=ce.withSequenceNumber(c.currentSequenceNumber);var Wt,Ut,wn;null!==e.targetMismatches.get(Q)?Ke=Ke.withResumeToken(Bo.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):V.resumeToken.approximateByteSize()>0&&(Ke=Ke.withResumeToken(V.resumeToken,i)),a=a.insert(Q,Ke),Ut=Ke,wn=V,(0===(Wt=ce).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-Wt.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&_.push(t.Ur.updateTargetData(c,Ke))});let I=Ps(),w=dr();if(e.documentUpdates.forEach(V=>{e.resolvedLimboDocuments.has(V)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,V))}),_.push(XI(c,f,e.documentUpdates).next(V=>{I=V.Ps,w=V.Is})),!i.isEqual(mr.min())){const V=t.Ur.getLastRemoteSnapshotVersion(c).next(Q=>t.Ur.setTargetsMetadata(c,c.currentSequenceNumber,i));_.push(V)}return Nt.waitFor(_).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,I,w)).next(()=>I)}).then(c=>(t.os=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.Na.get(c);f&&(ir(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.va=!0:a.modifiedDocuments.size>0?ir(f.va):a.removedDocuments.size>0&&(ir(f.va),f.va=!1))}),yield jc(t,i,e)}catch(i){yield Xo(i)}})).apply(this,arguments)}function hb(r,e,t){const i=$n(r);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.Fa.forEach((c,f)=>{const _=f.view.Z_(e);_.snapshot&&a.push(_.snapshot)}),function(f,_){const I=$n(f);I.onlineState=_;let w=!1;I.queries.forEach((V,Q)=>{for(const ce of Q.j_)ce.Z_(_)&&(w=!0)}),w&&Av(I)}(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Ov(r,e,t){return ag.apply(this,arguments)}function ag(){return(ag=(0,gt.A)(function*(r,e,t){const i=$n(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Na.get(e),c=a&&a.key;if(c){let f=new uo(Wn.comparator);f=f.insert(c,go.newNoDocument(c,mr.min()));const _=dr().add(c),I=new E(mr.min(),new Map,new uo(Cr),f,_);yield gT(i,I),i.Oa=i.Oa.remove(c),i.Na.delete(e),a_(i)}else yield Ku(i.localStore,e,!1).then(()=>qu(i,e,t)).catch(Xo)})).apply(this,arguments)}function mT(r,e){return lg.apply(this,arguments)}function lg(){return(lg=(0,gt.A)(function*(r,e){const t=$n(r),i=e.batch.batchId;try{const a=yield function av(r,e){const t=$n(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.cs.newChangeBuffer({trackRemovals:!0});return function(_,I,w,V){const Q=w.batch,ce=Q.keys();let Ke=Nt.resolve();return ce.forEach(At=>{Ke=Ke.next(()=>V.getEntry(I,At)).next(Wt=>{const Ut=w.docVersions.get(At);ir(null!==Ut),Wt.version.compareTo(Ut)<0&&(Q.applyToRemoteDocument(Wt,w),Wt.isValidDocument()&&(Wt.setReadTime(w.commitVersion),V.addEntry(Wt)))})}),Ke.next(()=>_.mutationQueue.removeMutationBatch(I,Q))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let I=dr();for(let w=0;w<_.mutationResults.length;++w)_.mutationResults[w].transformResults.length>0&&(I=I.add(_.batch.mutations[w].key));return I}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);i_(t,i,null),Lv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield jc(t,a)}catch(a){yield Xo(a)}})).apply(this,arguments)}function Nv(r,e,t){return xv.apply(this,arguments)}function xv(){return(xv=(0,gt.A)(function*(r,e,t){const i=$n(r);try{const a=yield function(f,_){const I=$n(f);return I.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let V;return I.mutationQueue.lookupMutationBatch(w,_).next(Q=>(ir(null!==Q),V=Q.keys(),I.mutationQueue.removeMutationBatch(w,Q))).next(()=>I.mutationQueue.performConsistencyCheck(w)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(w,V,_)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,V)).next(()=>I.localDocuments.getDocuments(w,V))})}(i.localStore,e);i_(i,e,t),Lv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield jc(i,a)}catch(a){yield Xo(a)}})).apply(this,arguments)}function kv(){return(kv=(0,gt.A)(function*(r,e){const t=$n(r);wl(t.remoteStore)||bn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(f){const _=$n(f);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",I=>_.mutationQueue.getHighestUnacknowledgedBatchId(I))}(t.localStore);if(-1===i)return void e.resolve();const a=t.ka.get(i)||[];a.push(e),t.ka.set(i,a)}catch(i){const a=dh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Lv(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function i_(r,e,t){const i=$n(r);let a=i.Ba[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function qu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Ma.get(e))r.Fa.delete(i),t&&r.Ca.$a(i,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(i=>{r.La.containsKey(i)||o_(r,i)})}function o_(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);null!==t&&(vf(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),a_(r))}function s_(r,e,t){for(const i of t)i instanceof lT?(r.La.addReference(i.key,e),_T(r,i)):i instanceof cT?(bn("SyncEngine","Document no longer in limbo: "+i.key),r.La.removeReference(i.key,e),r.La.containsKey(i.key)||o_(r,i.key)):zn()}function _T(r,e){const t=e.key,i=t.path.canonicalString();r.Oa.get(t)||r.xa.has(i)||(bn("SyncEngine","New document in limbo: "+t),r.xa.add(i),a_(r))}function a_(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Wn(Qr.fromString(e)),i=r.qa.next();r.Na.set(i,new ub(t)),r.Oa=r.Oa.insert(t,i),zm(r.remoteStore,new Uc(rs(ec(t.path)),i,"TargetPurposeLimboResolution",fs.oe))}}function jc(r,e,t){return l_.apply(this,arguments)}function l_(){return l_=(0,gt.A)(function*(r,e,t){const i=$n(r),a=[],c=[],f=[];var _;i.Fa.isEmpty()||(i.Fa.forEach((_,I)=>{f.push(i.Ka(I,e,t).then(w=>{var V;if((w||t)&&i.isPrimaryClient){const Q=w?!w.fromCache:null===(V=t?.targetChanges.get(I.targetId))||void 0===V?void 0:V.current;i.sharedClientState.updateQueryState(I.targetId,Q?"current":"not-current")}if(w){a.push(w);const Q=Um.Wi(I.targetId,w);c.push(Q)}}))}),yield Promise.all(f),i.Ca.d_(a),yield(_=(0,gt.A)(function*(w,V){const Q=$n(w);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ce=>Nt.forEach(V,Ke=>Nt.forEach(Ke.$i,At=>Q.persistence.referenceDelegate.addReference(ce,Ke.targetId,At)).next(()=>Nt.forEach(Ke.Ui,At=>Q.persistence.referenceDelegate.removeReference(ce,Ke.targetId,At)))))}catch(ce){if(!na(ce))throw ce;bn("LocalStore","Failed to update sequence numbers: "+ce)}for(const ce of V){const Ke=ce.targetId;if(!ce.fromCache){const At=Q.os.get(Ke),Ut=At.withLastLimboFreeSnapshotVersion(At.snapshotVersion);Q.os=Q.os.insert(Ke,Ut)}}}),function I(w,V){return _.apply(this,arguments)})(i.localStore,c))}),l_.apply(this,arguments)}function pb(r,e){return cg.apply(this,arguments)}function cg(){return(cg=(0,gt.A)(function*(r,e){const t=$n(r);if(!t.currentUser.isEqual(e)){bn("SyncEngine","User change. New user:",e.toKey());const i=yield HI(t.localStore,e);t.currentUser=e,(c=t).ka.forEach(_=>{_.forEach(I=>{I.reject(new Cn(Yt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ka.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield jc(t,i.hs)}var c})).apply(this,arguments)}function yT(r,e){const t=$n(r),i=t.Na.get(e);if(i&&i.va)return dr().add(i.key);{let a=dr();const c=t.Ma.get(e);if(!c)return a;for(const f of c){const _=t.Fa.get(f);a=a.unionWith(_.view.Va)}return a}}function Fv(r,e){return vT.apply(this,arguments)}function vT(){return(vT=(0,gt.A)(function*(r,e){const t=$n(r),i=yield Bm(t.localStore,e.query,!0),a=e.view.ba(i);return t.isPrimaryClient&&s_(t,e.targetId,a.wa),a})).apply(this,arguments)}function tP(r,e){return ET.apply(this,arguments)}function ET(){return(ET=(0,gt.A)(function*(r,e){const t=$n(r);return lv(t.localStore,e).then(i=>jc(t,i))})).apply(this,arguments)}function IT(r,e,t,i){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,gt.A)(function*(r,e,t,i){const a=$n(r),c=yield function(_,I){const w=$n(_),V=$n(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",Q=>V.Mn(Q,I).next(ce=>ce?w.localDocuments.getDocuments(Q,ce):Nt.resolve(null)))}(a.localStore,e);var I;null!==c?("pending"===t?yield If(a.remoteStore):"acknowledged"===t||"rejected"===t?(i_(a,e,i||null),Lv(a,e),I=e,$n($n(a.localStore).mutationQueue).On(I)):zn(),yield jc(a,c)):bn("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Qu(){return(Qu=(0,gt.A)(function*(r,e){const t=$n(r);if(c_(t),ug(t),!0===e&&!0!==t.Qa){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield Af(t,i.toArray());t.Qa=!0,yield $c(t.remoteStore,!0);for(const c of a)zm(t.remoteStore,c)}else if(!1===e&&!1!==t.Qa){const i=[];let a=Promise.resolve();t.Ma.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?i.push(f):a=a.then(()=>(qu(t,f),Ku(t.localStore,f,!0))),vf(t.remoteStore,f)}),yield a,yield Af(t,i),function(f){const _=$n(f);_.Na.forEach((I,w)=>{vf(_.remoteStore,w)}),_.La.pr(),_.Na=new Map,_.Oa=new uo(Wn.comparator)}(t),t.Qa=!1,yield $c(t.remoteStore,!1)}})).apply(this,arguments)}function Af(r,e,t){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,gt.A)(function*(r,e,t){const i=$n(r),a=[],c=[];for(const f of e){let _;const I=i.Ma.get(f);if(I&&0!==I.length){_=yield ac(i.localStore,rs(I[0]));for(const w of I){const V=i.Fa.get(w),Q=yield Fv(i,V);Q.snapshot&&c.push(Q.snapshot)}}else{const w=yield ah(i.localStore,f);_=yield ac(i.localStore,w),yield n_(i,mb(w),f,!1,_.resumeToken)}a.push(_)}return i.Ca.d_(c),a})).apply(this,arguments)}function mb(r){return wu(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function TT(r){return t=$n(r).localStore,$n($n(t).persistence).Qi();var t}function _b(r,e,t,i){return DT.apply(this,arguments)}function DT(){return(DT=(0,gt.A)(function*(r,e,t,i){const a=$n(r);if(a.Qa)return void bn("SyncEngine","Ignoring unexpected query state notification.");const c=a.Ma.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield lv(a.localStore,El(c[0])),_=E.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Bo.EMPTY_BYTE_STRING);yield jc(a,f,_);break}case"rejected":yield Ku(a.localStore,e,!0),qu(a,e,i);break;default:zn()}})).apply(this,arguments)}function yb(r,e,t){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,gt.A)(function*(r,e,t){const i=c_(r);if(i.Qa){for(const a of e){if(i.Ma.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){bn("SyncEngine","Adding an already active target "+a);continue}const c=yield ah(i.localStore,a),f=yield ac(i.localStore,c);yield n_(i,mb(c),f.targetId,!1,f.resumeToken),zm(i.remoteStore,f)}for(const a of t)i.Ma.has(a)&&(yield Ku(i.localStore,a,!1).then(()=>{vf(i.remoteStore,a),qu(i,a)}).catch(Xo))}})).apply(this,arguments)}function c_(r){const e=$n(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ov.bind(null,e),e.Ca.d_=ib.bind(null,e.eventManager),e.Ca.$a=ob.bind(null,e.eventManager),e}function ug(r){const e=$n(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nv.bind(null,e),e}let bf=(()=>{class r{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var i=this;return(0,gt.A)(function*(){i.serializer=eg(t.databaseInfo.databaseId),i.sharedClientState=i.Wa(t),i.persistence=i.Ga(t),yield i.persistence.start(),i.localStore=i.za(t),i.gcScheduler=i.ja(t,i.localStore),i.indexBackfillerScheduler=i.Ha(t,i.localStore)})()}ja(t,i){return null}Ha(t,i){return null}za(t){return jA(this.persistence,new $A,t.initialUser,this.serializer)}Ga(t){return new ov(mf.Zr,this.serializer)}Wa(t){return new fv}terminate(){var t=this;return(0,gt.A)(function*(){var i,a;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(a=t.indexBackfillerScheduler)||void 0===a||a.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return r.provider={build:()=>new r},r})();class bT extends bf{constructor(e,t,i){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,gt.A)(function*(){yield t().call(i,e),yield i.Ja.initialize(i,e),yield ug(i.Ja.syncEngine),yield If(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return jA(this.persistence,new $A,e.initialUser,this.serializer)}ja(e,t){return new NI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ha(e,t){const i=new Bh(t,this.persistence);return new Ac(e.asyncQueue,i)}Ga(e){const t=KI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?xs.withCacheSize(this.cacheSizeBytes):xs.DEFAULT;return new sv(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,eT(),Zp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new fv}}class vb extends bT{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,gt.A)(function*(){yield t().call(i,e);const a=i.Ja.syncEngine;i.sharedClientState instanceof Wm&&(i.sharedClientState.syncEngine={no:IT.bind(null,a),ro:_b.bind(null,a),io:yb.bind(null,a),Qi:TT.bind(null,a),eo:tP.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var c=(0,gt.A)(function*(f){yield function gb(r,e){return Qu.apply(this,arguments)}(i.Ja.syncEngine,f),i.gcScheduler&&(f&&!i.gcScheduler.started?i.gcScheduler.start():f||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(f&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():f||i.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}Wa(e){const t=eT();if(!Wm.D(t))throw new Cn(Yt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=KI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wm(t,e.asyncQueue,i,e.clientId,e.initialUser)}}let wf=(()=>{class r{initialize(t,i){var a=this;return(0,gt.A)(function*(){a.localStore||(a.localStore=t.localStore,a.sharedClientState=t.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!t.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>hb(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=pb.bind(null,a.syncEngine),yield $c(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(t){return new rb}createDatastore(t){const i=eg(t.databaseInfo.databaseId),a=new ZI(t.databaseInfo);return new XA(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return a=this.localStore,c=this.datastore,f=t.asyncQueue,_=i=>hb(this.syncEngine,i,0),I=YI.D()?new YI:new eP,new ch(a,c,f,_,I);var a,c,f,_,I}createSyncEngine(t,i){return function(c,f,_,I,w,V,Q){const ce=new uT(c,f,_,I,w,V);return Q&&(ce.Qa=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,gt.A)(function*(){var i,a,c;yield(c=(0,gt.A)(function*(_){const I=$n(_);bn("RemoteStore","RemoteStore shutting down."),I.L_.add(5),yield lc(I),I.k_.shutdown(),I.q_.set("Unknown")}),function f(_){return c.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate(),null===(a=t.eventManager)||void 0===a||a.terminate()})()}}return r.provider={build:()=>new r},r})();function Yu(r,e=10240){let t=0;return{read:()=>(0,gt.A)(function*(){if(t<r.byteLength){const i={value:r.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,gt.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Eb{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Vo,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,gt.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,gt.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,gt.A)(function*(){const t=yield e.nu();if(null===t)return null;const i=e.eu.decode(t),a=Number(i);isNaN(a)&&e.ru(`length string (${i}) is not valid number`);const c=yield e.iu(a);return new sb(JSON.parse(c),t.length+a)})()}su(){return this.buffer.findIndex(e=>123===e)}nu(){var e=this;return(0,gt.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.ru("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}iu(e){var t=this;return(0,gt.A)(function*(){for(;t.buffer.length<e;)(yield t.ou())&&t.ru("Reached the end of bundle when more is expected.");const i=t.eu.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,gt.A)(function*(){const t=yield e.Xa.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class nP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,gt.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new Cn(Yt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(a=(0,gt.A)(function*(f,_){const I=$n(f),w={documents:_.map(Ke=>Lu(I.serializer,Ke))},V=yield I.Lo("BatchGetDocuments",I.serializer.databaseId,Qr.emptyPath(),w,_.length),Q=new Map;V.forEach(Ke=>{const At=function gI(r,e){return"found"in e?function(i,a){ir(!!a.found);const c=Bs(i,a.found.name),f=Oo(a.found.updateTime),_=a.found.createTime?Oo(a.found.createTime):mr.min(),I=new ps({mapValue:{fields:a.found.fields}});return go.newFoundDocument(c,f,_,I)}(r,e):"missing"in e?function(i,a){ir(!!a.missing),ir(!!a.readTime);const c=Bs(i,a.missing),f=Oo(a.readTime);return go.newNoDocument(c,f)}(r,e):zn()}(I.serializer,Ke);Q.set(At.key.toString(),At)});const ce=[];return _.forEach(Ke=>{const At=Q.get(Ke.toString());ir(!!At),ce.push(At)}),ce}),function c(f,_){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ga(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,gt.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const c=Wn.fromPath(a);e.mutations.push(new Kd(c,e.precondition(c)))}),yield(i=(0,gt.A)(function*(c,f){const _=$n(c),I={writes:f.map(w=>Fu(_.serializer,w))};yield _.Mo("Commit",_.serializer.databaseId,Qr.emptyPath(),I)}),function a(c,f){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zn();t=mr.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Cn(Yt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mr.min())?mo.exists(!1):mo.updateTime(t):mo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mr.min()))throw new Cn(Yt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mo.updateTime(t)}return mo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $v{constructor(e,t,i,a,c){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=c,this._u=i.maxAttempts,this.t_=new yf(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,gt.A)(function*(){const t=new nP(e.datastore),i=e.cu(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.lu(c)}))}).catch(a=>{e.lu(a)})}))}cu(e){try{const t=this.updateFunction(e);return!_l(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kc(t)}return!1}}class wT{constructor(e,t,i,a,c){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Eo.UNAUTHENTICATED,this.clientId=Dc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,function(){var _=(0,gt.A)(function*(I){bn("FirestoreClient","Received user=",I.uid),yield f.authCredentialListener(I),f.user=I});return function(I){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(bn("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,gt.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=dh(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function jv(r,e){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,gt.A)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),bn("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;yield e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,gt.A)(function*(c){i.isEqual(c)||(yield HI(e.localStore,c),i=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Wv.apply(this,arguments)}function u_(r,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,gt.A)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield d_(r);bn("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>Tf(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,a)=>Tf(e.remoteStore,a)),r._onlineComponents=e})).apply(this,arguments)}function d_(r){return h_.apply(this,arguments)}function h_(){return(h_=(0,gt.A)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){bn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jv(r,r._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(a=e).name?a.code===Yt.FAILED_PRECONDITION||a.code===Yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw e;hs("Error using user provided cache. Falling back to memory cache: "+e),yield jv(r,new bf)}}else bn("FirestoreClient","Using default OfflineComponentProvider"),yield jv(r,new bf);var a;return r._offlineComponents})).apply(this,arguments)}function hg(r){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,gt.A)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(bn("FirestoreClient","Using user provided OnlineComponentProvider"),yield u_(r,r._uninitializedComponentsProvider._online)):(bn("FirestoreClient","Using default OnlineComponentProvider"),yield u_(r,new wf))),r._onlineComponents})).apply(this,arguments)}function ST(r){return d_(r).then(e=>e.persistence)}function fh(r){return d_(r).then(e=>e.localStore)}function zv(r){return hg(r).then(e=>e.remoteStore)}function f_(r){return hg(r).then(e=>e.syncEngine)}function Wc(r){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,gt.A)(function*(r){const e=yield hg(r),t=e.eventManager;return t.onListen=db.bind(null,e.syncEngine),t.onUnlisten=hT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=e_.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fT.bind(null,e.syncEngine),t})).apply(this,arguments)}function MT(r,e,t={}){const i=new Vo;return r.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return function(c,f,_,I,w){const V=new dg({next:ce=>{V.Za(),f.enqueueAndForget(()=>Dv(c,Q));const Ke=ce.docs.has(_);!Ke&&ce.fromCache?w.reject(new Cn(Yt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ke&&ce.fromCache&&I&&"server"===I.source?w.reject(new Cn(Yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(ce)},error:ce=>w.reject(ce)}),Q=new wv(ec(_.path),V,{includeMetadataChanges:!0,_a:!0});return oT(c,Q)}(yield Wc(r),r.asyncQueue,e,t,i)})),i.promise}function p_(r,e,t={}){const i=new Vo;return r.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return function(c,f,_,I,w){const V=new dg({next:ce=>{V.Za(),f.enqueueAndForget(()=>Dv(c,Q)),ce.fromCache&&"server"===I.source?w.reject(new Cn(Yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(ce)},error:ce=>w.reject(ce)}),Q=new wv(_,V,{includeMetadataChanges:!0,_a:!0});return oT(c,Q)}(yield Wc(r),r.asyncQueue,e,t,i)})),i.promise}function PT(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Qv=new Map;function g_(r,e,t){if(!t)throw new Cn(Yt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function m_(r,e,t,i){if(!0===e&&!0===i)throw new Cn(Yt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Yv(r){if(!Wn.isDocumentKey(r))throw new Cn(Yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OT(r){if(Wn.isDocumentKey(r))throw new Cn(Yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jv(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(i=r).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof r?"a function":zn()}function fi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Cn(Yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jv(r);throw new Cn(Yt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Zv(r,e){if(e<=0)throw new Cn(Yt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class NT{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Cn(Yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Cn(Yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=PT(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Cn(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Cn(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Cn(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sl{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Cn(Yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Cn(Yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new hl;switch(i.type){case"firstParty":return new Ic(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Cn(Yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,gt.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Qv.get(t);i&&(bn("ComponentProvider","Removing Datastore"),Qv.delete(t),i.terminate())}(this),Promise.resolve()}}class Cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class To{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new To(this.firestore,e,this._key)}}class Rl extends Cs{constructor(e,t,i){super(e,t,ec(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new To(this.firestore,null,new Wn(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function xT(r,e,...t){if(r=(0,be.Ku)(r),g_("collection","path",e),r instanceof Sl){const i=Qr.fromString(e,...t);return OT(i),new Rl(r,null,i)}{if(!(r instanceof To||r instanceof Rl))throw new Cn(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Qr.fromString(e,...t));return OT(i),new Rl(r.firestore,null,i)}}function $o(r,e,...t){if(r=(0,be.Ku)(r),1===arguments.length&&(e=Dc.newId()),g_("doc","path",e),r instanceof Sl){const i=Qr.fromString(e,...t);return Yv(i),new To(r,null,new Wn(i))}{if(!(r instanceof To||r instanceof Rl))throw new Cn(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Qr.fromString(e,...t));return Yv(i),new To(r.firestore,r instanceof Rl?r.converter:null,new Wn(i))}}function fg(r,e){return r=(0,be.Ku)(r),e=(0,be.Ku)(e),(r instanceof To||r instanceof Rl)&&(e instanceof To||e instanceof Rl)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function y_(r,e){return r=(0,be.Ku)(r),e=(0,be.Ku)(e),r instanceof Cs&&e instanceof Cs&&r.firestore===e.firestore&&Ru(r._query,e._query)&&r.converter===e.converter}class ro{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yf(this,"async_queue_retry"),this.Vu=()=>{const i=Zp();i&&bn("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=Zp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Vo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,gt.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!na(t))throw t;bn("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{throw this.Eu=i,this.du=!1,Io("INTERNAL UNHANDLED ERROR: ",function(f){let _=f.message||"";return f.stack&&(_=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),_}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const a=Zm.createAndSchedule(this,e,t,i,c=>this.yu(c));return this.Tu.push(a),a}fu(){this.Eu&&zn()}verifyOperationInProgress(){}wu(){var e=this;return(0,gt.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Ju(r){return function(t){if("object"!=typeof t||null===t)return!1;const a=t;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(r)}class Sf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xi extends Sl{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new ro,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,gt.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new ro(t),e._firestoreClient=void 0,yield t}})()}}function jo(r){if(r._terminated)throw new Cn(Yt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Zu(r),r._firestoreClient}function Zu(r){var e,t,i;const a=r._freezeSettings(),c=(I=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new pI(r._databaseId,I,r._persistenceKey,(V=a).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,PT(V.experimentalLongPollingOptions),V.useFetchStreams));var I,V;r._componentsProvider||!(null===(t=a.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(i=a.localCache)||void 0===i)&&i._onlineComponentProvider&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new wT(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(_){const I=_?._online.build();return{_offline:_?._offline.build(I),_online:I}}(r._componentsProvider))}function tE(){return(tE=(0,gt.A)(function*(r){hs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();nE(r,wf.provider,{build:t=>new vb(t,e.cacheSizeBytes)})})).apply(this,arguments)}function nE(r,e,t){if((r=fi(r,Xi))._firestoreClient||r._terminated)throw new Cn(Yt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new Cn(Yt.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},Zu(r)}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(Bo.fromBase64String(e))}catch(t){throw new Cn(Yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dc(Bo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Cn(Yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ed{constructor(e){this._methodName=e}}class I_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Cn(Yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Cn(Yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cr(this._lat,e._lat)||Cr(this._long,e._long)}}class rE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0}(this._values,e._values)}}const FT=/^__.*__$/;class oP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class xb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function T_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zn()}}class D_{constructor(e,t,i,a,c,f){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===c&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new D_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Fu({path:i,xu:!1});return a.Ou(e),a}Nu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _g(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(T_(this.Cu)&&FT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||eg(e)}Qu(e,t,i,a=!1){return new D_({Cu:e,methodName:t,qu:i,path:Si.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qa(r){const e=r._freezeSettings(),t=eg(r._databaseId);return new kb(r._databaseId,!!e.ignoreUndefinedProperties,t)}function gh(r,e,t,i,a,c={}){const f=r.Qu(c.merge||c.mergeFields?2:0,e,t,a);aE("Data must be an object, but it was:",f,i);const _=$T(i,f);let I,w;if(c.merge)I=new Rs(f.fieldMask),w=f.fieldTransforms;else if(c.mergeFields){const V=[];for(const Q of c.mergeFields){const ce=Pf(e,Q,t);if(!f.contains(ce))throw new Cn(Yt.INVALID_ARGUMENT,`Field '${ce}' is specified in your field mask but missing from your input data.`);mh(V,ce)||V.push(ce)}I=new Rs(V),w=f.fieldTransforms.filter(Q=>I.covers(Q.field))}else I=null,w=f.fieldTransforms;return new oP(new ps(_),I,w)}class gg extends ed{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gg}}function VT(r,e,t){return new D_({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class iE extends ed{_toFieldTransform(e){return new Dl(e.path,new Pu)}isEqual(e){return e instanceof iE}}class Mf extends ed{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=VT(this,e,!0),i=this.Ku.map(c=>Kc(c,t)),a=new Tl(i);return new Dl(e.path,a)}isEqual(e){return e instanceof Mf&&(0,be.bD)(this.Ku,e.Ku)}}class C_ extends ed{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=VT(this,e,!0),i=this.Ku.map(c=>Kc(c,t)),a=new tc(i);return new Dl(e.path,a)}isEqual(e){return e instanceof C_&&(0,be.bD)(this.Ku,e.Ku)}}class oE extends ed{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Ou(e.serializer,tf(e.serializer,this.$u));return new Dl(e.path,t)}isEqual(e){return e instanceof oE&&this.$u===e.$u}}function sE(r,e,t,i){const a=r.Qu(1,e,t);aE("Data must be an object, but it was:",a,i);const c=[],f=ps.empty();ia(i,(I,w)=>{const V=mg(e,I,t);w=(0,be.Ku)(w);const Q=a.Nu(V);if(w instanceof gg)c.push(V);else{const ce=Kc(w,Q);null!=ce&&(c.push(V),f.set(V,ce))}});const _=new Rs(c);return new xb(f,_,a.fieldTransforms)}function UT(r,e,t,i,a,c){const f=r.Qu(1,e,t),_=[Pf(e,i,t)],I=[a];if(c.length%2!=0)throw new Cn(Yt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ce=0;ce<c.length;ce+=2)_.push(Pf(e,c[ce])),I.push(c[ce+1]);const w=[],V=ps.empty();for(let ce=_.length-1;ce>=0;--ce)if(!mh(w,_[ce])){const Ke=_[ce];let At=I[ce];At=(0,be.Ku)(At);const Wt=f.Nu(Ke);if(At instanceof gg)w.push(Ke);else{const Ut=Kc(At,Wt);null!=Ut&&(w.push(Ke),V.set(Ke,Ut))}}const Q=new Rs(w);return new xb(V,Q,f.fieldTransforms)}function BT(r,e,t,i=!1){return Kc(t,r.Qu(i?4:3,e))}function Kc(r,e){if(Hc(r=(0,be.Ku)(r)))return aE("Unsupported field value:",e,r),$T(r,e);if(r instanceof ed)return function(i,a){if(!T_(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(i,a){const c=[];let f=0;for(const _ of i){let I=Kc(_,a.Lu(f));null==I&&(I={nullValue:"NULL_VALUE"}),c.push(I),f++}return{arrayValue:{values:c}}}(r,e)}return function(i,a){if(null===(i=(0,be.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return tf(a.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=_i.fromDate(i);return{timestampValue:qs(a.serializer,c)}}if(i instanceof _i){const c=new _i(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qs(a.serializer,c)}}if(i instanceof I_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dc)return{bytesValue:bl(a.serializer,i._byteString)};if(i instanceof To){const c=a.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw a.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fp(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof rE)return _=a,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(I=>{if("number"!=typeof I)throw _.Bu("VectorValues must only contain numeric values.");return Mp(_.serializer,I)})}}}}};var _;throw a.Bu(`Unsupported field value: ${Jv(i)}`)}(r,e)}function $T(r,e){const t={};return hm(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(r,(i,a)=>{const c=Kc(a,e.Mu(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function Hc(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof _i||r instanceof I_||r instanceof dc||r instanceof To||r instanceof ed||r instanceof rE)}function aE(r,e,t){if(!Hc(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const i=Jv(t);throw e.Bu("an object"===i?r+" a custom object":r+" "+i)}var a}function Pf(r,e,t){if((e=(0,be.Ku)(e))instanceof Ml)return e._internalPath;if("string"==typeof e)return mg(r,e);throw _g("Field path arguments must be of type string or ",r,!1,void 0,t)}const Lb=new RegExp("[~\\*/\\[\\]]");function mg(r,e,t){if(e.search(Lb)>=0)throw _g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ml(...e.split("."))._internalPath}catch{throw _g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _g(r,e,t,i,a){const c=i&&!i.isEmpty(),f=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let I="";return(c||f)&&(I+=" (found",c&&(I+=` in field ${i}`),f&&(I+=` in document ${a}`),I+=")"),new Cn(Yt.INVALID_ARGUMENT,_+r+I)}function mh(r,e){return r.some(t=>t.isEqual(e))}class Of{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new To(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(A_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lE extends Of{data(){return super.data()}}function A_(r,e){return"string"==typeof e?mg(r,e):e instanceof Ml?e._internalPath:e._delegate._internalPath}function yg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Cn(Yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jT{}class b_ extends jT{}function td(r,e,...t){let i=[];e instanceof jT&&i.push(e),i=i.concat(t),function(c){const f=c.filter(I=>I instanceof Pl).length,_=c.filter(I=>I instanceof Nf).length;if(f>1||f>0&&_>0)throw new Cn(Yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)r=a._apply(r);return r}class Nf extends b_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Nf(e,t,i)}_apply(e){const t=this._parse(e);return KT(e._query,t),new Cs(e.firestore,e.converter,Ld(e._query,t))}_parse(e){const t=Qa(e.firestore);return function(c,f,_,I,w,V,Q){let ce;if(w.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new Cn(Yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){dE(Q,V);const Ke=[];for(const At of Q)Ke.push(WT(I,c,At));ce={arrayValue:{values:Ke}}}else ce=WT(I,c,Q)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||dE(Q,V),ce=BT(_,"where",Q,"in"===V||"not-in"===V);return hi.create(w,V,ce)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Pl extends jT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pl(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,c){let f=a;const _=c.getFlattenedFilters();for(const I of _)KT(f,I),f=Ld(f,I)}(e._query,t),new Cs(e.firestore,e.converter,Ld(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cE extends b_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cE(e,t)}_apply(e){const t=function(a,c,f){if(null!==a.startAt)throw new Cn(Yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Cn(Yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pd(c,f)}(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,function(a,c){const f=a.explicitOrderBy.concat([c]);return new Xs(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class S_ extends b_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new S_(e,t,i)}_apply(e){return new Cs(e.firestore,e.converter,Fd(e._query,this._limit,this._limitType))}}class R_ extends b_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new R_(e,t,i)}_apply(e){const t=vg(e,this.type,this._docOrFields,this._inclusive);return new Cs(e.firestore,e.converter,(c=t,new Xs((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class M_ extends b_{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new M_(e,t,i)}_apply(e){const t=vg(e,this.type,this._docOrFields,this._inclusive);return new Cs(e.firestore,e.converter,(c=t,new Xs((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function vg(r,e,t,i){if(t[0]=(0,be.Ku)(t[0]),t[0]instanceof Of)return function(c,f,_,I,w){if(!I)throw new Cn(Yt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const V=[];for(const Q of Su(c))if(Q.field.isKeyField())V.push(Ts(f,I.key));else{const ce=I.data.field(Q.field);if(_u(ce))throw new Cn(Yt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Q.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ce){const Ke=Q.field.canonicalString();throw new Cn(Yt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ke}' (used as the orderBy) does not exist.`)}V.push(ce)}return new Aa(V,w)}(r._query,r.firestore._databaseId,e,t[0]._document,i);{const a=Qa(r.firestore);return function(f,_,I,w,V,Q){const ce=f.explicitOrderBy;if(V.length>ce.length)throw new Cn(Yt.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ke=[];for(let At=0;At<V.length;At++){const Wt=V[At];if(ce[At].field.isKeyField()){if("string"!=typeof Wt)throw new Cn(Yt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof Wt}`);if(!ba(f)&&-1!==Wt.indexOf("/"))throw new Cn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${Wt}' contains a slash.`);const Ut=f.path.child(Qr.fromString(Wt));if(!Wn.isDocumentKey(Ut))throw new Cn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Ut}' is not because it contains an odd number of segments.`);const wn=new Wn(Ut);Ke.push(Ts(_,wn))}else{const Ut=BT(I,w,Wt);Ke.push(Ut)}}return new Aa(Ke,Q)}(r._query,r.firestore._databaseId,a,e,t,i)}}function WT(r,e,t){if("string"==typeof(t=(0,be.Ku)(t))){if(""===t)throw new Cn(Yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ba(e)&&-1!==t.indexOf("/"))throw new Cn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qr.fromString(t));if(!Wn.isDocumentKey(i))throw new Cn(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ts(r,new Wn(i))}if(t instanceof To)return Ts(r,t._key);throw new Cn(Yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jv(t)}.`)}function dE(r,e){if(!Array.isArray(r)||0===r.length)throw new Cn(Yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KT(r,e){const t=function(a,c){for(const f of a)for(const _ of f.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Cn(Yt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hE{convertValue(e,t="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Po(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw zn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ia(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertVectorValue(e){var t,i,a;const c=null===(a=null===(i=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.map(f=>Po(f.doubleValue));return new rE(c)}convertGeoPoint(e){return new I_(Po(e.latitude),Po(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ip(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=Da(e);return new _i(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qr.fromString(e);ir(vI(i));const a=new yl(i.get(1),i.get(3)),c=new Wn(i.popFirst(5));return a.isEqual(t)||Io(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function P_(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Kb extends hE{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new To(this.firestore,null,t)}}class _h{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zc extends Of{constructor(e,t,i,a,c,f){super(e,t,i,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(A_("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Eg extends zc{data(e={}){return super.data(e)}}class Gc{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new _h(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Eg(this._firestore,this._userDataWriter,i.key,i,new _h(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cn(Yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(_=>({type:"added",doc:new Eg(a._firestore,a._userDataWriter,_.doc.key,_.doc,new _h(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const I=new Eg(a._firestore,a._userDataWriter,_.doc.key,_.doc,new _h(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);let w=-1,V=-1;return 0!==_.type&&(w=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),1!==_.type&&(f=f.add(_.doc),V=f.indexOf(_.doc.key)),{type:fE(_.type),doc:I,oldIndex:w,newIndex:V}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fE(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zn()}}function zT(r,e){return r instanceof zc&&e instanceof zc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Gc&&e instanceof Gc&&r._firestore===e._firestore&&y_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class nd extends hE{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new To(this.firestore,null,t)}}function qT(r,e,t){r=fi(r,To);const i=fi(r.firestore,Xi),a=P_(r.converter,e,t);return yh(i,[gh(Qa(i),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,mo.none())])}function QT(r,e,t,...i){r=fi(r,To);const a=fi(r.firestore,Xi),c=Qa(a);let f;return f="string"==typeof(e=(0,be.Ku)(e))||e instanceof Ml?UT(c,"updateDoc",r._key,e,t,i):sE(c,"updateDoc",r._key,e),yh(a,[f.toMutation(r._key,mo.exists(!0))])}function JT(r,...e){var t,i,a;r=(0,be.Ku)(r);let c={includeMetadataChanges:!1,source:"default"},f=0;"object"!=typeof e[f]||Ju(e[f])||(c=e[f],f++);const _={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Ju(e[f])){const Q=e[f];e[f]=null===(t=Q.next)||void 0===t?void 0:t.bind(Q),e[f+1]=null===(i=Q.error)||void 0===i?void 0:i.bind(Q),e[f+2]=null===(a=Q.complete)||void 0===a?void 0:a.bind(Q)}let I,w,V;if(r instanceof To)w=fi(r.firestore,Xi),V=ec(r._key.path),I={next:Q=>{e[f]&&e[f](O_(w,r,Q))},error:e[f+1],complete:e[f+2]};else{const Q=fi(r,Cs);w=fi(Q.firestore,Xi),V=Q._query;const ce=new nd(w);I={next:Ke=>{e[f]&&e[f](new Gc(w,ce,Q,Ke))},error:e[f+1],complete:e[f+2]},yg(r._query)}return function(ce,Ke,At,Wt){const Ut=new dg(Wt),wn=new wv(Ke,Ut,At);return ce.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return oT(yield Wc(ce),wn)})),()=>{Ut.Za(),ce.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return Dv(yield Wc(ce),wn)}))}}(jo(w),V,_,I)}function yh(r,e){return function(i,a){const c=new Vo;return i.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return function pT(r,e,t){return r_.apply(this,arguments)}(yield f_(i),a,c)})),c.promise}(jo(r),e)}function O_(r,e,t){const i=t.docs.get(e._key),a=new nd(r);return new zc(r,a,e._key,i,new _h(t.hasPendingWrites,t.fromCache),e.converter)}const rD={maxAttempts:5};class pE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qa(e)}set(e,t,i){this._verifyNotCommitted();const a=Xc(e,this._firestore),c=P_(a.converter,t,i),f=gh(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,i);return this._mutations.push(f.toMutation(a._key,mo.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const c=Xc(e,this._firestore);let f;return f="string"==typeof(t=(0,be.Ku)(t))||t instanceof Ml?UT(this._dataReader,"WriteBatch.update",c._key,t,i,a):sE(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,mo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xc(e,this._firestore);return this._mutations=this._mutations.concat(new Ga(t._key,mo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Cn(Yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xc(r,e){if((r=(0,be.Ku)(r)).firestore!==e)throw new Cn(Yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class ew extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Qa(t)}get(t){const i=Xc(t,this._firestore),a=new Kb(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return zn();const f=c[0];if(f.isFoundDocument())return new Of(this._firestore,a,f.key,f,i.converter);if(f.isNoDocument())return new Of(this._firestore,a,i._key,null,i.converter);throw zn()})}set(t,i,a){const c=Xc(t,this._firestore),f=P_(c.converter,i,a),_=gh(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,a);return this._transaction.set(c._key,_),this}update(t,i,a,...c){const f=Xc(t,this._firestore);let _;return _="string"==typeof(i=(0,be.Ku)(i))||i instanceof Ml?UT(this._dataReader,"Transaction.update",f._key,i,a,c):sE(this._dataReader,"Transaction.update",f._key,i),this._transaction.update(f._key,_),this}delete(t){const i=Xc(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xc(e,this._firestore),i=new nd(this._firestore);return super.get(e).then(a=>new zc(this._firestore,i,t._key,a._document,new _h(!1,!1),t.converter))}}function x_(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function rd(){if(typeof Uint8Array>"u")throw new Cn("unimplemented","Uint8Arrays are not available in this environment.")}function id(){if(!function Fy(){return typeof atob<"u"}())throw new Cn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Hs=ao.SDK_VERSION,(0,ao._registerComponent)(new as.uA("firestore",(i,{instanceIdentifier:a,options:c})=>{const f=i.getProvider("app").getImmediate(),_=new Xi(new Fh(i.getProvider("auth-internal")),new Tc(i.getProvider("app-check-internal")),function(w,V){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Cn(Yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(w.options.projectId,V)}(f,a),f);return c=Object.assign({useFetchStreams:t},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,ao.registerVersion)(ul,"4.7.3",e),(0,ao.registerVersion)(ul,"4.7.3","esm2017")}();class vh{constructor(e){this._delegate=e}static fromBase64String(e){return id(),new vh(dc.fromBase64String(e))}static fromUint8Array(e){return rd(),new vh(dc.fromUint8Array(e))}toBase64(){return id(),this._delegate.toBase64()}toUint8Array(){return rd(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function k_(r){return function vE(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(r,["next","error","complete"])}class lw{enableIndexedDbPersistence(e,t){return function Mb(r,e){hs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return nE(r,wf.provider,{build:i=>new bT(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Rf(r){return tE.apply(this,arguments)}(e._delegate)}clearIndexedDbPersistence(e){return function pg(r){if(r._initialized&&!r._terminated)throw new Cn(Yt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vo;return r._queue.enqueueAndForgetEvenWhileRestricted((0,gt.A)(function*(){try{yield(t=(0,gt.A)(function*(a){if(!ws.D())return Promise.resolve();const c=a+"main";yield ws.delete(c)}),function i(a){return t.apply(this,arguments)})(KI(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class cD{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof yl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function __(r,e,t,i={}){var a;const c=(r=fi(r,Sl))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),i.mockUserToken){let _,I;if("string"==typeof i.mockUserToken)_=i.mockUserToken,I=Eo.MOCK_USER;else{_=(0,be.Fy)(i.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Cn(Yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Eo(w)}r._authCredentials=new fl(new du(_,I))}}(this._delegate,e,t,i)}enableNetwork(){return function kT(r){return function Ib(r){return r.asyncQueue.enqueue((0,gt.A)(function*(){const e=yield ST(r),t=yield zv(r);return e.setNetworkEnabled(!0),function(a){const c=$n(a);return c.L_.delete(0),Gu(c)}(t)}))}(jo(r=fi(r,Xi)))}(this._delegate)}disableNetwork(){return function LT(r){return function RT(r){return r.asyncQueue.enqueue((0,gt.A)(function*(){const e=yield ST(r),t=yield zv(r);return e.setNetworkEnabled(!1),(i=(0,gt.A)(function*(c){const f=$n(c);f.L_.add(0),yield lc(f),f.q_.set("Offline")}),function a(c){return i.apply(this,arguments)})(t);var i}))}(jo(r=fi(r,Xi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,m_("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function v_(r){return function(t){const i=new Vo;return t.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return function fb(r,e){return kv.apply(this,arguments)}(yield f_(t),i)})),i.promise}(jo(r=fi(r,Xi)))}(this._delegate)}onSnapshotsInSync(e){return function ZT(r,e){return function Cb(r,e){const t=new dg(e);return r.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return a=yield Wc(r),c=t,$n(a).Y_.add(c),void c.next();var a,c})),()=>{t.Za(),r.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return a=yield Wc(r),c=t,void $n(a).Y_.delete(c);var a,c}))}}(jo(r=fi(r,Xi)),Ju(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Cn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xf(this,xT(this._delegate,e))}catch(t){throw Ri(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,$o(this._delegate,e))}catch(t){throw Ri(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qs(this,function rP(r,e){if(r=fi(r,Sl),g_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cn(Yt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cs(r,null,(i=e,new Xs(Qr.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Ri(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function iD(r,e,t){r=fi(r,Xi);const i=Object.assign(Object.assign({},rD),t);return function(c){if(c.maxAttempts<1)throw new Cn(Yt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,f,_){const I=new Vo;return c.asyncQueue.enqueueAndForget((0,gt.A)(function*(){const w=yield function Gv(r){return hg(r).then(e=>e.datastore)}(c);new $v(c.asyncQueue,w,_,f,I).au()})),I.promise}(jo(r),a=>e(new ew(r,a)),i)}(this._delegate,t=>e(new uD(this,t)))}batch(){return jo(this._delegate),new dD(new pE(this._delegate,e=>yh(this._delegate,e)))}loadBundle(e){return function la(r,e){const t=jo(r=fi(r,Xi)),i=new Sf;return function Ab(r,e,t,i){const a=function(f,_){let I;return I="string"==typeof f?kp().encode(f):f,V=function(V,Q){if(V instanceof Uint8Array)return Yu(V,Q);if(V instanceof ArrayBuffer)return Yu(new Uint8Array(V),Q);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(I),new Eb(V,_);var V}(t,eg(e));r.asyncQueue.enqueueAndForget((0,gt.A)(function*(){!function CT(r,e,t){const i=$n(r);var a;(a=(0,gt.A)(function*(f,_,I){try{const w=yield _.getMetadata();if(yield function(At,Wt){const Ut=$n(At),wn=Oo(Wt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",Bn=>Ut.Gr.getBundleMetadata(Bn,Wt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(wn)>=0)}(f.localStore,w))return yield _.close(),I._completeWith({taskState:"Success",documentsLoaded:(At=w).totalDocuments,bytesLoaded:At.totalBytes,totalDocuments:At.totalDocuments,totalBytes:At.totalBytes}),Promise.resolve(new Set);I._updateProgress(aT(w));const V=new lb(w,f.localStore,_.serializer);let Q=yield _.Ua();for(;Q;){const Ke=yield V.la(Q);Ke&&I._updateProgress(Ke),Q=yield _.Ua()}const ce=yield V.complete();return yield jc(f,ce.Ia,void 0),yield function(At,Wt){const Ut=$n(At);return Ut.persistence.runTransaction("Save bundle","readwrite",wn=>Ut.Gr.saveBundleMetadata(wn,Wt))}(f.localStore,w),I._completeWith(ce.progress),Promise.resolve(ce.Pa)}catch(w){return hs("SyncEngine",`Loading bundle failed with ${w}`),I._failWith(w),Promise.resolve(new Set)}var At}),function c(f,_,I){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield f_(r),a,i)}))}(t,r._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Pb(r,e){return function bb(r,e){return r.asyncQueue.enqueue((0,gt.A)(function*(){return function(i,a){const c=$n(i);return c.persistence.runTransaction("Get named query","readonly",f=>c.Gr.getNamedQuery(f,a))}(yield fh(r),e)}))}(jo(r=fi(r,Xi)),e).then(t=>t?new Cs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Qs(this,t):null)}}class Cg extends hE{constructor(e){super(),this.firestore=e}convertBytes(e){return new vh(new dc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}}class uD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}get(e){const t=od(e);return this._delegate.get(t).then(i=>new Ja(this._firestore,new zc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=od(e);return i?(x_("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=od(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=od(e);return this._delegate.delete(t),this}}class dD{constructor(e){this._delegate=e}set(e,t,i){const a=od(e);return i?(x_("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=od(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=od(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qc{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Eg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new L_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=qc.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let c=a.get(t);return c||(c=new qc(e,new Cg(e),t),a.set(t,c)),c}}qc.INSTANCES=new WeakMap;class Ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Cn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(t,new To(t._delegate,i,new Wn(e)))}static forKey(e,t,i){return new Ya(t,new To(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new xf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xf(this.firestore,xT(this._delegate,e))}catch(t){throw Ri(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,be.Ku)(e))instanceof To&&fg(this._delegate,e)}set(e,t){t=x_("DocumentReference.set",t);try{return t?qT(this._delegate,e,t):qT(this._delegate,e)}catch(i){throw Ri(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?QT(this._delegate,e):QT(this._delegate,e,t,...i)}catch(a){throw Ri(a,"updateDoc()","DocumentReference.update()")}}delete(){return function YT(r){return yh(fi(r.firestore,Xi),[new Ga(r._key,mo.none())])}(this._delegate)}onSnapshot(...e){const t=hD(e),i=EE(e,a=>new Ja(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return JT(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Gb(r){r=fi(r,To);const e=fi(r.firestore,Xi),t=jo(e),i=new nd(e);return function qv(r,e){const t=new Vo;return r.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return(i=(0,gt.A)(function*(c,f,_){try{const I=yield function(V,Q){const ce=$n(V);return ce.persistence.runTransaction("read document","readonly",Ke=>ce.localDocuments.getDocument(Ke,Q))}(c,f);I.isFoundDocument()?_.resolve(I):I.isNoDocument()?_.resolve(null):_.reject(new Cn(Yt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(I){const w=dh(I,`Failed to get document '${f} from cache`);_.reject(w)}}),function a(c,f,_){return i.apply(this,arguments)})(yield fh(r),e,t);var i})),t.promise}(t,r._key).then(a=>new zc(e,i,r._key,a,new _h(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function Xb(r){r=fi(r,To);const e=fi(r.firestore,Xi);return MT(jo(e),r._key,{source:"server"}).then(t=>O_(e,r,t))}(this._delegate):function zb(r){r=fi(r,To);const e=fi(r.firestore,Xi);return MT(jo(e),r._key).then(t=>O_(e,r,t))}(this._delegate),t.then(i=>new Ja(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,this._delegate.withConverter(e?qc.getInstance(this.firestore,e):null))}}function Ri(r,e,t){return r.message=r.message.replace(e,t),r}function hD(r){for(const e of r)if("object"==typeof e&&!k_(e))return e;return{}}function EE(r,e){var t,i;let a;return a=k_(r[0])?r[0]:k_(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class Ja{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zT(this._delegate,e._delegate)}}class L_ extends Ja{data(e){const t=this._delegate.data(e);return this._delegate._converter||function va(r){r||zn()}(void 0!==t),t}}class Qs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}where(e,t,i){try{return new Qs(this.firestore,td(this._delegate,function Fb(r,e,t){const i=e,a=A_("where",r);return Nf._create(a,i,t)}(e,t,i)))}catch(a){throw Ri(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qs(this.firestore,td(this._delegate,function Vb(r,e="asc"){const t=e,i=A_("orderBy",r);return cE._create(i,t)}(e,t)))}catch(i){throw Ri(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qs(this.firestore,td(this._delegate,function Ub(r){return Zv("limit",r),S_._create("limit",r,"F")}(e)))}catch(t){throw Ri(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qs(this.firestore,td(this._delegate,function Bb(r){return Zv("limitToLast",r),S_._create("limitToLast",r,"L")}(e)))}catch(t){throw Ri(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qs(this.firestore,td(this._delegate,function $b(...r){return R_._create("startAt",r,!0)}(...e)))}catch(t){throw Ri(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qs(this.firestore,td(this._delegate,function uE(...r){return R_._create("startAfter",r,!1)}(...e)))}catch(t){throw Ri(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qs(this.firestore,td(this._delegate,function jb(...r){return M_._create("endBefore",r,!1)}(...e)))}catch(t){throw Ri(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qs(this.firestore,td(this._delegate,function Wb(...r){return M_._create("endAt",r,!0)}(...e)))}catch(t){throw Ri(t,"endAt()","Query.endAt()")}}isEqual(e){return y_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function GT(r){r=fi(r,Cs);const e=fi(r.firestore,Xi),t=jo(e),i=new nd(e);return function Tb(r,e){const t=new Vo;return r.asyncQueue.enqueueAndForget((0,gt.A)(function*(){return(i=(0,gt.A)(function*(c,f,_){try{const I=yield Bm(c,f,!0),w=new ig(f,I.Ts),V=w.ma(I.documents),Q=w.applyChanges(V,!1);_.resolve(Q.snapshot)}catch(I){const w=dh(I,`Failed to execute query '${f} against cache`);_.reject(w)}}),function a(c,f,_){return i.apply(this,arguments)})(yield fh(r),e,t);var i})),t.promise}(t,r._query).then(a=>new Gc(e,i,r,a))}(this._delegate):"server"===e?.source?function XT(r){r=fi(r,Cs);const e=fi(r.firestore,Xi),t=jo(e),i=new nd(e);return p_(t,r._query,{source:"server"}).then(a=>new Gc(e,i,r,a))}(this._delegate):function qb(r){r=fi(r,Cs);const e=fi(r.firestore,Xi),t=jo(e),i=new nd(e);return yg(r._query),p_(t,r._query).then(a=>new Gc(e,i,r,a))}(this._delegate),t.then(i=>new IE(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=hD(e),i=EE(e,a=>new IE(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return JT(this._delegate,t,i)}withConverter(e){return new Qs(this.firestore,this._delegate.withConverter(e?qc.getInstance(this.firestore,e):null))}}class uw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new L_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new L_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uw(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new L_(this._firestore,i))})}isEqual(e){return zT(this._delegate,e._delegate)}}class xf extends Qs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return new Ya(this.firestore,void 0===e?$o(this._delegate):$o(this._delegate,e))}catch(t){throw Ri(t,"doc()","CollectionReference.doc()")}}add(e){return function Qb(r,e){const t=fi(r.firestore,Xi),i=$o(r),a=P_(r.converter,e);return yh(t,[gh(Qa(r.firestore),"addDoc",i._key,a,null!==r.converter,{}).toMutation(i._key,mo.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return fg(this._delegate,e._delegate)}withConverter(e){return new xf(this.firestore,this._delegate.withConverter(e?qc.getInstance(this.firestore,e):null))}}function od(r){return fi(r,To)}class fD{constructor(...e){this._delegate=new Ml(...e)}static documentId(){return new fD(Si.keyField().canonicalString())}isEqual(e){return(e=(0,be.Ku)(e))instanceof Ml&&this._delegate._internalPath.isEqual(e._internalPath)}}class Eh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function gE(){return new iE("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Eh(e)}static delete(){const e=function tw(){return new gg("deleteField")}();return e._methodName="FieldValue.delete",new Eh(e)}static arrayUnion(...e){const t=function oD(...r){return new Mf("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Eh(t)}static arrayRemove(...e){const t=function sD(...r){return new C_("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Eh(t)}static increment(e){const t=function mE(r){return new oE("increment",r)}(e);return t._methodName="FieldValue.increment",new Eh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dw={Firestore:cD,GeoPoint:I_,Timestamp:_i,Blob:vh,Transaction:uD,WriteBatch:dD,DocumentReference:Ya,DocumentSnapshot:Ja,Query:Qs,QueryDocumentSnapshot:L_,QuerySnapshot:IE,CollectionReference:xf,FieldPath:fD,FieldValue:Eh,setLogLevel:function cw(r){!function Lh(r){dl.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function pD(r,e){return function pw(r,e=Tr){return new Hr.c(t=>{let i;return null!=e?e.schedule(()=>{i=r.onSnapshot({includeMetadataChanges:!0},t)}):i=r.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(r,e)}function TE(r,e){return pD(r,e).pipe((0,Er.T)(t=>({payload:t,type:"query"})))}!function fw(r){(function hw(r,e){r.INTERNAL.registerComponent(new as.uA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},dw)))})(r,(e,t)=>new cD(e,t,new lw)),r.registerVersion("@firebase/firestore-compat","0.3.38")}(An.A);class gD{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:c}=ID(i,t);return new yD(a,c,this.afs)}snapshotChanges(){return function gw(r,e){return pD(r,e).pipe((0,Us.Z)(void 0),Va(),(0,Er.T)(t=>{const[i,a]=t;return a.exists?i?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rn)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Er.T)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,Ii.H)(this.ref.get(e)).pipe(rn)}}function F_(r,e){return TE(r,e).pipe((0,Us.Z)(void 0),Va(),(0,Er.T)(t=>{const[i,a]=t,c=a.payload.docChanges(),f=c.map(_=>({type:_.type,payload:_}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((_,I)=>{const w=c.find(Q=>Q.doc.ref.isEqual(_.ref)),V=i?.payload.docs.find(Q=>Q.ref.isEqual(_.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(_.metadata)||!w&&V&&JSON.stringify(V.metadata)===JSON.stringify(_.metadata)||f.push({type:"modified",payload:{oldIndex:I,newIndex:I,type:"modified",doc:_}})}),f}))}function mD(r,e,t){return F_(r,t).pipe((0,_a.S)((i,a)=>function mw(r,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(r=function _w(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return DE(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return DE(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DE(r,e.oldIndex,1)}return r}(r,i))}),r}(i,a.map(c=>c.payload),e),[]),(0,Hl.F)(),(0,Er.T)(i=>i.map(a=>({type:a.type,payload:a}))))}function DE(r,e,t,...i){const a=r.slice();return a.splice(e,t,...i),a}function _D(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class yD{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=F_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Er.T)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Us.Z)(void 0),Va(),(0,Mr.p)(([i,a])=>a.length>0||!i),(0,Er.T)(([,i])=>i),rn)}auditTrail(e){return this.stateChanges(e).pipe((0,_a.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=_D(e);return mD(this.query,t,this.afs.schedulers.outsideAngular).pipe(rn)}valueChanges(e={}){return TE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Er.T)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),rn)}get(e){return(0,Ii.H)(this.query.get(e)).pipe(rn)}add(e){return this.ref.add(e)}doc(e){return new gD(this.ref.doc(e),this.afs)}}class yw{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?F_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Er.T)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Mr.p)(t=>t.length>0),rn):F_(this.query,this.afs.schedulers.outsideAngular).pipe(rn)}auditTrail(e){return this.stateChanges(e).pipe((0,_a.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=_D(e);return mD(this.query,t,this.afs.schedulers.outsideAngular).pipe(rn)}valueChanges(e={}){return TE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Er.T)(i=>i.payload.docs.map(a=>e.idField?{[e.idField]:a.id,...a.data()}:a.data())),rn)}get(e){return(0,Ii.H)(this.query.get(e)).pipe(rn)}}const vD=new $.nKC("angularfire2.enableFirestorePersistence"),ED=new $.nKC("angularfire2.firestore.persistenceSettings"),vw=new $.nKC("angularfire2.firestore.settings"),Ew=new $.nKC("angularfire2.firestore.use-emulator");function ID(r,e=t=>t){return{query:e(r),ref:r}}let Iw=(()=>{class r{schedulers;firestore;persistenceEnabled$;constructor(t,i,a,c,f,_,I,w,V,Q,ce,Ke,At,Wt,Ut,wn,Bn){this.schedulers=I;const kn=j(t,_,i),Zn=V;Q&&Kl(kn,_,ce,At,Wt,Ut,Ke,wn),[this.firestore,this.persistenceEnabled$]=jn(`${kn.name}.firestore`,"AngularFirestore",kn.name,()=>{const Nr=_.runOutsideAngular(()=>kn.firestore());if(c&&Nr.settings(c),Zn&&Nr.useEmulator(...Zn),a&&!(0,Te.Vy)(f)){const Vr=()=>{try{return(0,Ii.H)(Nr.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(St){return typeof console<"u"&&console.warn(St),(0,Ur.of)(!1)}};return[Nr,_.runOutsideAngular(Vr)]}return[Nr,(0,Ur.of)(!1)]},[c,Zn,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=ID(a,i),_=this.schedulers.ngZone.run(()=>c);return new yD(_,f,this)}collectionGroup(t,i){const a=i||(f=>f),c=this.firestore.collectionGroup(t);return new yw(a(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new gD(a,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||r)($.KVO(wi),$.KVO(K,8),$.KVO(vD,8),$.KVO(vw,8),$.KVO(Ce.Agw),$.KVO(Ce.SKi),$.KVO(te),$.KVO(ED,8),$.KVO(Ew,8),$.KVO(Ws,8),$.KVO(cu,8),$.KVO(Fa,8),$.KVO(Wl,8),$.KVO(yc,8),$.KVO(rl,8),$.KVO(bs,8),$.KVO(Fo,8))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})(),TD=(()=>{class r{constructor(){An.A.registerVersion("angularfire",Ni.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:vD,useValue:!0},{provide:ED,useValue:t}]}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=Ce.$C({type:r});static \u0275inj=$.G2t({providers:[Iw]})}return r})();var CE=L(3669),Tw=L(5343);const DD="@firebase/database";let kf="";function CD(r){kf=r}class EP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,be.As)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,be.$L)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Aw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,be.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const V_=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new EP(e)}}catch{}return new Aw},Ih=V_("localStorage"),ad=V_("sessionStorage"),Za=new ts.Vy("@firebase/database"),Th=function(){let r=1;return function(){return r++}}(),U_=function(r){const e=(0,be.kj)(r),t=new be.gz;t.update(e);const i=t.digest();return be.K3.encodeByteArray(i)},ld=function(...r){let e="";for(let t=0;t<r.length;t++){const i=r[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=ld.apply(null,i):e+="object"==typeof i?(0,be.As)(i):i,e+=" "}return e};let cd=null,Ag=!0;const ud=function(r,e){(0,be.vA)(!e||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(Za.logLevel=ts.$b.VERBOSE,cd=Za.log.bind(Za),e&&ad.set("logging_enabled",!0)):"function"==typeof r?cd=r:(cd=null,ad.remove("logging_enabled"))},ys=function(...r){if(!0===Ag&&(Ag=!1,null===cd&&!0===ad.get("logging_enabled")&&ud(!0)),cd){const e=ld.apply(null,r);cd(e)}},bg=function(r){return function(...e){ys(r,...e)}},AE=function(...r){const e="FIREBASE INTERNAL ERROR: "+ld(...r);Za.error(e)},Ol=function(...r){const e=`FIREBASE FATAL ERROR: ${ld(...r)}`;throw Za.error(e),new Error(e)},vs=function(...r){const e="FIREBASE WARNING: "+ld(...r);Za.warn(e)},Lf=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Nl="[MIN_NAME]",Qc="[MAX_NAME]",Dh=function(r,e){if(r===e)return 0;if(r===Nl||e===Qc)return-1;if(e===Nl||r===Qc)return 1;{const t=W_(r),i=W_(e);return null!==t?null!==i?t-i===0?r.length-e.length:t-i:-1:null!==i?1:r<e?-1:1}},$_=function(r,e){return r===e?0:r<e?-1:1},wg=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+(0,be.As)(e))},Ff=function(r){if("object"!=typeof r||null===r)return(0,be.As)(r);const e=[];for(const i in r)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,be.As)(e[i]),t+=":",t+=Ff(r[e[i]]);return t+="}",t},AD=function(r,e){const t=r.length;if(t<=e)return[r];const i=[];for(let a=0;a<t;a+=e)i.push(r.substring(a,a+e>t?t:a+e));return i};function As(r,e){for(const t in r)r.hasOwnProperty(t)&&e(t,r[t])}const j_=function(r){(0,be.vA)(!Lf(r),"Invalid JSON number");const i=1023;let a,c,f,_,I;0===r?(c=0,f=0,a=1/r==-1/0?1:0):(a=r<0,(r=Math.abs(r))>=Math.pow(2,1-i)?(_=Math.min(Math.floor(Math.log(r)/Math.LN2),i),c=_+i,f=Math.round(r*Math.pow(2,52-_)-Math.pow(2,52))):(c=0,f=Math.round(r/Math.pow(2,-1074))));const w=[];for(I=52;I;I-=1)w.push(f%2?1:0),f=Math.floor(f/2);for(I=11;I;I-=1)w.push(c%2?1:0),c=Math.floor(c/2);w.push(a?1:0),w.reverse();const V=w.join("");let Q="";for(I=0;I<64;I+=8){let ce=parseInt(V.substr(I,8),2).toString(16);1===ce.length&&(ce="0"+ce),Q+=ce}return Q.toLowerCase()},wE=new RegExp("^-?(0*)\\d{1,10}$"),W_=function(r){if(wE.test(r)){const e=Number(r);if(e>=-2147483648&&e<=2147483647)return e}return null},Ch=function(r){try{r()}catch(e){setTimeout(()=>{throw vs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Vf=function(r,e){const t=setTimeout(r,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Mw{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){vs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class SE{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ys("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vs(e)}}let Sg=(()=>{class r{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Pw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rg="websocket",OD="long_polling";class ME{constructor(e,t,i,a,c=!1,f="",_=!1,I=!1){this.secure=t,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=I,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ih.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ih.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function H_(r,e,t){let i;if((0,be.vA)("string"==typeof e,"typeof type must == string"),(0,be.vA)("object"==typeof t,"typeof params must == object"),e===Rg)i=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(e!==OD)throw new Error("Unknown connection type: "+e);i=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function Nw(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(t.ns=r.namespace);const a=[];return As(t,(c,f)=>{a.push(c+"="+f)}),i+a.join("&")}class PE{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,be.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,be.A4)(this.counters_)}}const Mg={},Uf={};function Bf(r){const e=r.toString();return Mg[e]||(Mg[e]=new PE),Mg[e]}class NE{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&Ch(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xl{constructor(e,t,i,a,c,f,_){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bg(e),this.stats_=Bf(t),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),H_(t,OD,I))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new NE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,be.$g)()||"complete"===document.readyState)r();else{let e=!1;const t=function(){document.body?e||(e=!0,r()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VE((...c)=>{const[f,_,I,w,V]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=_,this.password=I;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[f,_]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,_)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Pw.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xl.forceAllow_=!0}static forceDisallow(){xl.forceDisallow_=!0}static isAvailable(){return!((0,be.$g)()||!xl.forceAllow_&&(xl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,be.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,be.KA)(t),a=AD(i,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,be.$g)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,be.As)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class VE{constructor(e,t,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,be.$g)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Th(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=VE.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(_){ys("frame writing exception"),_.stack&&ys(_.stack),ys(_)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ys("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const f=this.pendingSegs.shift();i=i+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(a),i()})}addTag(e,t){(0,be.$g)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ys("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let UE=null;typeof MozWebSocket<"u"?UE=MozWebSocket:typeof WebSocket<"u"&&(UE=WebSocket);let dd=(()=>{class r{constructor(t,i,a,c,f,_,I){this.connId=t,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bg(this.connId),this.stats_=Bf(i),this.connURL=r.connectionURL_(i,_,I,c,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,c,f){const _={v:"5"};return!(0,be.$g)()&&typeof location<"u"&&location.hostname&&Pw.test(location.hostname)&&(_.r="f"),i&&(_.s=i),a&&(_.ls=a),c&&(_.ac=c),f&&(_.p=f),H_(t,Rg,_)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ih.set("previous_websocket_failure",!0);try{let a;if((0,be.$g)()){a={headers:{"User-Agent":`Firebase/5/${kf}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,_=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;_&&(a.proxy={origin:_})}this.mySock=new UE(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&null!==UE&&!r.forceDisallow_}static previouslyFailed(){return Ih.isInMemoryStorage||!0===Ih.get("previous_websocket_failure")}markConnectionHealthy(){Ih.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,be.$L)(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,be.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=(0,be.As)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=AD(i,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),Vw=(()=>{class r{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[xl,dd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=dd&&dd.isAvailable();let a=i&&!dd.previouslyFailed();if(t.webSocketOnly&&(i||vs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[dd];else{const c=this.transports_=[];for(const f of r.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class WD{constructor(e,t,i,a,c,f,_,I,w,V){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=_,this.onDisconnect_=I,this.onKill_=w,this.lastSessionId=V,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bg("c:"+this.id+":"),this.transportManager_=new Vw(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Vf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=wg("t",e),i=wg("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=wg("t",e),i=wg("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=wg("t",e);if("d"in e){const i=e.d;if("h"===t){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?AE("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AE("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&vs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Vf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ih.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Kf{put(e,t,i,a){}merge(e,t,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class Hf{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,be.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const a=this.getInitialEvent(e);a&&t.apply(i,a)}off(e,t,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let c=0;c<a.length;c++)if(a[c].callback===t&&(!i||i===a[c].context))return void a.splice(c,1)}validateEventType_(e){(0,be.vA)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class X_ extends Hf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,be.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new X_}getInitialEvent(e){return(0,be.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class xi{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Wi(){return new xi("")}function vi(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function hd(r){return r.pieces_.length-r.pieceNum_}function ho(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new xi(r.pieces_,e)}function q_(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function xg(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function WE(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let t=r.pieceNum_;t<r.pieces_.length-1;t++)e.push(r.pieces_[t]);return new xi(e,0)}function Wo(r,e){const t=[];for(let i=r.pieceNum_;i<r.pieces_.length;i++)t.push(r.pieces_[i]);if(e instanceof xi)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&t.push(i[a])}return new xi(t,0)}function Ei(r){return r.pieceNum_>=r.pieces_.length}function ua(r,e){const t=vi(r),i=vi(e);if(null===t)return e;if(t===i)return ua(ho(r),ho(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function DP(r,e){const t=xg(r,0),i=xg(e,0);for(let a=0;a<t.length&&a<i.length;a++){const c=Dh(t[a],i[a]);if(0!==c)return c}return t.length===i.length?0:t.length<i.length?-1:1}function zD(r,e){if(hd(r)!==hd(e))return!1;for(let t=r.pieceNum_,i=e.pieceNum_;t<=r.pieces_.length;t++,i++)if(r.pieces_[t]!==e.pieces_[i])return!1;return!0}function Sa(r,e){let t=r.pieceNum_,i=e.pieceNum_;if(hd(r)>hd(e))return!1;for(;t<r.pieces_.length;){if(r.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Q_{constructor(e,t){this.errorPrefix_=t,this.parts_=xg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,be.OE)(this.parts_[i]);KE(this)}}function KE(r){if(r.byteLength_>768)throw new Error(r.errorPrefix_+"has a key path longer than 768 bytes ("+r.byteLength_+").");if(r.parts_.length>32)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+kl(r))}function kl(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class HE extends Hf{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new HE}getInitialEvent(e){return(0,be.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const kg=1e3;let Lg,Ah=(()=>{class r extends Kf{constructor(t,i,a,c,f,_,I,w){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=_,this.appCheckTokenProvider_=I,this.authOverride_=w,this.id=r.nextPersistentConnectionId_++,this.log_=bg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kg,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,be.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HE.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&X_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const c=++this.requestNumber_,f={r:c,a:t,b:i};this.log_((0,be.As)(f)),(0,be.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[c]=a)}get(t){this.initConnection_();const i=new be.cY,c={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:_=>{const I=_.d;"ok"===_.s?i.resolve(I):i.reject(I)}};return this.outstandingGets_.push(c),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,a,c){this.initConnection_();const f=t._queryIdentifier,_=t._path.toString();this.log_("Listen called for "+_+" "+f),this.listens.has(_)||this.listens.set(_,new Map),(0,be.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,be.vA)(!this.listens.get(_).has(f),"listen() called twice for same path/queryId.");const I={onComplete:c,hashFn:i,query:t,tag:a};this.listens.get(_).set(f,I),this.connected_&&this.sendListen_(I)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+a+" for "+c);const f={p:a};t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest("q",f,I=>{const w=I.d,V=I.s;r.warnOnListenWarnings_(w,i),(this.listens.get(a)&&this.listens.get(a).get(c))===t&&(this.log_("listen response",I),"ok"!==V&&this.removeListen_(a,c),t.onComplete&&t.onComplete(V,w))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,be.gR)(t,"w")){const a=(0,be.yw)(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();vs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,be.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,be.Cv)(t)?"auth":"gauth",a={cred:t};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,c=>{const f=c.s,_=c.d||"error";this.authToken_===t&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,be.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,t._queryObject,i)}sendUnlisten_(t,i,a,c){this.log_("Unlisten on "+t+" for "+i);const f={p:t};c&&(f.q=a,f.t=c),this.sendRequest("n",f)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,c){const f={p:i,d:a};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(t,i,a,c){this.putInternal("p",t,i,a,c)}merge(t,i,a,c){this.putInternal("m",t,i,a,c)}putInternal(t,i,a,c,f){this.initConnection_();const _={p:i,d:a};void 0!==f&&(_.h=f),this.outstandingPuts_.push({action:t,request:_,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,be.As)(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):AE("Unrecognized action received from server: "+(0,be.As)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,be.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kg,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=kg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,gt.A)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),a=t.onReady_.bind(t),c=t.onRealtimeDisconnect_.bind(t),f=t.id+":"+r.nextConnectionId_++,_=t.lastSessionId;let I=!1,w=null;const V=function(){w?w.close():(I=!0,c())};t.realtime_={close:V,sendRequest:function(Ke){(0,be.vA)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(Ke)}};const ce=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[Ke,At]=yield Promise.all([t.authTokenProvider_.getToken(ce),t.appCheckTokenProvider_.getToken(ce)]);I?ys("getToken() completed but was canceled"):(ys("getToken() completed. Creating connection."),t.authToken_=Ke&&Ke.accessToken,t.appCheckToken_=At&&At.token,w=new WD(f,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,a,c,Wt=>{vs(Wt+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},_))}catch(Ke){t.log_("Failed to get token: "+Ke),I||(t.repoInfo_.nodeAdmin&&vs(Ke),V())}}})()}interrupt(t){ys("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ys("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,be.Im)(this.interruptReasons_)&&(this.reconnectDelay_=kg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;a=i?i.map(f=>Ff(f)).join("$"):"default";const c=this.removeListen_(t,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,i){const a=new xi(t).toString();let c;if(this.listens.has(a)){const f=this.listens.get(a);c=f.get(i),f.delete(i),0===f.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(t,i){ys("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ys("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,be.$g)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+kf.replace(/\./g,"-")]=1,(0,be.jZ)()?t["framework.cordova"]=1:(0,be.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=X_.getInstance().currentlyOnline();return(0,be.Im)(this.interruptReasons_)&&t}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class oi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new oi(e,t)}}class Y_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new oi(Nl,e),a=new oi(Nl,t);return 0!==this.compare(i,a)}minPost(){return oi.MIN}}class zE extends Y_{static get __EMPTY_NODE(){return Lg}static set __EMPTY_NODE(e){Lg=e}compare(e,t){return Dh(e.name,t.name)}isDefinedOn(e){throw(0,be.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return oi.MIN}maxPost(){return new oi(Qc,Lg)}makePost(e,t){return(0,be.vA)("string"==typeof e,"KeyIndex indexValue must always be a string."),new oi(e,Lg)}toString(){return".key"}}const hc=new zE;class Fg{constructor(e,t,i,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(f=t?i(e.key,t):1,a&&(f*=-1),f<0)e=this.isReverse_?e.left:e.right;else{if(0===f){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let XE,Ll=(()=>{class r{constructor(t,i,a,c,f){this.key=t,this.value=i,this.color=a??r.RED,this.left=c??da.EMPTY_NODE,this.right=f??da.EMPTY_NODE}copy(t,i,a,c,f){return new r(t??this.key,i??this.value,a??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let c=this;const f=a(t,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(t,i,a),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(t,i,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return da.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,c;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(t,a.key)){if(a.right.isEmpty())return da.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class da{constructor(e,t=da.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new da(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ll.BLACK,null,null))}remove(e){return new da(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ll.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,a=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Fg(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Fg(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Fg(this.root_,null,this.comparator_,!0,e)}}function QD(r,e){return Dh(r.name,e.name)}function J_(r,e){return Dh(r,e)}da.EMPTY_NODE=new class GE{copy(e,t,i,a,c){return this}insert(e,t,i){return new Ll(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const YD=function(r){return"number"==typeof r?"number:"+j_(r):"string:"+r},Z_=function(r){if(r.isLeafNode()){const e=r.val();(0,be.vA)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,be.gR)(e,".sv"),"Priority must be a string or number.")}else(0,be.vA)(r===XE||r.isEmpty(),"priority of unexpected type.");(0,be.vA)(r===XE||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let JD,ZD,eC,bh=(()=>{class r{constructor(t,i=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,be.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Z_(this.priorityNode_)}static set __childrenNodeConstructor(t){JD=t}static get __childrenNodeConstructor(){return JD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new r(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ei(t)?this:".priority"===vi(t)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=vi(t);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,be.vA)(".priority"!==a||1===hd(t),".priority must be the last token in a path"),this.updateImmediateChild(a,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(ho(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+YD(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?j_(this.value_):this.value_,this.lazyHash_=U_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===r.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof r.__childrenNodeConstructor?-1:((0,be.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,c=r.VALUE_TYPE_ORDER.indexOf(i),f=r.VALUE_TYPE_ORDER.indexOf(a);return(0,be.vA)(c>=0,"Unknown leaf type: "+i),(0,be.vA)(f>=0,"Unknown leaf type: "+a),c===f?"object"===a?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Do=new class qw extends Y_{compare(e,t){const i=e.node.getPriority(),a=t.node.getPriority(),c=i.compareTo(a);return 0===c?Dh(e.name,t.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return oi.MIN}maxPost(){return new oi(Qc,new bh("[PRIORITY-POST]",eC))}makePost(e,t){const i=ZD(e);return new oi(t,new bh("[PRIORITY-POST]",i))}toString(){return".priority"}},Qw=Math.log(2);class Yw{constructor(e){this.count=parseInt(Math.log(e+1)/Qw,10),this.current_=this.count-1;const a=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vg=function(r,e,t,i){r.sort(e);const a=function(I,w){const V=w-I;let Q,ce;if(0===V)return null;if(1===V)return Q=r[I],ce=t?t(Q):Q,new Ll(ce,Q.node,Ll.BLACK,null,null);{const Ke=parseInt(V/2,10)+I,At=a(I,Ke),Wt=a(Ke+1,w);return Q=r[Ke],ce=t?t(Q):Q,new Ll(ce,Q.node,Ll.BLACK,At,Wt)}},_=function(I){let w=null,V=null,Q=r.length;const ce=function(At,Wt){const Ut=Q-At,wn=Q;Q-=At;const Bn=a(Ut+1,wn),kn=r[Ut],Zn=t?t(kn):kn;Ke(new Ll(Zn,kn.node,Wt,null,Bn))},Ke=function(At){w?(w.left=At,w=At):(V=At,w=At)};for(let At=0;At<I.count;++At){const Wt=I.nextBitIsOne(),Ut=Math.pow(2,I.count-(At+1));Wt?ce(Ut,Ll.BLACK):(ce(Ut,Ll.BLACK),ce(Ut,Ll.RED))}return V}(new Yw(r.length));return new da(i||e,_)};let ey;const zf={};class Yc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,be.vA)(zf&&Do,"ChildrenNode.ts has not been loaded"),ey=ey||new Yc({".priority":zf},{".priority":Do}),ey}get(e){const t=(0,be.yw)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof da?t:null}hasIndex(e){return(0,be.gR)(this.indexSet_,e.toString())}addIndex(e,t){(0,be.vA)(e!==hc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const c=t.getIterator(oi.Wrap);let _,f=c.getNext();for(;f;)a=a||e.isDefinedOn(f.node),i.push(f),f=c.getNext();_=a?Vg(i,e.getCompare()):zf;const I=e.toString(),w=Object.assign({},this.indexSet_);w[I]=e;const V=Object.assign({},this.indexes_);return V[I]=_,new Yc(V,w)}addToIndexes(e,t){const i=(0,be.kH)(this.indexes_,(a,c)=>{const f=(0,be.yw)(this.indexSet_,c);if((0,be.vA)(f,"Missing index implementation for "+c),a===zf){if(f.isDefinedOn(e.node)){const _=[],I=t.getIterator(oi.Wrap);let w=I.getNext();for(;w;)w.name!==e.name&&_.push(w),w=I.getNext();return _.push(e),Vg(_,f.getCompare())}return zf}{const _=t.get(e.name);let I=a;return _&&(I=I.remove(new oi(e.name,_))),I.insert(e,e.node)}});return new Yc(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,be.kH)(this.indexes_,a=>{if(a===zf)return a;{const c=t.get(e.name);return c?a.remove(new oi(e.name,c)):a}});return new Yc(i,this.indexSet_)}}let Gf,ti=(()=>{class r{constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Z_(this.priorityNode_),this.children_.isEmpty()&&(0,be.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gf||(Gf=new r(new da(J_),null,Yc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gf}updatePriority(t){return this.children_.isEmpty()?this:new r(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Gf:i}}getChild(t){const i=vi(t);return null===i?this:this.getImmediateChild(i).getChild(ho(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,be.vA)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const a=new oi(t,i);let c,f;i.isEmpty()?(c=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(a,this.children_));const _=c.isEmpty()?Gf:this.priorityNode_;return new r(c,_,f)}}updateChild(t,i){const a=vi(t);if(null===a)return i;{(0,be.vA)(".priority"!==vi(t)||1===hd(t),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(ho(t),i);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,c=0,f=!0;if(this.forEachChild(Do,(_,I)=>{i[_]=I.val(t),a++,f&&r.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):f=!1}),!t&&f&&c<2*a){const _=[];for(const I in i)_[I]=i[I];return _}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+YD(this.getPriority().val())+":"),this.forEachChild(Do,(i,a)=>{const c=a.hash();""!==c&&(t+=":"+i+":"+c)}),this.lazyHash_=""===t?"":U_(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const c=this.resolveIndex_(a);if(c){const f=c.getPredecessorKey(new oi(t,i));return f?f.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new oi(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new oi(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,oi.Wrap);let f=c.peek();for(;null!=f&&i.compare(f,t)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,oi.Wrap);let f=c.peek();for(;null!=f&&i.compare(f,t)>0;)c.getNext(),f=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===wh?-1:0}withIndex(t){if(t===hc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new r(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===hc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(Do),c=i.getIterator(Do);let f=a.getNext(),_=c.getNext();for(;f&&_;){if(f.name!==_.name||!f.node.equals(_.node))return!1;f=a.getNext(),_=c.getNext()}return null===f&&null===_}return!1}return!1}}resolveIndex_(t){return t===hc?null:this.indexMap_.get(t.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const wh=new class Jw extends ti{constructor(){super(new da(J_),ti.EMPTY_NODE,Yc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ti.EMPTY_NODE}isEmpty(){return!1}};function Ko(r,e=null){if(null===r)return ti.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(e=r[".priority"]),(0,be.vA)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new bh(r,Ko(e));if(r instanceof Array){let t=ti.EMPTY_NODE;return As(r,(i,a)=>{if((0,be.gR)(r,i)&&"."!==i.substring(0,1)){const c=Ko(a);(c.isLeafNode()||!c.isEmpty())&&(t=t.updateImmediateChild(i,c))}}),t.updatePriority(Ko(e))}{const t=[];let i=!1;if(As(r,(f,_)=>{if("."!==f.substring(0,1)){const I=Ko(_);I.isEmpty()||(i=i||!I.getPriority().isEmpty(),t.push(new oi(f,I)))}}),0===t.length)return ti.EMPTY_NODE;const c=Vg(t,QD,f=>f.name,J_);if(i){const f=Vg(t,Do.getCompare());return new ti(c,Ko(e),new Yc({".priority":f},{".priority":Do}))}return new ti(c,Ko(e),Yc.Default)}}Object.defineProperties(oi,{MIN:{value:new oi(Nl,ti.EMPTY_NODE)},MAX:{value:new oi(Qc,wh)}}),zE.__EMPTY_NODE=ti.EMPTY_NODE,bh.__childrenNodeConstructor=ti,function zw(r){XE=r}(wh),function Xw(r){eC=r}(wh),function Gw(r){ZD=r}(Ko);class Ug extends Y_{constructor(e){super(),this.indexPath_=e,(0,be.vA)(!Ei(e)&&".priority"!==vi(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),a=this.extractChild(t.node),c=i.compareTo(a);return 0===c?Dh(e.name,t.name):c}makePost(e,t){const i=Ko(e),a=ti.EMPTY_NODE.updateChild(this.indexPath_,i);return new oi(t,a)}maxPost(){const e=ti.EMPTY_NODE.updateChild(this.indexPath_,wh);return new oi(Qc,e)}toString(){return xg(this.indexPath_,0).join("/")}}const qE=new class nC extends Y_{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Dh(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return oi.MIN}maxPost(){return oi.MAX}makePost(e,t){const i=Ko(e);return new oi(t,i)}toString(){return".value"}};function QE(r){return{type:"value",snapshotNode:r}}function Sh(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function Bg(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function Xf(r,e,t){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:t}}class ty{constructor(e){this.index_=e}updateChild(e,t,i,a,c,f){(0,be.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=e.getImmediateChild(t);return _.getChild(a).equals(i.getChild(a))&&_.isEmpty()===i.isEmpty()||(null!=f&&(i.isEmpty()?e.hasChild(t)?f.trackChildChange(Bg(t,_)):(0,be.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?f.trackChildChange(Sh(t,i)):f.trackChildChange(Xf(t,i,_))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Do,(a,c)=>{t.hasChild(a)||i.trackChildChange(Bg(a,c))}),t.isLeafNode()||t.forEachChild(Do,(a,c)=>{if(e.hasChild(a)){const f=e.getImmediateChild(a);f.equals(c)||i.trackChildChange(Xf(a,c,f))}else i.trackChildChange(Sh(a,c))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ti.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qf{constructor(e){this.indexedFilter_=new ty(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qf.getStartPost_(e),this.endPost_=qf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,a,c,f){return this.matches(new oi(t,i))||(i=ti.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,a,c,f)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ti.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(ti.EMPTY_NODE);const c=this;return t.forEachChild(Do,(f,_)=>{c.matches(new oi(f,_))||(a=a.updateImmediateChild(f,ti.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Zw{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,a,c,f){return this.rangedFilter_.matches(new oi(t,i))||(i=ti.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,a,c,f):this.fullLimitUpdateChild_(e,t,i,c,f)}updateFullNode(e,t,i){let a;if(t.isLeafNode()||t.isEmpty())a=ti.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let c;a=ti.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const _=c.getNext();if(this.withinDirectionalStart(_)){if(!this.withinDirectionalEnd(_))break;a=a.updateImmediateChild(_.name,_.node),f++}}}else{let c;a=t.withIndex(this.index_),a=a.updatePriority(ti.EMPTY_NODE),c=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let f=0;for(;c.hasNext();){const _=c.getNext();f<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?f++:a=a.updateImmediateChild(_.name,ti.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,a,c){let f;if(this.reverse_){const Q=this.index_.getCompare();f=(ce,Ke)=>Q(Ke,ce)}else f=this.index_.getCompare();const _=e;(0,be.vA)(_.numChildren()===this.limit_,"");const I=new oi(t,i),w=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),V=this.rangedFilter_.matches(I);if(_.hasChild(t)){const Q=_.getImmediateChild(t);let ce=a.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=ce&&(ce.name===t||_.hasChild(ce.name));)ce=a.getChildAfterChild(this.index_,ce,this.reverse_);const Ke=null==ce?1:f(ce,I);if(V&&!i.isEmpty()&&Ke>=0)return c?.trackChildChange(Xf(t,i,Q)),_.updateImmediateChild(t,i);{c?.trackChildChange(Bg(t,Q));const Wt=_.updateImmediateChild(t,ti.EMPTY_NODE);return null!=ce&&this.rangedFilter_.matches(ce)?(c?.trackChildChange(Sh(ce.name,ce.node)),Wt.updateImmediateChild(ce.name,ce.node)):Wt}}return i.isEmpty()?e:V&&f(w,I)>=0?(null!=c&&(c.trackChildChange(Bg(w.name,w.node)),c.trackChildChange(Sh(t,i))),_.updateImmediateChild(t,i).updateImmediateChild(w.name,ti.EMPTY_NODE)):e}}class ny{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Do}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,be.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,be.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,be.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,be.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,be.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Do}copy(){const e=new ny;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jc(r,e,t){const i=r.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function YE(r,e,t){const i=r.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function Zc(r,e){const t=r.copy();return t.index_=e,t}function iy(r){const e={};if(r.isDefault())return e;let t;if(r.index_===Do?t="$priority":r.index_===qE?t="$value":r.index_===hc?t="$key":((0,be.vA)(r.index_ instanceof Ug,"Unrecognized index type!"),t=r.index_.toString()),e.orderBy=(0,be.As)(t),r.startSet_){const i=r.startAfterSet_?"startAfter":"startAt";e[i]=(0,be.As)(r.indexStartValue_),r.startNameSet_&&(e[i]+=","+(0,be.As)(r.indexStartName_))}if(r.endSet_){const i=r.endBeforeSet_?"endBefore":"endAt";e[i]=(0,be.As)(r.indexEndValue_),r.endNameSet_&&(e[i]+=","+(0,be.As)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function oC(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let t=r.viewFrom_;""===t&&(t=r.isViewFromLeft()?"l":"r"),e.vf=t}return r.index_!==Do&&(e.i=r.index_.toString()),e}class Qf extends Kf{constructor(e,t,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=bg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,be.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,a){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const f=Qf.getListenId_(e,i),_={};this.listens_[f]=_;const I=iy(e._queryParams);this.restRequest_(c+".json",I,(w,V)=>{let Q=V;if(404===w&&(Q=null,w=null),null===w&&this.onDataUpdate_(c,Q,!1,i),(0,be.yw)(this.listens_,f)===_){let ce;ce=w?401===w?"permission_denied":"rest_error:"+w:"ok",a(ce,null)}})}unlisten(e,t){const i=Qf.getListenId_(e,t);delete this.listens_[i]}get(e){const t=iy(e._queryParams),i=e._path.toString(),a=new be.cY;return this.restRequest_(i+".json",t,(c,f)=>{let _=f;404===c&&(_=null,c=null),null===c?(this.onDataUpdate_(i,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(t.auth=a.accessToken),c&&c.token&&(t.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,be.Am)(t);this.log_("Sending REST request for "+f);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(i&&4===_.readyState){this.log_("REST Response for "+f+" received. status:",_.status,"response:",_.responseText);let I=null;if(_.status>=200&&_.status<300){try{I=(0,be.$L)(_.responseText)}catch{vs("Failed to parse JSON response for "+f+": "+_.responseText)}i(null,I)}else 401!==_.status&&404!==_.status&&vs("Got unsuccessful REST response for "+f+" Status: "+_.status),i(_.status);i=null}},_.open("GET",f,!0),_.send()})}}class nS{constructor(){this.rootNode_=ti.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function oy(){return{value:null,children:new Map}}function Rh(r,e,t){if(Ei(e))r.value=t,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(e,t);else{const i=vi(e);r.children.has(i)||r.children.set(i,oy()),Rh(r.children.get(i),e=ho(e),t)}}function ZE(r,e){if(Ei(e))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const t=r.value;return r.value=null,t.forEachChild(Do,(i,a)=>{Rh(r,new xi(i),a)}),ZE(r,e)}}if(r.children.size>0){const t=vi(e);return e=ho(e),r.children.has(t)&&ZE(r.children.get(t),e)&&r.children.delete(t),0===r.children.size}return!0}function os(r,e,t){null!==r.value?t(e,r.value):function sC(r,e){r.children.forEach((t,i)=>{e(i,t)})}(r,(i,a)=>{os(a,new xi(e.toString()+"/"+i),t)})}class rS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&As(this.last_,(i,a)=>{t[i]=t[i]-a}),this.last_=e,t}}class cC{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rS(e);const i=1e4+2e4*Math.random();Vf(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;As(e,(a,c)=>{c>0&&(0,be.gR)(this.statsToReport_,a)&&(t[a]=c,i=!0)}),i&&this.server_.reportStats(t),Vf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fl=function(r){return r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",r}(Fl||{});function t0(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class $g{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Fl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ei(this.path)){if(null!=this.affectedTree.value)return(0,be.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new xi(e));return new $g(Wi(),t,this.revert)}}return(0,be.vA)(vi(this.path)===e,"operationForChild called for unrelated child."),new $g(ho(this.path),this.affectedTree,this.revert)}}class jg{constructor(e,t){this.source=e,this.path=t,this.type=Fl.LISTEN_COMPLETE}operationForChild(e){return Ei(this.path)?new jg(this.source,Wi()):new jg(this.source,ho(this.path))}}class pd{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Fl.OVERWRITE}operationForChild(e){return Ei(this.path)?new pd(this.source,Wi(),this.snap.getImmediateChild(e)):new pd(this.source,ho(this.path),this.snap)}}class Wg{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Fl.MERGE}operationForChild(e){if(Ei(this.path)){const t=this.children.subtree(new xi(e));return t.isEmpty()?null:t.value?new pd(this.source,Wi(),t.value):new Wg(this.source,Wi(),t)}return(0,be.vA)(vi(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wg(this.source,ho(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class eu{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ei(e))return this.isFullyInitialized()&&!this.filtered_;const t=vi(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class n0{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Kg(r,e,t,i,a,c){const f=i.filter(_=>_.type===t);f.sort((_,I)=>function aS(r,e,t){if(null==e.childName||null==t.childName)throw(0,be.Hk)("Should only compare child_ events.");const i=new oi(e.childName,e.snapshotNode),a=new oi(t.childName,t.snapshotNode);return r.index_.compare(i,a)}(r,_,I)),f.forEach(_=>{const I=function sS(r,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}(r,_,c);a.forEach(w=>{w.respondsTo(_.type)&&e.push(w.createEvent(I,r.query_))})})}function Hg(r,e){return{eventCache:r,serverCache:e}}function Yf(r,e,t,i){return Hg(new eu(e,t,i),r.serverCache)}function r0(r,e,t,i){return Hg(r.eventCache,new eu(e,t,i))}function zg(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Mh(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let o0;class Co{constructor(e,t=(()=>(o0||(o0=new da($_)),o0))()){this.value=e,this.children=t}static fromObject(e){let t=new Co(null);return As(e,(i,a)=>{t=t.set(new xi(i),a)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Wi(),value:this.value};if(Ei(e))return null;{const i=vi(e),a=this.children.get(i);if(null!==a){const c=a.findRootMostMatchingPathAndValue(ho(e),t);return null!=c?{path:Wo(new xi(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ei(e))return this;{const t=vi(e),i=this.children.get(t);return null!==i?i.subtree(ho(e)):new Co(null)}}set(e,t){if(Ei(e))return new Co(t,this.children);{const i=vi(e),c=(this.children.get(i)||new Co(null)).set(ho(e),t),f=this.children.insert(i,c);return new Co(this.value,f)}}remove(e){if(Ei(e))return this.children.isEmpty()?new Co(null):new Co(null,this.children);{const t=vi(e),i=this.children.get(t);if(i){const a=i.remove(ho(e));let c;return c=a.isEmpty()?this.children.remove(t):this.children.insert(t,a),null===this.value&&c.isEmpty()?new Co(null):new Co(this.value,c)}return this}}get(e){if(Ei(e))return this.value;{const t=vi(e),i=this.children.get(t);return i?i.get(ho(e)):null}}setTree(e,t){if(Ei(e))return t;{const i=vi(e),c=(this.children.get(i)||new Co(null)).setTree(ho(e),t);let f;return f=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new Co(this.value,f)}}fold(e){return this.fold_(Wi(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((a,c)=>{i[a]=c.fold_(Wo(e,a),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Wi(),t)}findOnPath_(e,t,i){const a=!!this.value&&i(t,this.value);if(a)return a;if(Ei(e))return null;{const c=vi(e),f=this.children.get(c);return f?f.findOnPath_(ho(e),Wo(t,c),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Wi(),t)}foreachOnPath_(e,t,i){if(Ei(e))return this;{this.value&&i(t,this.value);const a=vi(e),c=this.children.get(a);return c?c.foreachOnPath_(ho(e),Wo(t,a),i):new Co(null)}}foreach(e){this.foreach_(Wi(),e)}foreach_(e,t){this.children.inorderTraversal((i,a)=>{a.foreach_(Wo(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ra{constructor(e){this.writeTree_=e}static empty(){return new Ra(new Co(null))}}function tu(r,e,t){if(Ei(e))return new Ra(new Co(t));{const i=r.writeTree_.findRootMostValueAndPath(e);if(null!=i){const a=i.path;let c=i.value;const f=ua(a,e);return c=c.updateChild(f,t),new Ra(r.writeTree_.set(a,c))}{const a=new Co(t),c=r.writeTree_.setTree(e,a);return new Ra(c)}}}function s0(r,e,t){let i=r;return As(t,(a,c)=>{i=tu(i,Wo(e,a),c)}),i}function a0(r,e){if(Ei(e))return Ra.empty();{const t=r.writeTree_.setTree(e,new Co(null));return new Ra(t)}}function l0(r,e){return null!=Ph(r,e)}function Ph(r,e){const t=r.writeTree_.findRootMostValueAndPath(e);return null!=t?r.writeTree_.get(t.path).getChild(ua(t.path,e)):null}function c0(r){const e=[],t=r.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Do,(i,a)=>{e.push(new oi(i,a))}):r.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&e.push(new oi(i,a.value))}),e}function nu(r,e){if(Ei(e))return r;{const t=Ph(r,e);return new Ra(null!=t?new Co(t):r.writeTree_.subtree(e))}}function Jf(r){return r.writeTree_.isEmpty()}function Zf(r,e){return u0(Wi(),r.writeTree_,e)}function u0(r,e,t){if(null!=e.value)return t.updateChild(r,e.value);{let i=null;return e.children.inorderTraversal((a,c)=>{".priority"===a?((0,be.vA)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):t=u0(Wo(r,a),c,t)}),!t.getChild(r).isEmpty()&&null!==i&&(t=t.updateChild(Wo(r,".priority"),i)),t}}function Gg(r,e){return fc(e,r)}function hC(r,e){if(r.snap)return Sa(r.path,e);for(const t in r.children)if(r.children.hasOwnProperty(t)&&Sa(Wo(r.path,t),e))return!0;return!1}function pC(r){return r.visible}function d0(r,e,t){let i=Ra.empty();for(let a=0;a<r.length;++a){const c=r[a];if(e(c)){const f=c.path;let _;if(c.snap)Sa(t,f)?(_=ua(t,f),i=tu(i,_,c.snap)):Sa(f,t)&&(_=ua(f,t),i=tu(i,Wi(),c.snap.getChild(_)));else{if(!c.children)throw(0,be.Hk)("WriteRecord should have .snap or .children");if(Sa(t,f))_=ua(t,f),i=s0(i,_,c.children);else if(Sa(f,t))if(_=ua(f,t),Ei(_))i=s0(i,Wi(),c.children);else{const I=(0,be.yw)(c.children,vi(_));if(I){const w=I.getChild(ho(_));i=tu(i,Wi(),w)}}}}}return i}function h0(r,e,t,i,a){if(i||a){const c=nu(r.visibleWrites,e);return!a&&Jf(c)?t:a||null!=t||l0(c,Wi())?Zf(d0(r.allWrites,function(w){return(w.visible||a)&&(!i||!~i.indexOf(w.writeId))&&(Sa(w.path,e)||Sa(e,w.path))},e),t||ti.EMPTY_NODE):null}{const c=Ph(r.visibleWrites,e);if(null!=c)return c;{const f=nu(r.visibleWrites,e);return Jf(f)?t:null!=t||l0(f,Wi())?Zf(f,t||ti.EMPTY_NODE):null}}}function Xg(r,e,t,i){return h0(r.writeTree,r.treePath,e,t,i)}function ay(r,e){return function gC(r,e,t){let i=ti.EMPTY_NODE;const a=Ph(r.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Do,(c,f)=>{i=i.updateImmediateChild(c,f)}),i;if(t){const c=nu(r.visibleWrites,e);return t.forEachChild(Do,(f,_)=>{const I=Zf(nu(c,new xi(f)),_);i=i.updateImmediateChild(f,I)}),c0(c).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}return c0(nu(r.visibleWrites,e)).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}(r.writeTree,r.treePath,e)}function f0(r,e,t,i){return function mC(r,e,t,i,a){(0,be.vA)(i||a,"Either existingEventSnap or existingServerSnap must exist");const c=Wo(e,t);if(l0(r.visibleWrites,c))return null;{const f=nu(r.visibleWrites,c);return Jf(f)?a.getChild(t):Zf(f,a.getChild(t))}}(r.writeTree,r.treePath,e,t,i)}function qg(r,e){return function yC(r,e){return Ph(r.visibleWrites,e)}(r.writeTree,Wo(r.treePath,e))}function ly(r,e,t){return function _C(r,e,t,i){const a=Wo(e,t),c=Ph(r.visibleWrites,a);return null!=c?c:i.isCompleteForChild(t)?Zf(nu(r.visibleWrites,a),i.getNode().getImmediateChild(t)):null}(r.writeTree,r.treePath,e,t)}function p0(r,e){return fc(Wo(r.treePath,e),r.writeTree)}function fc(r,e){return{treePath:r,writeTree:e}}class g0{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,be.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,be.vA)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const c=a.type;if("child_added"===t&&"child_removed"===c)this.changeMap.set(i,Xf(i,e.snapshotNode,a.snapshotNode));else if("child_removed"===t&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===c)this.changeMap.set(i,Bg(i,a.oldSnap));else if("child_changed"===t&&"child_added"===c)this.changeMap.set(i,Sh(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==c)throw(0,be.Hk)("Illegal combination of changes: "+e+" occurred after "+a);this.changeMap.set(i,Xf(i,e.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const cy=new class IC{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class uy{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new eu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ly(this.writes_,e,i)}}getChildAfterChild(e,t,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mh(this.viewCache_),c=function EC(r,e,t,i,a,c){return function sy(r,e,t,i,a,c,f){let _;const I=nu(r.visibleWrites,e),w=Ph(I,Wi());if(null!=w)_=w;else{if(null==t)return[];_=Zf(I,t)}if(_=_.withIndex(f),_.isEmpty()||_.isLeafNode())return[];{const V=[],Q=f.getCompare(),ce=c?_.getReverseIteratorFrom(i,f):_.getIteratorFrom(i,f);let Ke=ce.getNext();for(;Ke&&V.length<a;)0!==Q(Ke,i)&&V.push(Ke),Ke=ce.getNext();return V}}(r.writeTree,r.treePath,e,t,i,a,c)}(this.writes_,a,t,1,i,e);return 0===c.length?null:c[0]}}function DC(r,e,t,i,a,c){const f=e.eventCache;if(null!=qg(i,t))return e;{let _,I;if(Ei(t))if((0,be.vA)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const w=Mh(e),Q=ay(i,w instanceof ti?w:ti.EMPTY_NODE);_=r.filter.updateFullNode(e.eventCache.getNode(),Q,c)}else{const w=Xg(i,Mh(e));_=r.filter.updateFullNode(e.eventCache.getNode(),w,c)}else{const w=vi(t);if(".priority"===w){(0,be.vA)(1===hd(t),"Can't have a priority with additional path components");const V=f.getNode();I=e.serverCache.getNode();const Q=f0(i,t,V,I);_=null!=Q?r.filter.updatePriority(V,Q):f.getNode()}else{const V=ho(t);let Q;if(f.isCompleteForChild(w)){I=e.serverCache.getNode();const ce=f0(i,t,f.getNode(),I);Q=null!=ce?f.getNode().getImmediateChild(w).updateChild(V,ce):f.getNode().getImmediateChild(w)}else Q=ly(i,w,e.serverCache);_=null!=Q?r.filter.updateChild(f.getNode(),w,Q,V,a,c):f.getNode()}}return Yf(e,_,f.isFullyInitialized()||Ei(t),r.filter.filtersNodes())}}function dy(r,e,t,i,a,c,f,_){const I=e.serverCache;let w;const V=f?r.filter:r.filter.getIndexedFilter();if(Ei(t))w=V.updateFullNode(I.getNode(),i,null);else if(V.filtersNodes()&&!I.isFiltered()){const Ke=I.getNode().updateChild(t,i);w=V.updateFullNode(I.getNode(),Ke,null)}else{const Ke=vi(t);if(!I.isCompleteForPath(t)&&hd(t)>1)return e;const At=ho(t),Ut=I.getNode().getImmediateChild(Ke).updateChild(At,i);w=".priority"===Ke?V.updatePriority(I.getNode(),Ut):V.updateChild(I.getNode(),Ke,Ut,At,cy,null)}const Q=r0(e,w,I.isFullyInitialized()||Ei(t),V.filtersNodes());return DC(r,Q,t,a,new uy(a,Q,c),_)}function m0(r,e,t,i,a,c,f){const _=e.eventCache;let I,w;const V=new uy(a,e,c);if(Ei(t))w=r.filter.updateFullNode(e.eventCache.getNode(),i,f),I=Yf(e,w,!0,r.filter.filtersNodes());else{const Q=vi(t);if(".priority"===Q)w=r.filter.updatePriority(e.eventCache.getNode(),i),I=Yf(e,w,_.isFullyInitialized(),_.isFiltered());else{const ce=ho(t),Ke=_.getNode().getImmediateChild(Q);let At;if(Ei(ce))At=i;else{const Wt=V.getCompleteChild(Q);At=null!=Wt?".priority"===q_(ce)&&Wt.getChild(WE(ce)).isEmpty()?Wt:Wt.updateChild(ce,i):ti.EMPTY_NODE}I=Ke.equals(At)?e:Yf(e,r.filter.updateChild(_.getNode(),Q,At,ce,V,f),_.isFullyInitialized(),r.filter.filtersNodes())}}return I}function CC(r,e){return r.eventCache.isCompleteForChild(e)}function AC(r,e,t){return t.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function _0(r,e,t,i,a,c,f,_){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let w,I=e;w=Ei(t)?i:new Co(null).setTree(t,i);const V=e.serverCache.getNode();return w.children.inorderTraversal((Q,ce)=>{if(V.hasChild(Q)){const At=AC(0,e.serverCache.getNode().getImmediateChild(Q),ce);I=dy(r,I,new xi(Q),At,a,c,f,_)}}),w.children.inorderTraversal((Q,ce)=>{const Ke=!e.serverCache.isCompleteForChild(Q)&&null===ce.value;if(!V.hasChild(Q)&&!Ke){const Wt=AC(0,e.serverCache.getNode().getImmediateChild(Q),ce);I=dy(r,I,new xi(Q),Wt,a,c,f,_)}}),I}class _S{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new ty(i.getIndex()),c=function eS(r){return r.loadsAllData()?new ty(r.getIndex()):r.hasLimit()?new Zw(r):new qf(r)}(i);this.processor_=function TC(r){return{filter:r}}(c);const f=t.serverCache,_=t.eventCache,I=a.updateFullNode(ti.EMPTY_NODE,f.getNode(),null),w=c.updateFullNode(ti.EMPTY_NODE,_.getNode(),null),V=new eu(I,f.isFullyInitialized(),a.filtersNodes()),Q=new eu(w,_.isFullyInitialized(),c.filtersNodes());this.viewCache_=Hg(Q,V),this.eventGenerator_=new n0(this.query_)}get query(){return this.query_}}function bC(r,e){const t=Mh(r.viewCache_);return t&&(r.query._queryParams.loadsAllData()||!Ei(e)&&!t.getImmediateChild(vi(e)).isEmpty())?t.getChild(e):null}function hy(r){return 0===r.eventRegistrations_.length}function wC(r,e,t){const i=[];if(t){(0,be.vA)(null==e,"A cancel should cancel all event registrations.");const a=r.query._path;r.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(t,a);f&&i.push(f)})}if(e){let a=[];for(let c=0;c<r.eventRegistrations_.length;++c){const f=r.eventRegistrations_[c];if(f.matches(e)){if(e.hasAnyCallback()){a=a.concat(r.eventRegistrations_.slice(c+1));break}}else a.push(f)}r.eventRegistrations_=a}else r.eventRegistrations_=[];return i}function fy(r,e,t,i){e.type===Fl.MERGE&&null!==e.source.queryId&&((0,be.vA)(Mh(r.viewCache_),"We should always have a full cache before handling merges"),(0,be.vA)(zg(r.viewCache_),"Missing event cache, even though we have a server cache"));const a=r.viewCache_,c=function dS(r,e,t,i,a){const c=new g0;let f,_;if(t.type===Fl.OVERWRITE){const w=t;w.source.fromUser?f=m0(r,e,w.path,w.snap,i,a,c):((0,be.vA)(w.source.fromServer,"Unknown source."),_=w.source.tagged||e.serverCache.isFiltered()&&!Ei(w.path),f=dy(r,e,w.path,w.snap,i,a,_,c))}else if(t.type===Fl.MERGE){const w=t;w.source.fromUser?f=function fS(r,e,t,i,a,c,f){let _=e;return i.foreach((I,w)=>{const V=Wo(t,I);CC(e,vi(V))&&(_=m0(r,_,V,w,a,c,f))}),i.foreach((I,w)=>{const V=Wo(t,I);CC(e,vi(V))||(_=m0(r,_,V,w,a,c,f))}),_}(r,e,w.path,w.children,i,a,c):((0,be.vA)(w.source.fromServer,"Unknown source."),_=w.source.tagged||e.serverCache.isFiltered(),f=_0(r,e,w.path,w.children,i,a,_,c))}else if(t.type===Fl.ACK_USER_WRITE){const w=t;f=w.revert?function mS(r,e,t,i,a,c){let f;if(null!=qg(i,t))return e;{const _=new uy(i,e,a),I=e.eventCache.getNode();let w;if(Ei(t)||".priority"===vi(t)){let V;if(e.serverCache.isFullyInitialized())V=Xg(i,Mh(e));else{const Q=e.serverCache.getNode();(0,be.vA)(Q instanceof ti,"serverChildren would be complete if leaf node"),V=ay(i,Q)}w=r.filter.updateFullNode(I,V,c)}else{const V=vi(t);let Q=ly(i,V,e.serverCache);null==Q&&e.serverCache.isCompleteForChild(V)&&(Q=I.getImmediateChild(V)),w=null!=Q?r.filter.updateChild(I,V,Q,ho(t),_,c):e.eventCache.getNode().hasChild(V)?r.filter.updateChild(I,V,ti.EMPTY_NODE,ho(t),_,c):I,w.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Xg(i,Mh(e)),f.isLeafNode()&&(w=r.filter.updateFullNode(w,f,c)))}return f=e.serverCache.isFullyInitialized()||null!=qg(i,Wi()),Yf(e,w,f,r.filter.filtersNodes())}}(r,e,w.path,i,a,c):function pS(r,e,t,i,a,c,f){if(null!=qg(a,t))return e;const _=e.serverCache.isFiltered(),I=e.serverCache;if(null!=i.value){if(Ei(t)&&I.isFullyInitialized()||I.isCompleteForPath(t))return dy(r,e,t,I.getNode().getChild(t),a,c,_,f);if(Ei(t)){let w=new Co(null);return I.getNode().forEachChild(hc,(V,Q)=>{w=w.set(new xi(V),Q)}),_0(r,e,t,w,a,c,_,f)}return e}{let w=new Co(null);return i.foreach((V,Q)=>{const ce=Wo(t,V);I.isCompleteForPath(ce)&&(w=w.set(V,I.getNode().getChild(ce)))}),_0(r,e,t,w,a,c,_,f)}}(r,e,w.path,w.affectedTree,i,a,c)}else{if(t.type!==Fl.LISTEN_COMPLETE)throw(0,be.Hk)("Unknown operation type: "+t.type);f=function gS(r,e,t,i,a){const c=e.serverCache;return DC(r,r0(e,c.getNode(),c.isFullyInitialized()||Ei(t),c.isFiltered()),t,i,cy,a)}(r,e,t.path,i,c)}const I=c.getChanges();return function hS(r,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=zg(r);(t.length>0||!r.eventCache.isFullyInitialized()||a&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&t.push(QE(zg(e)))}}(e,f,I),{viewCache:f,changes:I}}(r.processor_,a,e,t,i);return function uS(r,e){(0,be.vA)(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,be.vA)(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,c.viewCache),(0,be.vA)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=c.viewCache,ES(r,c.changes,c.viewCache.eventCache.getNode(),null)}function ES(r,e,t,i){return function oS(r,e,t,i){const a=[],c=[];return e.forEach(f=>{"child_changed"===f.type&&r.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(function rC(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}(f.childName,f.snapshotNode))}),Kg(r,a,"child_removed",e,i,t),Kg(r,a,"child_added",e,i,t),Kg(r,a,"child_moved",c,i,t),Kg(r,a,"child_changed",e,i,t),Kg(r,a,"value",e,i,t),a}(r.eventGenerator_,e,t,i?[i]:r.eventRegistrations_)}let Qg,_y;class SC{constructor(){this.views=new Map}}function gy(r,e,t,i){const a=e.source.queryId;if(null!==a){const c=r.views.get(a);return(0,be.vA)(null!=c,"SyncTree gave us an op for an invalid query."),fy(c,e,t,i)}{let c=[];for(const f of r.views.values())c=c.concat(fy(f,e,t,i));return c}}function RC(r,e,t,i,a){const f=r.views.get(e._queryIdentifier);if(!f){let _=Xg(t,a?i:null),I=!1;_?I=!0:i instanceof ti?(_=ay(t,i),I=!1):(_=ti.EMPTY_NODE,I=!1);const w=Hg(new eu(_,I,!1),new eu(i,a,!1));return new _S(e,w)}return f}function MC(r){const e=[];for(const t of r.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function gd(r,e){let t=null;for(const i of r.views.values())t=t||bC(i,e);return t}function PC(r,e){return e._queryParams.loadsAllData()?my(r):r.views.get(e._queryIdentifier)}function OC(r,e){return null!=PC(r,e)}function md(r){return null!=my(r)}function my(r){for(const e of r.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let xC=1;class E0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Co(null),this.pendingWriteTree_=function vC(){return{visibleWrites:Ra.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yy(r,e,t,i,a){return function uC(r,e,t,i,a){(0,be.vA)(i>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),r.allWrites.push({path:e,snap:t,writeId:i,visible:a}),a&&(r.visibleWrites=tu(r.visibleWrites,e,t)),r.lastWriteId=i}(r.pendingWriteTree_,e,t,i,a),a?ep(r,new pd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function _d(r,e,t=!1){const i=function AP(r,e){for(let t=0;t<r.allWrites.length;t++){const i=r.allWrites[t];if(i.writeId===e)return i}return null}(r.pendingWriteTree_,e);if(function dC(r,e){const t=r.allWrites.findIndex(_=>_.writeId===e);(0,be.vA)(t>=0,"removeWrite called with nonexistent writeId.");const i=r.allWrites[t];r.allWrites.splice(t,1);let a=i.visible,c=!1,f=r.allWrites.length-1;for(;a&&f>=0;){const _=r.allWrites[f];_.visible&&(f>=t&&hC(_,i.path)?a=!1:Sa(i.path,_.path)&&(c=!0)),f--}return!!a&&(c?(function fC(r){r.visibleWrites=d0(r.allWrites,pC,Wi()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(i.snap?r.visibleWrites=a0(r.visibleWrites,i.path):As(i.children,I=>{r.visibleWrites=a0(r.visibleWrites,Wo(i.path,I))}),!0))}(r.pendingWriteTree_,e)){let c=new Co(null);return null!=i.snap?c=c.set(Wi(),!0):As(i.children,f=>{c=c.set(new xi(f),!0)}),ep(r,new $g(i.path,c,t))}return[]}function Jg(r,e,t){return ep(r,new pd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function vy(r,e,t,i,a=!1){const c=e._path,f=r.syncPointTree_.get(c);let _=[];if(f&&("default"===e._queryIdentifier||OC(f,e))){const I=function CS(r,e,t,i){const a=e._queryIdentifier,c=[];let f=[];const _=md(r);if("default"===a)for(const[I,w]of r.views.entries())f=f.concat(wC(w,t,i)),hy(w)&&(r.views.delete(I),w.query._queryParams.loadsAllData()||c.push(w.query));else{const I=r.views.get(a);I&&(f=f.concat(wC(I,t,i)),hy(I)&&(r.views.delete(a),I.query._queryParams.loadsAllData()||c.push(I.query)))}return _&&!md(r)&&c.push(new(function TS(){return(0,be.vA)(Qg,"Reference.ts has not been loaded"),Qg}())(e._repo,e._path)),{removed:c,events:f}}(f,e,t,i);(function py(r){return 0===r.views.size})(f)&&(r.syncPointTree_=r.syncPointTree_.remove(c));const w=I.removed;if(_=I.events,!a){const V=-1!==w.findIndex(ce=>ce._queryParams.loadsAllData()),Q=r.syncPointTree_.findOnPath(c,(ce,Ke)=>md(Ke));if(V&&!Q){const ce=r.syncPointTree_.subtree(c);if(!ce.isEmpty()){const Ke=function SS(r){return r.fold((e,t,i)=>{if(t&&md(t))return[my(t)];{let a=[];return t&&(a=MC(t)),As(i,(c,f)=>{a=a.concat(f)}),a}})}(ce);for(let At=0;At<Ke.length;++At){const Wt=Ke[At],Ut=Wt.query,wn=UC(r,Wt);r.listenProvider_.startListening(em(Ut),Zg(r,Ut),wn.hashFn,wn.onComplete)}}}!Q&&w.length>0&&!i&&(V?r.listenProvider_.stopListening(em(e),null):w.forEach(ce=>{const Ke=r.queryToTagMap.get(Oh(ce));r.listenProvider_.stopListening(em(ce),Ke)}))}!function vd(r,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const a=Oh(i),c=r.queryToTagMap.get(a);r.queryToTagMap.delete(a),r.tagToQueryMap.delete(c)}}}(r,w)}return _}function LC(r,e,t,i){const a=T0(r,i);if(null!=a){const c=D0(a),f=c.path,_=c.queryId,I=ua(f,e);return Ey(r,f,new pd(t0(_),I,t))}return[]}function I0(r,e,t,i=!1){const a=e._path;let c=null,f=!1;r.syncPointTree_.foreachOnPath(a,(ce,Ke)=>{const At=ua(ce,a);c=c||gd(Ke,At),f=f||md(Ke)});let I,_=r.syncPointTree_.get(a);_?(f=f||md(_),c=c||gd(_,Wi())):(_=new SC,r.syncPointTree_=r.syncPointTree_.set(a,_)),null!=c?I=!0:(I=!1,c=ti.EMPTY_NODE,r.syncPointTree_.subtree(a).foreachChild((Ke,At)=>{const Wt=gd(At,Wi());Wt&&(c=c.updateImmediateChild(Ke,Wt))}));const w=OC(_,e);if(!w&&!e._queryParams.loadsAllData()){const ce=Oh(e);(0,be.vA)(!r.queryToTagMap.has(ce),"View does not exist, but we have a tag");const Ke=function tp(){return xC++}();r.queryToTagMap.set(ce,Ke),r.tagToQueryMap.set(Ke,ce)}let Q=function DS(r,e,t,i,a,c){const f=RC(r,e,i,a,c);return r.views.has(e._queryIdentifier)||r.views.set(e._queryIdentifier,f),function yS(r,e){r.eventRegistrations_.push(e)}(f,t),function vS(r,e){const t=r.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Do,(c,f)=>{i.push(Sh(c,f))}),t.isFullyInitialized()&&i.push(QE(t.getNode())),ES(r,i,t.getNode(),e)}(f,t)}(_,e,t,Gg(r.pendingWriteTree_,a),c,I);if(!w&&!f&&!i){const ce=PC(_,e);Q=Q.concat(function RS(r,e,t){const i=e._path,a=Zg(r,e),c=UC(r,t),f=r.listenProvider_.startListening(em(e),a,c.hashFn,c.onComplete),_=r.syncPointTree_.subtree(i);if(a)(0,be.vA)(!md(_.value),"If we're adding a query, it shouldn't be shadowed");else{const I=_.fold((w,V,Q)=>{if(!Ei(w)&&V&&md(V))return[my(V).query];{let ce=[];return V&&(ce=ce.concat(MC(V).map(Ke=>Ke.query))),As(Q,(Ke,At)=>{ce=ce.concat(At)}),ce}});for(let w=0;w<I.length;++w){const V=I[w];r.listenProvider_.stopListening(em(V),Zg(r,V))}}return f}(r,e,ce))}return Q}function yd(r,e,t){const a=r.pendingWriteTree_,c=r.syncPointTree_.findOnPath(e,(f,_)=>{const w=gd(_,ua(f,e));if(w)return w});return h0(a,e,c,t,!0)}function ep(r,e){return FC(e,r.syncPointTree_,null,Gg(r.pendingWriteTree_,Wi()))}function FC(r,e,t,i){if(Ei(r.path))return VC(r,e,t,i);{const a=e.get(Wi());null==t&&null!=a&&(t=gd(a,Wi()));let c=[];const f=vi(r.path),_=r.operationForChild(f),I=e.children.get(f);if(I&&_){const w=t?t.getImmediateChild(f):null,V=p0(i,f);c=c.concat(FC(_,I,w,V))}return a&&(c=c.concat(gy(a,r,i,t))),c}}function VC(r,e,t,i){const a=e.get(Wi());null==t&&null!=a&&(t=gd(a,Wi()));let c=[];return e.children.inorderTraversal((f,_)=>{const I=t?t.getImmediateChild(f):null,w=p0(i,f),V=r.operationForChild(f);V&&(c=c.concat(VC(V,_,I,w)))}),a&&(c=c.concat(gy(a,r,i,t))),c}function UC(r,e){const t=e.query,i=Zg(r,t);return{hashFn:()=>(function y0(r){return r.viewCache_.serverCache.getNode()}(e)||ti.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function AS(r,e,t){const i=T0(r,t);if(i){const a=D0(i),c=a.path,f=a.queryId,_=ua(c,e);return Ey(r,c,new jg(t0(f),_))}return[]}(r,t._path,i):function wP(r,e){return ep(r,new jg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(r,t._path);{const c=function Sw(r,e){let t="Unknown Error";"too_big"===r?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?t="Client doesn't have permission to access the desired data.":"unavailable"===r&&(t="The service is unavailable");const i=new Error(r+" at "+e._path.toString()+": "+t);return i.code=r.toUpperCase(),i}(a,t);return vy(r,t,null,c)}}}}function Zg(r,e){const t=Oh(e);return r.queryToTagMap.get(t)}function Oh(r){return r._path.toString()+"$"+r._queryIdentifier}function T0(r,e){return r.tagToQueryMap.get(e)}function D0(r){const e=r.indexOf("$");return(0,be.vA)(-1!==e&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new xi(r.substr(0,e))}}function Ey(r,e,t){const i=r.syncPointTree_.get(e);return(0,be.vA)(i,"Missing sync point for query tag that we're tracking"),gy(i,t,Gg(r.pendingWriteTree_,e),null)}function em(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function NC(){return(0,be.vA)(_y,"Reference.ts has not been loaded"),_y}())(r._repo,r._path):r}class C0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new C0(t)}node(){return this.node_}}class BC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Wo(this.path_,e);return new BC(this.syncTree_,t)}node(){return yd(this.syncTree_,this.path_)}}const $C=function(r,e,t){return r&&"object"==typeof r?((0,be.vA)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?A0(r[".sv"],e,t):"object"==typeof r[".sv"]?MS(r[".sv"],e):void(0,be.vA)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},A0=function(r,e,t){if("timestamp"===r)return t.timestamp;(0,be.vA)(!1,"Unexpected server value: "+r)},MS=function(r,e,t){r.hasOwnProperty("increment")||(0,be.vA)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const i=r.increment;"number"!=typeof i&&(0,be.vA)(!1,"Unexpected increment value: "+i);const a=e.node();if((0,be.vA)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const f=a.getValue();return"number"!=typeof f?i:f+i},b0=function(r,e,t,i){return S0(e,new BC(t,r),i)},w0=function(r,e,t){return S0(r,new C0(e),t)};function S0(r,e,t){const i=r.getPriority().val(),a=$C(i,e.getImmediateChild(".priority"),t);let c;if(r.isLeafNode()){const f=r,_=$C(f.getValue(),e,t);return _!==f.getValue()||a!==f.getPriority().val()?new bh(_,Ko(a)):r}{const f=r;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new bh(a))),f.forEachChild(Do,(_,I)=>{const w=S0(I,e.getImmediateChild(_),t);w!==I&&(c=c.updateImmediateChild(_,w))}),c}}class R0{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function np(r,e){let t=e instanceof xi?e:new xi(e),i=r,a=vi(t);for(;null!==a;){const c=(0,be.yw)(i.node.children,a)||{children:{},childCount:0};i=new R0(a,i,c),t=ho(t),a=vi(t)}return i}function Ed(r){return r.node.value}function M0(r,e){r.node.value=e,Iy(r)}function nm(r){return r.node.childCount>0}function O0(r,e){As(r.node.children,(t,i)=>{e(new R0(t,r,i))})}function N0(r,e,t,i){t&&!i&&e(r),O0(r,a=>{N0(a,e,!0,i)}),t&&i&&e(r)}function rp(r){return new xi(null===r.parent?r.name:rp(r.parent)+"/"+r.name)}function Iy(r){null!==r.parent&&function jC(r,e,t){const i=function P0(r){return void 0===Ed(r)&&!nm(r)}(t),a=(0,be.gR)(r.node.children,e);i&&a?(delete r.node.children[e],r.node.childCount--,Iy(r)):!i&&!a&&(r.node.children[e]=t.node,r.node.childCount++,Iy(r))}(r.parent,r.name,r)}const x0=/[\[\].#$\/\u0000-\u001F\u007F]/,SP=/[\[\].#$\u0000-\u001F\u007F]/,k0=10485760,Ty=function(r){return"string"==typeof r&&0!==r.length&&!x0.test(r)},WC=function(r){return"string"==typeof r&&0!==r.length&&!SP.test(r)},ip=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Lf(r)||r&&"object"==typeof r&&(0,be.gR)(r,".sv")},pc=function(r,e,t,i){i&&void 0===e||op((0,be.dI)(r,"value"),e,t)},op=function(r,e,t){const i=t instanceof xi?new Q_(t,r):t;if(void 0===e)throw new Error(r+"contains undefined "+kl(i));if("function"==typeof e)throw new Error(r+"contains a function "+kl(i)+" with contents = "+e.toString());if(Lf(e))throw new Error(r+"contains "+e.toString()+" "+kl(i));if("string"==typeof e&&e.length>k0/3&&(0,be.OE)(e)>k0)throw new Error(r+"contains a string greater than "+k0+" utf8 bytes "+kl(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let a=!1,c=!1;if(As(e,(f,_)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(c=!0,!Ty(f)))throw new Error(r+" contains an invalid key ("+f+") "+kl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function jw(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=(0,be.OE)(e),KE(r)})(i,f),op(r,_,i),function Ww(r){const e=r.parts_.pop();r.byteLength_-=(0,be.OE)(e),r.parts_.length>0&&(r.byteLength_-=1)}(i)}),a&&c)throw new Error(r+' contains ".value" child '+kl(i)+" in addition to actual children.")}},zC=function(r,e,t,i){if(i&&void 0===e)return;const a=(0,be.dI)(r,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const c=[];As(e,(f,_)=>{const I=new xi(f);if(op(a,_,Wo(t,I)),".priority"===q_(I)&&!ip(_))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(I)}),function(r,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const c=xg(i);for(let f=0;f<c.length;f++)if((".priority"!==c[f]||f!==c.length-1)&&!Ty(c[f]))throw new Error(r+"contains an invalid key ("+c[f]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(DP);let a=null;for(t=0;t<e.length;t++){if(i=e[t],null!==a&&Sa(a,i))throw new Error(r+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,c)},L0=function(r,e,t){if(!t||void 0!==e){if(Lf(e))throw new Error((0,be.dI)(r,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ip(e))throw new Error((0,be.dI)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sp=function(r,e,t,i){if(!(i&&void 0===t||Ty(t)))throw new Error((0,be.dI)(r,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rm=function(r,e,t,i){if(!(i&&void 0===t||WC(t)))throw new Error((0,be.dI)(r,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ma=function(r,e){if(".info"===vi(e))throw new Error(r+" failed = Can't modify data under /.info/")},F0=function(r,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ty(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),WC(r)}(t))throw new Error((0,be.dI)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class XC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dy(r,e){let t=null;for(let i=0;i<e.length;i++){const a=e[i],c=a.getPath();null!==t&&!zD(c,t.path)&&(r.eventLists_.push(t),t=null),null===t&&(t={events:[],path:c}),t.events.push(a)}t&&r.eventLists_.push(t)}function qC(r,e,t){Dy(r,t),V0(r,i=>zD(i,e))}function el(r,e,t){Dy(r,t),V0(r,i=>Sa(i,e)||Sa(e,i))}function V0(r,e){r.recursionDepth_++;let t=!0;for(let i=0;i<r.eventLists_.length;i++){const a=r.eventLists_[i];a&&(e(a.path)?(RP(r.eventLists_[i]),r.eventLists_[i]=null):t=!1)}t&&(r.eventLists_=[]),r.recursionDepth_--}function RP(r){for(let e=0;e<r.events.length;e++){const t=r.events[e];if(null!==t){r.events[e]=null;const i=t.getEventRunner();cd&&ys("event: "+t.toString()),Ch(i)}}}const OS="repo_interrupt";class PP{constructor(e,t,i,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oy(),this.transactionQueueTree_=new R0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NS(r){const t=r.infoData_.getNode(new xi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Cy(r){return function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r}({timestamp:NS(r)})}function QC(r,e,t,i,a){r.dataUpdateCount++;const c=new xi(e);t=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,t):t;let f=[];if(a)if(i){const I=(0,be.kH)(t,w=>Ko(w));f=function bS(r,e,t,i){const a=T0(r,i);if(a){const c=D0(a),f=c.path,_=c.queryId,I=ua(f,e),w=Co.fromObject(t);return Ey(r,f,new Wg(t0(_),I,w))}return[]}(r.serverSyncTree_,c,I,a)}else{const I=Ko(t);f=LC(r.serverSyncTree_,c,I,a)}else if(i){const I=(0,be.kH)(t,w=>Ko(w));f=function bP(r,e,t){const i=Co.fromObject(t);return ep(r,new Wg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(r.serverSyncTree_,c,I)}else{const I=Ko(t);f=Jg(r.serverSyncTree_,c,I)}let _=c;f.length>0&&(_=im(r,c)),el(r.eventQueue_,_,f)}function YC(r,e){U0(r,"connected",e),!1===e&&function NP(r){ap(r,"onDisconnectEvents");const e=Cy(r),t=oy();os(r.onDisconnect_,Wi(),(a,c)=>{const f=b0(a,c,r.serverSyncTree_,e);Rh(t,a,f)});let i=[];os(t,Wi(),(a,c)=>{i=i.concat(Jg(r.serverSyncTree_,a,c));const f=wy(r,a);im(r,f)}),r.onDisconnect_=oy(),el(r.eventQueue_,Wi(),i)}(r)}function U0(r,e,t){const i=new xi("/.info/"+e),a=Ko(t);r.infoData_.updateSnapshot(i,a);const c=Jg(r.infoSyncTree_,i,a);el(r.eventQueue_,i,c)}function B0(r){return r.nextWriteId_++}function Ay(r,e,t,i,a){ap(r,"set",{path:e.toString(),value:t,priority:i});const c=Cy(r),f=Ko(t,i),_=yd(r.serverSyncTree_,e),I=w0(f,_,c),w=B0(r),V=yy(r.serverSyncTree_,e,I,w,!0);Dy(r.eventQueue_,V),r.server_.put(e.toString(),f.val(!0),(ce,Ke)=>{const At="ok"===ce;At||vs("set at "+e+" failed: "+ce);const Wt=_d(r.serverSyncTree_,w,!At);el(r.eventQueue_,e,Wt),ru(0,a,ce,Ke)});const Q=wy(r,e);im(r,Q),el(r.eventQueue_,Q,[])}function $0(r,e,t){r.server_.onDisconnectCancel(e.toString(),(i,a)=>{"ok"===i&&ZE(r.onDisconnect_,e),ru(0,t,i,a)})}function ZC(r,e,t,i){const a=Ko(t);r.server_.onDisconnectPut(e.toString(),a.val(!0),(c,f)=>{"ok"===c&&Rh(r.onDisconnect_,e,a),ru(0,i,c,f)})}function nA(r,e,t){let i;i=".info"===vi(e._path)?vy(r.infoSyncTree_,e,t):vy(r.serverSyncTree_,e,t),qC(r.eventQueue_,e._path,i)}function W0(r){r.persistentConnection_&&r.persistentConnection_.interrupt(OS)}function ap(r,...e){let t="";r.persistentConnection_&&(t=r.persistentConnection_.id+":"),ys(t,...e)}function ru(r,e,t,i){e&&Ch(()=>{if("ok"===t)e(null);else{const a=(t||"error").toUpperCase();let c=a;i&&(c+=": "+i);const f=new Error(c);f.code=a,e(f)}})}function rA(r,e,t){return yd(r.serverSyncTree_,e,t)||ti.EMPTY_NODE}function K0(r,e=r.transactionQueueTree_){if(e||by(r,e),Ed(e)){const t=om(r,e);(0,be.vA)(t.length>0,"Sending zero length transaction queue"),t.every(a=>0===a.status)&&function FS(r,e,t){const i=t.map(w=>w.currentWriteId),a=rA(r,e,i);let c=a;const f=a.hash();for(let w=0;w<t.length;w++){const V=t[w];(0,be.vA)(0===V.status,"tryToSendTransactionQueue_: items in queue should all be run."),V.status=1,V.retryCount++;const Q=ua(e,V.path);c=c.updateChild(Q,V.currentOutputSnapshotRaw)}const _=c.val(!0),I=e;r.server_.put(I.toString(),_,w=>{ap(r,"transaction put response",{path:I.toString(),status:w});let V=[];if("ok"===w){const Q=[];for(let ce=0;ce<t.length;ce++)t[ce].status=2,V=V.concat(_d(r.serverSyncTree_,t[ce].currentWriteId)),t[ce].onComplete&&Q.push(()=>t[ce].onComplete(null,!0,t[ce].currentOutputSnapshotResolved)),t[ce].unwatcher();by(r,np(r.transactionQueueTree_,e)),K0(r,r.transactionQueueTree_),el(r.eventQueue_,e,V);for(let ce=0;ce<Q.length;ce++)Ch(Q[ce])}else{if("datastale"===w)for(let Q=0;Q<t.length;Q++)t[Q].status=3===t[Q].status?4:0;else{vs("transaction at "+I.toString()+" failed: "+w);for(let Q=0;Q<t.length;Q++)t[Q].status=4,t[Q].abortReason=w}im(r,e)}},f)}(r,rp(e),t)}else nm(e)&&O0(e,t=>{K0(r,t)})}function im(r,e){const t=H0(r,e),i=rp(t);return function kP(r,e,t){if(0===e.length)return;const i=[];let a=[];const f=e.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<e.length;_++){const I=e[_],w=ua(t,I.path);let Q,V=!1;if((0,be.vA)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)V=!0,Q=I.abortReason,a=a.concat(_d(r.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)V=!0,Q="maxretry",a=a.concat(_d(r.serverSyncTree_,I.currentWriteId,!0));else{const ce=rA(r,I.path,f);I.currentInputSnapshot=ce;const Ke=e[_].update(ce.val());if(void 0!==Ke){op("transaction failed: Data returned ",Ke,I.path);let At=Ko(Ke);"object"==typeof Ke&&null!=Ke&&(0,be.gR)(Ke,".priority")||(At=At.updatePriority(ce.getPriority()));const Ut=I.currentWriteId,wn=Cy(r),Bn=w0(At,ce,wn);I.currentOutputSnapshotRaw=At,I.currentOutputSnapshotResolved=Bn,I.currentWriteId=B0(r),f.splice(f.indexOf(Ut),1),a=a.concat(yy(r.serverSyncTree_,I.path,Bn,I.currentWriteId,I.applyLocally)),a=a.concat(_d(r.serverSyncTree_,Ut,!0))}else V=!0,Q="nodata",a=a.concat(_d(r.serverSyncTree_,I.currentWriteId,!0))}el(r.eventQueue_,t,a),a=[],V&&(e[_].status=2,function(ce){setTimeout(ce,Math.floor(0))}(e[_].unwatcher),e[_].onComplete&&i.push("nodata"===Q?()=>e[_].onComplete(null,!1,e[_].currentInputSnapshot):()=>e[_].onComplete(new Error(Q),!1,null)))}by(r,r.transactionQueueTree_);for(let _=0;_<i.length;_++)Ch(i[_]);K0(r,r.transactionQueueTree_)}(r,om(r,t),i),i}function H0(r,e){let t,i=r.transactionQueueTree_;for(t=vi(e);null!==t&&void 0===Ed(i);)i=np(i,t),t=vi(e=ho(e));return i}function om(r,e){const t=[];return iA(r,e,t),t.sort((i,a)=>i.order-a.order),t}function iA(r,e,t){const i=Ed(e);if(i)for(let a=0;a<i.length;a++)t.push(i[a]);O0(e,a=>{iA(r,a,t)})}function by(r,e){const t=Ed(e);if(t){let i=0;for(let a=0;a<t.length;a++)2!==t[a].status&&(t[i]=t[a],i++);t.length=i,M0(e,t.length>0?t:void 0)}O0(e,i=>{by(r,i)})}function wy(r,e){const t=rp(H0(r,e)),i=np(r.transactionQueueTree_,e);return function PS(r,e,t){let i=t?r:r.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,a=>{iu(r,a)}),iu(r,i),N0(i,a=>{iu(r,a)}),t}function iu(r,e){const t=Ed(e);if(t){const i=[];let a=[],c=-1;for(let f=0;f<t.length;f++)3===t[f].status||(1===t[f].status?((0,be.vA)(c===f-1,"All SENT items should be at beginning of queue."),c=f,t[f].status=3,t[f].abortReason="set"):((0,be.vA)(0===t[f].status,"Unexpected transaction status in abort"),t[f].unwatcher(),a=a.concat(_d(r.serverSyncTree_,t[f].currentWriteId,!0)),t[f].onComplete&&i.push(t[f].onComplete.bind(null,new Error("set"),!1,null))));-1===c?M0(e,void 0):t.length=c+1,el(r.eventQueue_,rp(e),a);for(let f=0;f<i.length;f++)Ch(i[f])}}const sm=function(r,e){const t=VS(r),i=t.namespace;return"firebase.com"===t.domain&&Ol(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ol("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ME(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new xi(t.pathString)}},VS=function(r){let e="",t="",i="",a="",c="",f=!0,_="https",I=443;if("string"==typeof r){let w=r.indexOf("//");w>=0&&(_=r.substring(0,w-1),r=r.substring(w+2));let V=r.indexOf("/");-1===V&&(V=r.length);let Q=r.indexOf("?");-1===Q&&(Q=r.length),e=r.substring(0,Math.min(V,Q)),V<Q&&(a=function oA(r){let e="";const t=r.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let a=t[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}(r.substring(V,Q)));const ce=function z0(r){const e={};"?"===r.charAt(0)&&(r=r.substring(1));for(const t of r.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vs(`Invalid query segment '${t}' in query '${r}'`)}return e}(r.substring(Math.min(r.length,Q)));w=e.indexOf(":"),w>=0?(f="https"===_||"wss"===_,I=parseInt(e.substring(w+1),10)):w=e.length;const Ke=e.slice(0,w);if("localhost"===Ke.toLowerCase())t="localhost";else if(Ke.split(".").length<=2)t=Ke;else{const At=e.indexOf(".");i=e.substring(0,At).toLowerCase(),t=e.substring(At+1),c=i}"ns"in ce&&(c=ce.ns)}return{host:e,port:I,domain:t,subdomain:i,secure:f,scheme:_,pathString:a,namespace:c}},Sy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ry=function(){let r=0;const e=[];return function(t){const i=t===r;let a;r=t;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Sy.charAt(t%64),t=Math.floor(t/64);(0,be.vA)(0===t,"Cannot push at time == 0");let f=c.join("");if(i){for(a=11;a>=0&&63===e[a];a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=Sy.charAt(e[a]);return(0,be.vA)(20===f.length,"nextPushId: Length should be 20."),f}}();class n{constructor(e,t,i,a){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,be.As)(this.snapshot.exportVal())}}class o{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class s{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,be.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class l{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new be.cY;return $0(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ma("OnDisconnect.remove",this._path);const e=new be.cY;return ZC(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ma("OnDisconnect.set",this._path),pc("OnDisconnect.set",e,this._path,!1);const t=new be.cY;return ZC(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Ma("OnDisconnect.setWithPriority",this._path),pc("OnDisconnect.setWithPriority",e,this._path,!1),L0("OnDisconnect.setWithPriority",t,!1);const i=new be.cY;return function eA(r,e,t,i,a){const c=Ko(t,i);r.server_.onDisconnectPut(e.toString(),c.val(!0),(f,_)=>{"ok"===f&&Rh(r.onDisconnect_,e,c),ru(0,a,f,_)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Ma("OnDisconnect.update",this._path),zC("OnDisconnect.update",e,this._path,!1);const t=new be.cY;return function j0(r,e,t,i){if((0,be.Im)(t))return ys("onDisconnect().update() called with empty data.  Don't do anything."),void ru(0,i,"ok",void 0);r.server_.onDisconnectMerge(e.toString(),t,(a,c)=>{"ok"===a&&As(t,(f,_)=>{const I=Ko(_);Rh(r.onDisconnect_,Wo(e,f),I)}),ru(0,i,a,c)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class d{constructor(e,t,i,a){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=a}get key(){return Ei(this._path)?null:q_(this._path)}get ref(){return new b(this._repo,this._path)}get _queryIdentifier(){const e=oC(this._queryParams),t=Ff(e);return"{}"===t?"default":t}get _queryObject(){return oC(this._queryParams)}isEqual(e){if(!((e=(0,be.Ku)(e))instanceof d))return!1;const t=this._repo===e._repo,i=zD(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function HD(r){let e="";for(let t=r.pieceNum_;t<r.pieces_.length;t++)""!==r.pieces_[t]&&(e+="/"+encodeURIComponent(String(r.pieces_[t])));return e||"/"}(this._path)}}function g(r,e){if(!0===r._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function v(r){let e=null,t=null;if(r.hasStart()&&(e=r.getIndexStartValue()),r.hasEnd()&&(t=r.getIndexEndValue()),r.getIndex()===hc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==Nl)throw new Error(i);if("string"!=typeof e)throw new Error(a)}if(r.hasEnd()){if(r.getIndexEndName()!==Qc)throw new Error(i);if("string"!=typeof t)throw new Error(a)}}else if(r.getIndex()===Do){if(null!=e&&!ip(e)||null!=t&&!ip(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,be.vA)(r.getIndex()instanceof Ug||r.getIndex()===qE,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function C(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class b extends d{constructor(e,t){super(e,t,new ny,!1)}get parent(){const e=WE(this._path);return null===e?null:new b(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class W{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new xi(e),i=ze(this.ref,e);return new W(this._node.getChild(t),i,Do)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>e(new W(a,ze(this.ref,i),Do)))}hasChild(e){const t=new xi(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function J(r,e){return(r=(0,be.Ku)(r))._checkNotDeleted("ref"),void 0!==e?ze(r._root,e):r._root}function me(r,e){(r=(0,be.Ku)(r))._checkNotDeleted("refFromURL");const t=sm(e,r._repo.repoInfo_.nodeAdmin);F0("refFromURL",t);const i=t.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&i.host!==r._repo.repoInfo_.host&&Ol("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+r._repo.repoInfo_.host+")"),J(r,t.path.toString())}function ze(r,e){return null===vi((r=(0,be.Ku)(r))._path)?((t=e)&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rm("child","path",t,!1)):rm("child","path",e,!1),new b(r._repo,Wo(r._path,e));var t}function hr(r,e){r=(0,be.Ku)(r),Ma("set",r._path),pc("set",e,r._path,!1);const t=new be.cY;return Ay(r._repo,r._path,e,null,t.wrapCallback(()=>{})),t.promise}function eo(r,e){zC("update",e,r._path,!1);const t=new be.cY;return function JC(r,e,t,i){ap(r,"update",{path:e.toString(),value:t});let a=!0;const c=Cy(r),f={};if(As(t,(_,I)=>{a=!1,f[_]=b0(Wo(e,_),Ko(I),r.serverSyncTree_,c)}),a)ys("update() called with empty data.  Don't do anything."),ru(0,i,"ok",void 0);else{const _=B0(r),I=function kC(r,e,t,i){!function cS(r,e,t,i){(0,be.vA)(i>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:e,children:t,writeId:i,visible:!0}),r.visibleWrites=s0(r.visibleWrites,e,t),r.lastWriteId=i}(r.pendingWriteTree_,e,t,i);const a=Co.fromObject(t);return ep(r,new Wg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,a))}(r.serverSyncTree_,e,f,_);Dy(r.eventQueue_,I),r.server_.merge(e.toString(),t,(w,V)=>{const Q="ok"===w;Q||vs("update at "+e+" failed: "+w);const ce=_d(r.serverSyncTree_,_,!Q),Ke=ce.length>0?im(r,e):e;el(r.eventQueue_,Ke,ce),ru(0,i,w,V)}),As(t,w=>{const V=wy(r,Wo(e,w));im(r,V)}),el(r.eventQueue_,e,[])}}(r._repo,r._path,e,t.wrapCallback(()=>{})),t.promise}function Fs(r){r=(0,be.Ku)(r);const e=new s(()=>{}),t=new fo(e);return function kS(r,e,t){const i=function wS(r,e){const t=e._path;let i=null;r.syncPointTree_.foreachOnPath(t,(w,V)=>{const Q=ua(w,t);i=i||gd(V,Q)});let a=r.syncPointTree_.get(t);a?i=i||gd(a,Wi()):(a=new SC,r.syncPointTree_=r.syncPointTree_.set(t,a));const c=null!=i,f=c?new eu(i,!0,!1):null;return function v0(r){return zg(r.viewCache_)}(RC(a,e,Gg(r.pendingWriteTree_,e._path),c?f.getNode():ti.EMPTY_NODE,c))}(r.serverSyncTree_,e);return null!=i?Promise.resolve(i):r.server_.get(e).then(a=>{const c=Ko(a).withIndex(e._queryParams.getIndex());let f;if(I0(r.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())f=Jg(r.serverSyncTree_,e._path,c);else{const _=Zg(r.serverSyncTree_,e);f=LC(r.serverSyncTree_,e._path,c,_)}return el(r.eventQueue_,e._path,f),vy(r.serverSyncTree_,e,t,null,!0),c},a=>(ap(r,"get for query "+(0,be.As)(e)+" failed: "+a),Promise.reject(new Error(a))))}(r._repo,r,t).then(i=>new W(i,new b(r._repo,r._path),r._queryParams.getIndex()))}class fo{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new n("value",this,new W(e.snapshotNode,new b(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new o(this,e,t):null}matches(e){return e instanceof fo&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class tl{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new o(this,e,t):null}createEvent(e,t){(0,be.vA)(null!=e.childName,"Child events should have a childName.");const i=ze(new b(t._repo,t._path),e.childName),a=t._queryParams.getIndex();return new n(e.type,this,new W(e.snapshotNode,i,a),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof tl&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vl(r,e,t,i,a){let c;if("object"==typeof i&&(c=void 0,a=i),"function"==typeof i&&(c=i),a&&a.onlyOnce){const I=t,w=(V,Q)=>{nA(r._repo,r,_),I(V,Q)};w.userCallback=t.userCallback,w.context=t.context,t=w}const f=new s(t,c||void 0),_="value"===e?new fo(f):new tl(e,f);return function tA(r,e,t){let i;i=".info"===vi(e._path)?I0(r.infoSyncTree_,e,t):I0(r.serverSyncTree_,e,t),qC(r.eventQueue_,e._path,i)}(r._repo,r,_),()=>nA(r._repo,r,_)}function My(r,e,t,i){return Vl(r,"value",e,t,i)}function US(r,e,t,i){return Vl(r,"child_added",e,t,i)}function LP(r,e,t,i){return Vl(r,"child_changed",e,t,i)}function FP(r,e,t,i){return Vl(r,"child_moved",e,t,i)}function VP(r,e,t,i){return Vl(r,"child_removed",e,t,i)}function UP(r,e,t){let i=null;const a=t?new s(t):null;"value"===e?i=new fo(a):e&&(i=new tl(e,a)),nA(r._repo,r,i)}class ou{}class BP extends ou{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){pc("endAt",this._value,e._path,!0);const t=YE(e._queryParams,this._value,this._key);if(C(t),v(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new d(e._repo,e._path,t,e._orderByCalled)}}class sN extends ou{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){pc("endBefore",this._value,e._path,!1);const t=function JE(r,e,t){let i;return i=YE(r,e,r.index_===hc||t?t:Nl),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(C(t),v(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new d(e._repo,e._path,t,e._orderByCalled)}}class $P extends ou{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){pc("startAt",this._value,e._path,!0);const t=Jc(e._queryParams,this._value,this._key);if(C(t),v(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new d(e._repo,e._path,t,e._orderByCalled)}}class cN extends ou{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){pc("startAfter",this._value,e._path,!1);const t=function tS(r,e,t){let i;return i=Jc(r,e,r.index_===hc||t?t:Qc),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(C(t),v(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new d(e._repo,e._path,t,e._orderByCalled)}}class dN extends ou{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new d(e._repo,e._path,function iC(r,e){const t=r.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class fN extends ou{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new d(e._repo,e._path,function ry(r,e){const t=r.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class gN extends ou{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){g(e,"orderByChild");const t=new xi(this._path);if(Ei(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Ug(t),a=Zc(e._queryParams,i);return v(a),new d(e._repo,e._path,a,!0)}}class _N extends ou{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){g(e,"orderByKey");const t=Zc(e._queryParams,hc);return v(t),new d(e._repo,e._path,t,!0)}}class vN extends ou{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){g(e,"orderByPriority");const t=Zc(e._queryParams,Do);return v(t),new d(e._repo,e._path,t,!0)}}class IN extends ou{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){g(e,"orderByValue");const t=Zc(e._queryParams,qE);return v(t),new d(e._repo,e._path,t,!0)}}class DN extends ou{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(pc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new BP(this._value,this._key)._apply(new $P(this._value,this._key)._apply(e))}}function su(r,...e){let t=(0,be.Ku)(r);for(const i of e)t=i._apply(t);return t}(function IS(r){(0,be.vA)(!Qg,"__referenceConstructor has already been defined"),Qg=r})(b),function Yg(r){(0,be.vA)(!_y,"__referenceConstructor has already been defined"),_y=r}(b);const BS={};function $S(r,e,t,i,a){let c=i||r.options.databaseURL;void 0===c&&(r.options.projectId||Ol("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ys("Using default host for project ",r.options.projectId),c=`${r.options.projectId}-default-rtdb.firebaseio.com`);let I,w,f=sm(c,a),_=f.repoInfo;typeof process<"u"&&process.env&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(I=!0,c=`http://${w}?ns=${_.namespace}`,f=sm(c,a),_=f.repoInfo):I=!f.repoInfo.secure;const V=a&&I?new Sg(Sg.OWNER):new SE(r.name,r.options,e);F0("Invalid Firebase Database URL",f),Ei(f.path)||Ol("Database URL must point to the root of a Firebase Database (not including a child path).");const Q=function SN(r,e,t,i){let a=BS[e.name];a||(a={},BS[e.name]=a);let c=a[r.toURLString()];return c&&Ol("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new PP(r,false,t,i),a[r.toURLString()]=c,c}(_,r,V,new Mw(r.name,t));return new MN(Q,r)}class MN{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function OP(r,e,t){if(r.stats_=Bf(r.repoInfo_),r.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)r.server_=new Qf(r.repoInfo_,(i,a,c,f)=>{QC(r,i,a,c,f)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>YC(r,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,be.As)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}r.persistentConnection_=new Ah(r.repoInfo_,e,(i,a,c,f)=>{QC(r,i,a,c,f)},i=>{YC(r,i)},i=>{!function xS(r,e){As(e,(t,i)=>{U0(r,t,i)})}(r,i)},r.authTokenProvider_,r.appCheckProvider_,t),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(i=>{r.server_.refreshAuthToken(i)}),r.appCheckProvider_.addTokenChangeListener(i=>{r.server_.refreshAppCheckToken(i.token)}),r.statsReporter_=function OE(r,e){const t=r.toString();return Uf[t]||(Uf[t]=e()),Uf[t]}(r.repoInfo_,()=>new cC(r.stats_,r.server_)),r.infoData_=new nS,r.infoSyncTree_=new E0({startListening:(i,a,c,f)=>{let _=[];const I=r.infoData_.getNode(i._path);return I.isEmpty()||(_=Jg(r.infoSyncTree_,i._path,I),setTimeout(()=>{f("ok")},0)),_},stopListening:()=>{}}),U0(r,"connected",!1),r.serverSyncTree_=new E0({startListening:(i,a,c,f)=>(r.server_.listen(i,c,a,(_,I)=>{const w=f(_,I);el(r.eventQueue_,i._path,w)}),[]),stopListening:(i,a)=>{r.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new b(this._repo,Wi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wN(r,e){const t=BS[e];(!t||t[r.key]!==r)&&Ol(`Database ${e}(${r.repoInfo_}) has already been deleted.`),W0(r),delete t[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ol("Cannot call "+e+" on a deleted database.")}}function WP(){Vw.IS_TRANSPORT_INITIALIZED&&vs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function PN(){WP(),xl.forceDisallow()}function ON(){WP(),dd.forceDisallow(),xl.forceAllow()}function kN(r,e){ud(r,e)}const FN={".sv":"timestamp"};class BN{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ah.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)},Ah.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)},function LN(r){CD(ao.SDK_VERSION),(0,ao._registerComponent)(new as.uA("database",(e,{instanceIdentifier:t})=>$S(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,ao.registerVersion)(DD,"1.0.8",r),(0,ao.registerVersion)(DD,"1.0.8","esm2017")}();const KN=new ts.Vy("@firebase/database-compat"),HP=function(r){KN.warn("FIREBASE WARNING: "+r)};class GN{constructor(e){this._delegate=e}cancel(e){(0,be.od)("OnDisconnect.cancel",0,1,arguments.length),(0,be.oD)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,be.od)("OnDisconnect.remove",0,1,arguments.length),(0,be.oD)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,be.od)("OnDisconnect.set",1,2,arguments.length),(0,be.oD)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),a=>t(a)),i}setWithPriority(e,t,i){(0,be.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,be.oD)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(e,t);return i&&a.then(()=>i(null),c=>i(c)),a}update(e,t){if((0,be.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const a={};for(let c=0;c<e.length;++c)a[""+c]=e[c];e=a,HP("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,be.oD)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),a=>t(a)),i}}class XN{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,be.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class lp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,be.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,be.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,be.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,be.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,be.od)("DataSnapshot.child",0,1,arguments.length),e=String(e),rm("DataSnapshot.child","path",e,!1),new lp(this._database,this._delegate.child(e))}hasChild(e){return(0,be.od)("DataSnapshot.hasChild",1,1,arguments.length),rm("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,be.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,be.od)("DataSnapshot.forEach",1,1,arguments.length),(0,be.oD)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new lp(this._database,t)))}hasChildren(){return(0,be.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,be.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,be.od)("DataSnapshot.ref",0,0,arguments.length),new Ul(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Js{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,a){var c;(0,be.od)("Query.on",2,4,arguments.length),(0,be.oD)("Query.on","callback",t,!1);const f=Js.getCancelAndContextArgs_("Query.on",i,a),_=(w,V)=>{t.call(f.context,new lp(this.database,w),V)};_.userCallback=t,_.context=f.context;const I=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(e){case"value":return My(this._delegate,_,I),t;case"child_added":return US(this._delegate,_,I),t;case"child_removed":return VP(this._delegate,_,I),t;case"child_changed":return LP(this._delegate,_,I),t;case"child_moved":return FP(this._delegate,_,I),t;default:throw new Error((0,be.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,be.od)("Query.off",0,3,arguments.length),function(r,e){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,be.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,be.oD)("Query.off","callback",t,!0),(0,be.HN)("Query.off","context",i,!0),t){const a=()=>{};a.userCallback=t,a.context=i,UP(this._delegate,e,a)}else UP(this._delegate,e)}get(){return Fs(this._delegate).then(e=>new lp(this.database,e))}once(e,t,i,a){(0,be.od)("Query.once",1,4,arguments.length),(0,be.oD)("Query.once","callback",t,!0);const c=Js.getCancelAndContextArgs_("Query.once",i,a),f=new be.cY,_=(w,V)=>{const Q=new lp(this.database,w);t&&t.call(c.context,Q,V),f.resolve(Q)};_.userCallback=t,_.context=c.context;const I=w=>{c.cancel&&c.cancel.call(c.context,w),f.reject(w)};switch(e){case"value":My(this._delegate,_,I,{onlyOnce:!0});break;case"child_added":US(this._delegate,_,I,{onlyOnce:!0});break;case"child_removed":VP(this._delegate,_,I,{onlyOnce:!0});break;case"child_changed":LP(this._delegate,_,I,{onlyOnce:!0});break;case"child_moved":FP(this._delegate,_,I,{onlyOnce:!0});break;default:throw new Error((0,be.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(e){return(0,be.od)("Query.limitToFirst",1,1,arguments.length),new Js(this.database,su(this._delegate,function hN(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new dN(r)}(e)))}limitToLast(e){return(0,be.od)("Query.limitToLast",1,1,arguments.length),new Js(this.database,su(this._delegate,function pN(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fN(r)}(e)))}orderByChild(e){return(0,be.od)("Query.orderByChild",1,1,arguments.length),new Js(this.database,su(this._delegate,function mN(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rm("orderByChild","path",r,!1),new gN(r)}(e)))}orderByKey(){return(0,be.od)("Query.orderByKey",0,0,arguments.length),new Js(this.database,su(this._delegate,function yN(){return new _N}()))}orderByPriority(){return(0,be.od)("Query.orderByPriority",0,0,arguments.length),new Js(this.database,su(this._delegate,function EN(){return new vN}()))}orderByValue(){return(0,be.od)("Query.orderByValue",0,0,arguments.length),new Js(this.database,su(this._delegate,function TN(){return new IN}()))}startAt(e=null,t){return(0,be.od)("Query.startAt",0,2,arguments.length),new Js(this.database,su(this._delegate,function lN(r=null,e){return sp("startAt","key",e,!0),new $P(r,e)}(e,t)))}startAfter(e=null,t){return(0,be.od)("Query.startAfter",0,2,arguments.length),new Js(this.database,su(this._delegate,function uN(r,e){return sp("startAfter","key",e,!0),new cN(r,e)}(e,t)))}endAt(e=null,t){return(0,be.od)("Query.endAt",0,2,arguments.length),new Js(this.database,su(this._delegate,function oN(r,e){return sp("endAt","key",e,!0),new BP(r,e)}(e,t)))}endBefore(e=null,t){return(0,be.od)("Query.endBefore",0,2,arguments.length),new Js(this.database,su(this._delegate,function aN(r,e){return sp("endBefore","key",e,!0),new sN(r,e)}(e,t)))}equalTo(e,t){return(0,be.od)("Query.equalTo",1,2,arguments.length),new Js(this.database,su(this._delegate,function CN(r,e){return sp("equalTo","key",e,!0),new DN(r,e)}(e,t)))}toString(){return(0,be.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,be.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,be.od)("Query.isEqual",1,1,arguments.length),!(e instanceof Js))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const a={cancel:void 0,context:void 0};if(t&&i)a.cancel=t,(0,be.oD)(e,"cancel",a.cancel,!0),a.context=i,(0,be.HN)(e,"context",a.context,!0);else if(t)if("object"==typeof t&&null!==t)a.context=t;else{if("function"!=typeof t)throw new Error((0,be.dI)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=t}return a}get ref(){return new Ul(this.database,new b(this._delegate._repo,this._delegate._path))}}class Ul extends Js{constructor(e,t){super(e,new d(t._repo,t._path,new ny,!1)),this.database=e,this._delegate=t}getKey(){return(0,be.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,be.od)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ul(this.database,ze(this._delegate,e))}getParent(){(0,be.od)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ul(this.database,e):null}getRoot(){return(0,be.od)("Reference.root",0,0,arguments.length),new Ul(this.database,this._delegate.root)}set(e,t){(0,be.od)("Reference.set",1,2,arguments.length),(0,be.oD)("Reference.set","onComplete",t,!0);const i=hr(this._delegate,e);return t&&i.then(()=>t(null),a=>t(a)),i}update(e,t){if((0,be.od)("Reference.update",1,2,arguments.length),Array.isArray(e)){const a={};for(let c=0;c<e.length;++c)a[""+c]=e[c];e=a,HP("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ma("Reference.update",this._delegate._path),(0,be.oD)("Reference.update","onComplete",t,!0);const i=eo(this._delegate,e);return t&&i.then(()=>t(null),a=>t(a)),i}setWithPriority(e,t,i){(0,be.od)("Reference.setWithPriority",2,3,arguments.length),(0,be.oD)("Reference.setWithPriority","onComplete",i,!0);const a=function xn(r,e,t){if(Ma("setWithPriority",r._path),pc("setWithPriority",e,r._path,!1),L0("setWithPriority",t,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const i=new be.cY;return Ay(r._repo,r._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&a.then(()=>i(null),c=>i(c)),a}remove(e){(0,be.od)("Reference.remove",0,1,arguments.length),(0,be.oD)("Reference.remove","onComplete",e,!0);const t=function Rn(r){return Ma("remove",r._path),hr(r,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,be.od)("Reference.transaction",1,3,arguments.length),(0,be.oD)("Reference.transaction","transactionUpdate",e,!1),(0,be.oD)("Reference.transaction","onComplete",t,!0),function(r,e,t){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,be.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function $N(r,e,t){var i;if(r=(0,be.Ku)(r),Ma("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const a=null===(i=t?.applyLocally)||void 0===i||i,c=new be.cY,_=My(r,()=>{});return function LS(r,e,t,i,a,c){ap(r,"transaction on "+e);const f={path:e,update:t,onComplete:i,status:null,order:Th(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=rA(r,e,void 0);f.currentInputSnapshot=_;const I=f.update(_.val());if(void 0===I)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{op("transaction failed: Data returned ",I,f.path),f.status=0;const w=np(r.transactionQueueTree_,e),V=Ed(w)||[];let Q;V.push(f),M0(w,V),"object"==typeof I&&null!==I&&(0,be.gR)(I,".priority")?(Q=(0,be.yw)(I,".priority"),(0,be.vA)(ip(Q),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Q=(yd(r.serverSyncTree_,e)||ti.EMPTY_NODE).getPriority().val();const ce=Cy(r),Ke=Ko(I,Q),At=w0(Ke,_,ce);f.currentOutputSnapshotRaw=Ke,f.currentOutputSnapshotResolved=At,f.currentWriteId=B0(r);const Wt=yy(r.serverSyncTree_,e,At,f.currentWriteId,f.applyLocally);el(r.eventQueue_,e,Wt),K0(r,r.transactionQueueTree_)}}(r._repo,r._path,e,(I,w,V)=>{let Q=null;I?c.reject(I):(Q=new W(V,new b(r._repo,r._path),Do),c.resolve(new BN(w,Q)))},_,a),c.promise}(this._delegate,e,{applyLocally:i}).then(c=>new XN(c.committed,new lp(this.database,c.snapshot)));return t&&a.then(c=>t(null,c.committed,c.snapshot),c=>t(c,!1,null)),a}setPriority(e,t){(0,be.od)("Reference.setPriority",1,2,arguments.length),(0,be.oD)("Reference.setPriority","onComplete",t,!0);const i=function _r(r,e){r=(0,be.Ku)(r),Ma("setPriority",r._path),L0("setPriority",e,!1);const t=new be.cY;return Ay(r._repo,Wo(r._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),a=>t(a)),i}push(e,t){(0,be.od)("Reference.push",0,2,arguments.length),(0,be.oD)("Reference.push","onComplete",t,!0);const i=function sn(r,e){r=(0,be.Ku)(r),Ma("push",r._path),pc("push",e,r._path,!0);const t=NS(r._repo),i=Ry(t),a=ze(r,i),c=ze(r,i);let f;return f=null!=e?hr(c,e).then(()=>c):Promise.resolve(c),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,e),a=i.then(f=>new Ul(this.database,f));t&&a.then(()=>t(null),f=>t(f));const c=new Ul(this.database,i);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Ma("Reference.onDisconnect",this._delegate._path),new GN(new l(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class G0{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:PN,forceLongPolling:ON}}useEmulator(e,t,i={}){!function KP(r,e,t,i={}){(r=(0,be.Ku)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&Ol("Cannot call useEmulator() after instance has already been initialized.");const a=r._repoInternal;let c;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Ol('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Sg(Sg.OWNER);else if(i.mockUserToken){const f="string"==typeof i.mockUserToken?i.mockUserToken:(0,be.Fy)(i.mockUserToken,r.app.options.projectId);c=new Sg(f)}!function bN(r,e,t,i){r.repoInfo_=new ME(`${e}:${t}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),i&&(r.authTokenProvider_=i)}(a,e,t,c)}(this._delegate,e,t,i)}ref(e){if((0,be.od)("database.ref",0,1,arguments.length),e instanceof Ul){const t=me(this._delegate,e.toString());return new Ul(this,t)}{const t=J(this._delegate,e);return new Ul(this,t)}}refFromURL(e){(0,be.od)("database.refFromURL",1,1,arguments.length);const i=me(this._delegate,e);return new Ul(this,i)}goOffline(){return(0,be.od)("database.goOffline",0,0,arguments.length),function NN(r){(r=(0,be.Ku)(r))._checkNotDeleted("goOffline"),W0(r._repo)}(this._delegate)}goOnline(){return(0,be.od)("database.goOnline",0,0,arguments.length),function xN(r){(r=(0,be.Ku)(r))._checkNotDeleted("goOnline"),function xP(r){r.persistentConnection_&&r.persistentConnection_.resume(OS)}(r._repo)}(this._delegate)}}G0.ServerValue={TIMESTAMP:function VN(){return FN}(),increment:r=>function UN(r){return{".sv":{increment:r}}}(r)};var QN=Object.freeze({__proto__:null,initStandalone:function qN({app:r,url:e,version:t,customAuthImpl:i,customAppCheckImpl:a,namespace:c,nodeAdmin:f=!1}){CD(t);const _=new as.h1("database-standalone"),I=new as.Kq("auth-internal",_);let w;return I.setComponent(new as.uA("auth-internal",()=>i,"PRIVATE")),a&&(w=new as.Kq("app-check-internal",_),w.setComponent(new as.uA("app-check-internal",()=>a,"PRIVATE"))),{instance:new G0($S(r,I,w,e,f),r),namespace:c}}});const YN=G0.ServerValue;function X0(r,e,t="on",i=Tr){return new Hr.c(a=>{let c=null;return c=r[t](e,(f,_)=>{i.schedule(()=>{a.next({snapshot:f,prevKey:_})}),"once"===t&&i.schedule(()=>a.complete())},f=>{i.schedule(()=>a.error(f))}),"on"===t?{unsubscribe(){null!=c&&r.off(e,c)}}:{unsubscribe(){}}}).pipe((0,Er.T)(a=>{const{snapshot:c,prevKey:f}=a;let _=null;return c.exists()&&(_=c.key),{type:e,payload:c,prevKey:f,key:_}}),ka())}function zP(r){return null==r}function GP(r){return"function"==typeof r.set}function XP(r,e){return GP(e)?e:r.ref(e)}function qP(r,e){if(function ZN(r){return"string"==typeof r}(r))return e.stringCase();if(GP(r))return e.firebaseCase();if(function ex(r){return"function"==typeof r.exportVal}(r))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function QP(r){return(zP(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function YP(r,e,t){return gc(...(e=QP(e)).map(a=>X0(r,a,"on",t)))}function JP(r,e){return function(i,a){return qP(i,{stringCase:()=>r.child(i)[e](a),firebaseCase:()=>i[e](a),snapshotCase:()=>i.ref[e](a)})}}function ix(r){return function(t){return t?qP(t,{stringCase:()=>r.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):r.remove()}}function ZP(r,e){const t=r.length;for(let i=0;i<t;i++)if(r[i].payload.key===e)return i;return-1}function ax(r,e){const{payload:t,prevKey:i,key:a}=e,c=ZP(r,a),f=function sx(r,e){if(zP(e))return 0;{const t=ZP(r,e);return-1===t?r.length:t+1}}(r,i);switch(e.type){case"value":if(e.payload?.exists()){let _=null;e.payload.forEach(I=>{const w={payload:I,type:"value",prevKey:_,key:I.key};return _=I.key,r=[...r,w],!1})}return r;case"child_added":if(c>-1)(r[c-1]?.key||null)!==i&&(r=r.filter(I=>I.payload.key!==t.key)).splice(f,0,e);else{if(null==i)return[e,...r];(r=r.slice()).splice(f,0,e)}return r;case"child_removed":return r.filter(_=>_.payload.key!==t.key);case"child_changed":return r.map(_=>_.payload.key===a?e:_);case"child_moved":if(c>-1){const _=r.splice(c,1)[0];return(r=r.slice()).splice(f,0,_),r}return r;default:return r}}function eO(r,e,t){return function ox(r,e,t){return X0(r,"value","once",t).pipe((0,Jr.n)(i=>{const a=[(0,Ur.of)(i)];return e.forEach(c=>a.push(X0(r,c,"on",t))),gc(...a).pipe((0,_a.S)(ax,[]))}),(0,Hl.F)())}(r,e=QP(e),t)}function tO(r,e){return function(){return X0(r,"value","on",e)}}!function JN(r){r.INTERNAL.registerComponent(new as.uA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),a=e.getProvider("database").getImmediate({identifier:t});return new G0(a,i)},"PUBLIC").setServiceProps({Reference:Ul,Query:Js,Database:G0,DataSnapshot:lp,enableLogging:kN,INTERNAL:QN,ServerValue:YN}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","1.0.8")}(An.A);const ux=new $.nKC("angularfire2.realtimeDatabaseURL"),dx=new $.nKC("angularfire2.database.use-emulator");let hx=(()=>{class r{schedulers;database;constructor(t,i,a,c,f,_,I,w,V,Q,ce,Ke,At,Wt,Ut){this.schedulers=_;const wn=I,Bn=j(t,f,i);w&&Kl(Bn,f,V,ce,Ke,At,Q,Wt),this.database=jn(`${Bn.name}.database.${a}`,"AngularFireDatabase",Bn.name,()=>{const kn=f.runOutsideAngular(()=>Bn.database(a||void 0));return wn&&kn.useEmulator(...wn),kn},[wn])}list(t,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>XP(this.database,t));let c=a;return i&&(c=i(a)),function lx(r,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>r.ref);return{query:r,update:JP(i,"update"),set:JP(i,"set"),push:a=>i.push(a),remove:ix(i),snapshotChanges:a=>eO(r,a,t).pipe(rn),stateChanges:a=>YP(r,a,t).pipe(rn),auditTrail:a=>function tx(r,e,t){return function rx(r,e,t){return function nx(r,e){return X0(r,"value","on",e).pipe((0,Er.T)(t=>{let i;return t.payload.forEach(a=>(i=a.key,!1)),{data:t,lastKeyToLoad:i}}))}(r,t).pipe(function Dw(...r){const e=(0,xa.ms)(r);return(0,ea.N)((t,i)=>{const a=r.length,c=new Array(a);let f=r.map(()=>!1),_=!1;for(let I=0;I<a;I++)(0,js.Tg)(r[I]).subscribe((0,ma._)(i,w=>{c[I]=w,!_&&!f[I]&&(f[I]=!0,(_=f.every(CE.D))&&(f=null))},Tw.l));t.subscribe((0,ma._)(i,I=>{if(_){const w=[I,...c];i.next(e?e(...w):w)}}))})}(e),(0,Er.T)(([a,c])=>{const f=a.lastKeyToLoad,_=c.map(I=>I.key);return{actions:c,lastKeyToLoad:f,loadedKeys:_}}),function Cw(r){return(0,ea.N)((e,t)=>{let i=!1,a=0;e.subscribe((0,ma._)(t,c=>(i||(i=!r(c,a++)))&&t.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Er.T)(a=>a.actions))}(r,YP(r,e).pipe((0,_a.S)((a,c)=>[...a,c],[])),t)}(r,a,t).pipe(rn),valueChanges:(a,c)=>eO(r,a,t).pipe((0,Er.T)(_=>_.map(I=>c&&c.idField?{...I.payload.val(),[c.idField]:I.key}:I.payload.val())),rn)}}(c,this)}object(t){return function cx(r,e){return{query:r,snapshotChanges:()=>tO(r,e.schedulers.outsideAngular)().pipe(rn),update:t=>r.ref.update(t),set:t=>r.ref.set(t),remove:()=>r.ref.remove(),valueChanges:()=>tO(r,e.schedulers.outsideAngular)().pipe(rn,(0,Er.T)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>XP(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||r)($.KVO(wi),$.KVO(K,8),$.KVO(ux,8),$.KVO(Ce.Agw),$.KVO(Ce.SKi),$.KVO(te),$.KVO(dx,8),$.KVO(Ws,8),$.KVO(cu,8),$.KVO(Fa,8),$.KVO(Wl,8),$.KVO(yc,8),$.KVO(rl,8),$.KVO(bs,8),$.KVO(Fo,8))};static \u0275prov=$.jDH({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})(),fx=(()=>{class r{constructor(){An.A.registerVersion("angularfire",Ni.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||r)};static \u0275mod=Ce.$C({type:r});static \u0275inj=$.G2t({providers:[hx]})}return r})(),px=(()=>{var r;class e{static#e=r=()=>(this.\u0275fac=function(a){return new(a||e)},this.\u0275mod=Ce.$C({type:e,bootstrap:[bi]}),this.\u0275inj=$.G2t({providers:[{provide:Xt.b,useClass:on.jM}],imports:[cr,On.bv.forRoot(),no,vr,je.initializeApp(ss_firebaseConfig),il,TD,fx]}))}return r(),e})();Sr().bootstrapModule(px).catch(r=>console.log(r))},7303:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Q:()=>Pe,Sm:()=>We,Vw:()=>Ce,aZ:()=>st,hb:()=>Me,hj:()=>He,ig:()=>Te,kB:()=>Le,om:()=>le,qj:()=>fe,rb:()=>$});var h=L(2615),u=L(1413);let k=null;function $(){return k}function Te(Fe){k??=Fe}class fe{}let Ce=(()=>{class Fe{historyGo(ke){throw new Error("")}static \u0275fac=function(Ve){return new(Ve||Fe)};static \u0275prov=h.jDH({token:Fe,factory:()=>(0,h.WQX)(Se),providedIn:"platform"})}return Fe})();const He=new h.nKC("");let Se=(()=>{class Fe extends Ce{_location;_history;_doc=(0,h.WQX)(h.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(ke){const Ve=$().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("popstate",ke,!1),()=>Ve.removeEventListener("popstate",ke)}onHashChange(ke){const Ve=$().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("hashchange",ke,!1),()=>Ve.removeEventListener("hashchange",ke)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ke){this._location.pathname=ke}pushState(ke,Ve,Ze){this._history.pushState(ke,Ve,Ze)}replaceState(ke,Ve,Ze){this._history.replaceState(ke,Ve,Ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ke=0){this._history.go(ke)}getState(){return this._history.state}static \u0275fac=function(Ve){return new(Ve||Fe)};static \u0275prov=h.jDH({token:Fe,factory:()=>new Fe,providedIn:"platform"})}return Fe})();function le(Fe,dt){return Fe?dt?Fe.endsWith("/")?dt.startsWith("/")?Fe+dt.slice(1):Fe+dt:dt.startsWith("/")?Fe+dt:`${Fe}/${dt}`:Fe:dt}function pe(Fe){const dt=Fe.search(/#|\?|$/);return"/"===Fe[dt-1]?Fe.slice(0,dt-1)+Fe.slice(dt):Fe}function Pe(Fe){return Fe&&"?"!==Fe[0]?`?${Fe}`:Fe}let Me=(()=>{class Fe{historyGo(ke){throw new Error("")}static \u0275fac=function(Ve){return new(Ve||Fe)};static \u0275prov=h.jDH({token:Fe,factory:()=>(0,h.WQX)(We),providedIn:"root"})}return Fe})();const Le=new h.nKC("");let We=(()=>{class Fe extends Me{_platformLocation;_baseHref;_removeListenerFns=[];constructor(ke,Ve){super(),this._platformLocation=ke,this._baseHref=Ve??this._platformLocation.getBaseHrefFromDOM()??(0,h.WQX)(h.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ke){this._removeListenerFns.push(this._platformLocation.onPopState(ke),this._platformLocation.onHashChange(ke))}getBaseHref(){return this._baseHref}prepareExternalUrl(ke){return le(this._baseHref,ke)}path(ke=!1){const Ve=this._platformLocation.pathname+Pe(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&ke?`${Ve}${Ze}`:Ve}pushState(ke,Ve,Ze,_t){const ct=this.prepareExternalUrl(Ze+Pe(_t));this._platformLocation.pushState(ke,Ve,ct)}replaceState(ke,Ve,Ze,_t){const ct=this.prepareExternalUrl(Ze+Pe(_t));this._platformLocation.replaceState(ke,Ve,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ke=0){this._platformLocation.historyGo?.(ke)}static \u0275fac=function(Ve){return new(Ve||Fe)(h.KVO(Ce),h.KVO(Le,8))};static \u0275prov=h.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})(),st=(()=>{class Fe{_subject=new u.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(ke){this._locationStrategy=ke;const Ve=this._locationStrategy.getBaseHref();this._basePath=function Rt(Fe){if(new RegExp("^(https?:)?//").test(Fe)){const[,ke]=Fe.split(/\/\/[^\/]+/);return ke}return Fe}(pe(vt(Ve))),this._locationStrategy.onPopState(Ze=>{this._subject.next({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ke=!1){return this.normalize(this._locationStrategy.path(ke))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ke,Ve=""){return this.path()==this.normalize(ke+Pe(Ve))}normalize(ke){return Fe.stripTrailingSlash(function et(Fe,dt){if(!Fe||!dt.startsWith(Fe))return dt;const ke=dt.substring(Fe.length);return""===ke||["/",";","?","#"].includes(ke[0])?ke:dt}(this._basePath,vt(ke)))}prepareExternalUrl(ke){return ke&&"/"!==ke[0]&&(ke="/"+ke),this._locationStrategy.prepareExternalUrl(ke)}go(ke,Ve="",Ze=null){this._locationStrategy.pushState(Ze,"",ke,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(ke+Pe(Ve)),Ze)}replaceState(ke,Ve="",Ze=null){this._locationStrategy.replaceState(Ze,"",ke,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(ke+Pe(Ve)),Ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ke=0){this._locationStrategy.historyGo?.(ke)}onUrlChange(ke){return this._urlChangeListeners.push(ke),this._urlChangeSubscription??=this.subscribe(Ve=>{this._notifyUrlChangeListeners(Ve.url,Ve.state)}),()=>{const Ve=this._urlChangeListeners.indexOf(ke);this._urlChangeListeners.splice(Ve,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ke="",Ve){this._urlChangeListeners.forEach(Ze=>Ze(ke,Ve))}subscribe(ke,Ve,Ze){return this._subject.subscribe({next:ke,error:Ve??void 0,complete:Ze??void 0})}static normalizeQueryParams=Pe;static joinWithSlash=le;static stripTrailingSlash=pe;static \u0275fac=function(Ve){return new(Ve||Fe)(h.KVO(Me))};static \u0275prov=h.jDH({token:Fe,factory:()=>function it(){return new st((0,h.KVO)(Me))}(),providedIn:"root"})}return Fe})();function vt(Fe){return Fe.replace(/\/index.html$/,"")}},7343:(Ln,Tt,L)=>{"use strict";L.d(Tt,{hB:()=>_e,U1:()=>Pt,el:()=>xe,Jm:()=>Sr,QW:()=>fr,b_:()=>Gn,I9:()=>cn,ME:()=>cr,tN:()=>on,hU:()=>gr,W9:()=>Mr,lO:()=>Fn,eU:()=>ni,iq:()=>jr,$w:()=>ii,uz:()=>Wr,he:()=>Vn,nf:()=>Kn,AF:()=>Fr,MC:()=>Pr,Rg:()=>so,ln:()=>at,BC:()=>Li,BY:()=>Mi,ai:()=>ji,bv:()=>Ro,N7:()=>ge,Gw:()=>tt,K_:()=>Ir});var h=L(3664),u=L(2615),k=L(7705),$=L(4341),Te=L(5035),fe=L(1635),Ce=L(3726),He=L(7303),Se=L(2200),le=L(4084),st=(L(2541),L(7951),L(1580),L(3939),L(6011),L(6855)),et=(L(4674),L(5705)),vt=L(9147),Fe=(L(9081),L(3220));L(9596),L(8607),L(9431),L(6118);var ct=L(467);const Oe=st.i,ln=function(){var H=(0,ct.A)(function*(Br,X){if(!(typeof window>"u"))return yield Oe(),(0,et.b)(JSON.parse('[["ion-menu_3",[[289,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[289,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[257,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[289,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[289,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[257,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[257,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[256,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[288,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[289,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[289,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[289,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[288,"ion-card-content"],[289,"ion-card-header",{"color":[513],"translucent":[4]}],[289,"ion-card-subtitle",{"color":[513]}],[289,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[289,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[288,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[256,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[305,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[289,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[288,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[256,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[289,"ion-reorder",null,[[2,"click","onClick"]]],[256,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[289,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[289,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[289,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[294,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"isInvalid":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[290,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[289,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[257,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[256,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[257,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[257,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[294,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"isInvalid":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[289,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[290,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[289,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[289,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[289,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[289,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[289,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[257,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[289,"ion-avatar"],[289,"ion-badge",{"color":[513]}],[257,"ion-thumbnail"]]],["ion-col_3",[[257,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[257,"ion-grid",{"fixed":[4]}],[257,"ion-row"]]],["ion-img",[[257,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-input-otp",[[294,"ion-input-otp",{"autocapitalize":[1],"color":[513],"disabled":[516],"fill":[1],"inputmode":[1],"length":[2],"pattern":[1],"readonly":[516],"separators":[1],"shape":[1],"size":[1],"type":[1],"value":[1032],"inputValues":[32],"hasFocus":[32],"previousInputValues":[32],"setFocus":[64]},null,{"value":["valueChanged"],"separators":["processSeparators"],"length":["processSeparators"]}]]],["ion-progress-bar",[[289,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[289,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[257,"ion-segment-content"]]],["ion-segment-view",[[289,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[289,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[257,"ion-text",{"color":[513]}]]],["ion-select-modal",[[290,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[289,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"showAdjacentDays":[4,"show-adjacent-days"],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[290,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[288,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[290,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[290,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[289,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},[[9,"resize","onWindowResize"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[289,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[257,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[289,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[289,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[289,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[289,"ion-item-divider",{"color":[513],"sticky":[4]}],[288,"ion-item-group"],[289,"ion-note",{"color":[513]}],[257,"ion-skeleton-text",{"animated":[4]}],[294,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[289,"ion-list-header",{"color":[513],"lines":[1]}],[289,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"isInteractive":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[288,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[256,"ion-app",{"setFocus":[64]}],[292,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[257,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[257,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[292,"ion-header",{"collapse":[1],"translucent":[4]}],[289,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[289,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[294,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[289,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"hasFocus":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[257,"ion-select-option",{"disabled":[4],"value":[8]}],[290,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[257,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[289,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[292,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[257,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[289,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"]}],[257,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),X)});return function(X,N){return H.apply(this,arguments)}}();!function(){if(typeof window<"u"&&void 0!==window.Reflect&&void 0!==window.customElements){var H=HTMLElement;window.HTMLElement=function(){return Reflect.construct(H,[],this.constructor)},HTMLElement.prototype=H.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,H)}}();const ut=["*"],Mn=["outletContent"];let _e=(()=>{class H extends Te.fL{constructor(X,N){super(X,N)}writeValue(X){this.elementRef.nativeElement.checked=this.lastValue=X,(0,Te.z3)(this.elementRef)}_handleIonChange(X){this.handleValueChange(X,X.checked)}static \u0275fac=function(N){return new(N||H)(h.rXU(u.zZn),h.rXU(h.aKT))};static \u0275dir=h.FsC({type:H,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(N,he){1&N&&h.bIt("ionChange",function(qr){return he._handleIonChange(qr.target)})},standalone:!1,features:[h.Jv_([{provide:$.kq,useExisting:H,multi:!0}]),h.Vt3]})}return H})(),tt=(()=>{class H extends Te.fL{constructor(X,N){super(X,N)}_handleInputEvent(X){this.handleValueChange(X,X.value)}static \u0275fac=function(N){return new(N||H)(h.rXU(u.zZn),h.rXU(h.aKT))};static \u0275dir=h.FsC({type:H,selectors:[["ion-input",3,"type","number"],["ion-input-otp","type","text"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,he){1&N&&h.bIt("ionInput",function(qr){return he._handleInputEvent(qr.target)})},standalone:!1,features:[h.Jv_([{provide:$.kq,useExisting:H,multi:!0}]),h.Vt3]})}return H})();const wt=(H,Br)=>{const X=H.prototype;Br.forEach(N=>{Object.defineProperty(X,N,{get(){return this.el[N]},set(he){this.z.runOutsideAngular(()=>this.el[N]=he)},configurable:!0})})},Gt=(H,Br)=>{const X=H.prototype;Br.forEach(N=>{X[N]=function(){const he=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,he))}})},Ht=(H,Br,X)=>{X.forEach(N=>H[N]=(0,Ce.R)(Br,N))};function lt(H){return function(X){const{defineCustomElementFn:N,inputs:he,methods:vr}=H;return void 0!==N&&N(),he&&wt(X,he),vr&&Gt(X,vr),X}}let Pt=(()=>{let H=class IR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||IR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:IR,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({methods:["setFocus"]})],H),H})(),Sr=(()=>{let H=class wR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement,Ht(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(N){return new(N||wR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:wR,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],H),H})(),fr=(()=>{let H=class SR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||SR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:SR,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["collapse"]})],H),H})(),Gn=(()=>{let H=class RR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||RR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:RR,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],H),H})(),cn=(()=>{let H=class MR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||MR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:MR,selectors:[["ion-card-content"]],inputs:{mode:"mode"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["mode"]})],H),H})(),cr=(()=>{let H=class PR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||PR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:PR,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","mode","translucent"]})],H),H})(),on=(()=>{let H=class NR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||NR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:NR,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","mode"]})],H),H})(),gr=(()=>{let H=class LR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||LR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:LR,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],H),H})(),Mr=(()=>{let H=class FR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement,Ht(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(N){return new(N||FR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:FR,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],H),H})(),Fn=(()=>{let H=class KR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||KR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:KR,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["fixed"]})],H),H})(),ni=(()=>{let H=class HR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||HR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:HR,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["collapse","mode","translucent"]})],H),H})(),jr=(()=>{let H=class zR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||zR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:zR,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],H),H})(),ii=(()=>{let H=class QR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement,Ht(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(N){return new(N||QR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:QR,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],H),H})(),Wr=(()=>{let H=class ZR{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||ZR)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:ZR,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],H),H})(),Vn=(()=>{let H=class oM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||oM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:oM,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","mode","position"]})],H),H})(),Kn=(()=>{let H=class sM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||sM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:sM,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],H),H})(),Fr=(()=>{let H=class aM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||aM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:aM,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","lines","mode"]})],H),H})(),Pr=(()=>{let H=class uM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||uM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:uM,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["autoHide","color","disabled","menu","mode","type"]})],H),H})(),at=(()=>{let H=class wM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||wM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:wM,selectors:[["ion-row"]],standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({})],H),H})(),Li=(()=>{let H=class HM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||HM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:HM,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","size"]})],H),H})(),Mi=(()=>{let H=class GM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement,Ht(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(N){return new(N||GM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:GM,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],H),H})(),ji=(()=>{let H=class XM{z;el;constructor(X,N,he){this.z=he,X.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||XM)(h.rXU(k.gRc),h.rXU(h.aKT),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:XM,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,fe.Cg)([lt({inputs:["color","mode"]})],H),H})(),so=(()=>{class H extends Te.Rg{parentOutlet;outletContent;constructor(X,N,he,vr,qr,bi,Hi,Lo){super(X,N,he,vr,qr,bi,Hi,Lo),this.parentOutlet=Lo}static \u0275fac=function(N){return new(N||H)(h.kS0("name"),h.kS0("tabs"),h.rXU(He.aZ),h.rXU(h.aKT),h.rXU(le.Ix),h.rXU(h.SKi),h.rXU(le.nX),h.rXU(H,12))};static \u0275cmp=h.VBU({type:H,selectors:[["ion-router-outlet"]],viewQuery:function(N,he){if(1&N&&h.GBs(Mn,7,h.c1b),2&N){let vr;h.mGM(vr=h.lsd())&&(he.outletContent=vr.first)}},standalone:!1,features:[h.Vt3],ngContentSelectors:ut,decls:3,vars:0,consts:[["outletContent",""]],template:function(N,he){1&N&&(h.NAR(),h.qex(0,null,0),h.SdG(2),h.bVm())},encapsulation:2})}return H})(),xe=(()=>{class H extends Te.el{constructor(X,N,he,vr,qr,bi){super(X,N,he,vr,qr,bi)}static \u0275fac=function(N){return new(N||H)(h.rXU(so,8),h.rXU(Te.q9),h.rXU(Te.TS),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(k.gRc))};static \u0275cmp=h.VBU({type:H,selectors:[["ion-back-button"]],standalone:!1,features:[h.Vt3],ngContentSelectors:ut,decls:1,vars:0,template:function(N,he){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})}return H})(),ge=(()=>{class H extends Te.CE{static \u0275fac=(()=>{let X;return function(he){return(X||(X=h.xGo(H)))(he||H)}})();static \u0275dir=h.FsC({type:H,selectors:[["","routerLink","",5,"a",5,"area"]],standalone:!1,features:[h.Vt3]})}return H})();const F={provide:$.cz,useExisting:(0,u.Rfq)(()=>Ee),multi:!0};let Ee=(()=>{class H extends $.zX{static \u0275fac=(()=>{let X;return function(he){return(X||(X=h.xGo(H)))(he||H)}})();static \u0275dir=h.FsC({type:H,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(N,he){2&N&&h.BMQ("max",he._enabled?he.max:null)},standalone:!1,features:[h.Jv_([F]),h.Vt3]})}return H})();const Z={provide:$.cz,useExisting:(0,u.Rfq)(()=>ue),multi:!0};let ue=(()=>{class H extends $.VZ{static \u0275fac=(()=>{let X;return function(he){return(X||(X=h.xGo(H)))(he||H)}})();static \u0275dir=h.FsC({type:H,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,he){2&N&&h.BMQ("min",he._enabled?he.min:null)},standalone:!1,features:[h.Jv_([Z]),h.Vt3]})}return H})(),kr=(()=>{class H extends Te.Kb{angularDelegate=(0,u.WQX)(Te.Yq);injector=(0,u.WQX)(u.zZn);environmentInjector=(0,u.WQX)(u.uvJ);constructor(){super(Fe.m)}create(X){return super.create({...X,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(N){return new(N||H)};static \u0275prov=u.jDH({token:H,factory:H.\u0275fac})}return H})();class Kr extends Te.Kb{angularDelegate=(0,u.WQX)(Te.Yq);injector=(0,u.WQX)(u.zZn);environmentInjector=(0,u.WQX)(u.uvJ);constructor(){super(Fe.c)}create(Br){return super.create({...Br,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Ir=(()=>{class H extends Te.Kb{constructor(){super(Fe.t)}static \u0275fac=function(N){return new(N||H)};static \u0275prov=u.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();const Xr=(H,Br,X)=>()=>{const N=Br.defaultView;if(N&&typeof window<"u"){(0,vt.s)({...H,_zoneGate:vr=>X.run(vr)});const he="__zone_symbol__addEventListener"in Br.body?"__zone_symbol__addEventListener":"addEventListener";return ln(N,{exclude:["ion-tabs"],syncQueue:!0,raf:Te.er,jmp:vr=>X.runOutsideAngular(vr),ael(vr,qr,bi,Hi){vr[he](qr,bi,Hi)},rel(vr,qr,bi,Hi){vr.removeEventListener(qr,bi,Hi)}})}};let Ro=(()=>{class H{static forRoot(X={}){return{ngModule:H,providers:[{provide:Te.sR,useValue:X},{provide:h.hnV,useFactory:Xr,multi:!0,deps:[Te.sR,u.qQL,h.SKi]},Te.Yq,(0,Te.YV)()]}}static \u0275fac=function(N){return new(N||H)};static \u0275mod=h.$C({type:H});static \u0275inj=u.G2t({providers:[kr,Kr],imports:[Se.MD]})}return H})()},7441:(Ln,Tt,L)=>{"use strict";L.d(Tt,{X:()=>h});const h=u=>u&&"number"==typeof u.length&&"function"!=typeof u},7673:(Ln,Tt,L)=>{"use strict";L.d(Tt,{of:()=>k});var h=L(3794),u=L(8455);function k(...$){const Te=(0,h.lI)($);return(0,u.H)($,Te)}},7705:(Ln,Tt,L)=>{"use strict";L.d(Tt,{ES_:()=>pe,HJs:()=>ao,Hbi:()=>Pr,L39:()=>F,MKu:()=>bt,_q3:()=>$e,a0P:()=>ss,fpN:()=>Rr,gRc:()=>ai,hFB:()=>it,naY:()=>On,oH4:()=>vn});var h=L(2615),u=L(8440),k=L(3664);const $=Symbol("InputSignalNode#UNSET"),Te={...u.s0,transformFn:void 0,applyValueToInputSignal(oe,z){(0,u.j2)(oe,z)}};function Ce(oe,z){const ee=Object.create(Te);function Re(){if((0,u.mK)(ee),ee.value===$)throw new h.buA(-950,null);return ee.value}return ee.value=oe,ee.transformFn=z?.transform,Re[u.bh]=ee,Re}class pe{attributeName;constructor(z){this.attributeName=z}__NG_ELEMENT_ID__=()=>(0,k.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function We(oe,z){return Ce(oe,z)}new h.nKC("").__NG_ELEMENT_ID__=oe=>{const z=(0,h.Mx4)();if(null===z)throw new h.buA(204,!1);if(2&z.type)return z.value;if(8&oe)return null;throw new h.buA(204,!1)};const it=(We.required=function st(oe){return Ce($,oe)},We),Gt=new h.nKC(""),Ht=new h.nKC("");function yn(oe){return!oe.moduleRef}let In;function yt(){In=Tn}function Tn(oe,z){const ee=oe.injector.get(k.o8S);if(oe._bootstrapComponents.length>0)oe._bootstrapComponents.forEach(Re=>ee.bootstrap(Re));else{if(!oe.instance.ngDoBootstrap)throw new h.buA(-403,!1);oe.instance.ngDoBootstrap(ee)}z.push(oe)}let Pt=(()=>{class oe{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(ee){this._injector=ee}bootstrapModuleFactory(ee,Re){const Et=Re?.scheduleInRootZone,_n=Re?.ignoreChangesOutsideZone,Nn=[(0,k.SdI)({ngZoneFactory:()=>(0,k.G5x)(Re?.ngZone,{...(0,k.cZr)({eventCoalescing:Re?.ngZoneEventCoalescing,runCoalescing:Re?.ngZoneRunCoalescing}),scheduleInRootZone:Et}),ignoreChangesOutsideZone:_n}),{provide:h.hk6,useExisting:k.Ts$},h.gv8],or=(0,k.VzW)(ee.moduleType,this.injector,Nn);return yt(),function lt(oe){const z=yn(oe)?oe.r3Injector:oe.moduleRef.injector,ee=z.get(k.SKi);return ee.run(()=>{yn(oe)?oe.r3Injector.resolveInjectorInitializers():oe.moduleRef.resolveInjectorInitializers();const Re=z.get(h.ZTf);let Et;if(ee.runOutsideAngular(()=>{Et=ee.onError.subscribe({next:Re})}),yn(oe)){const Jt=()=>z.destroy(),_n=oe.platformInjector.get(Gt);_n.add(Jt),z.onDestroy(()=>{Et.unsubscribe(),_n.delete(Jt)})}else{const Jt=()=>oe.moduleRef.destroy(),_n=oe.platformInjector.get(Gt);_n.add(Jt),oe.moduleRef.onDestroy(()=>{(0,k.TFI)(oe.allPlatformModules,oe.moduleRef),Et.unsubscribe(),_n.delete(Jt)})}return function an(oe,z,ee){try{const Re=ee();return(0,k.yLl)(Re)?Re.catch(Et=>{throw z.runOutsideAngular(()=>oe(Et)),Et}):Re}catch(Re){throw z.runOutsideAngular(()=>oe(Re)),Re}}(Re,ee,()=>{const Jt=z.get(h.rev),_n=Jt.add(),Nn=z.get(k.H1s);return Nn.runInitializers(),Nn.donePromise.then(()=>{const or=z.get(k.xe9,k.DkB);if((0,k.e6s)(or||k.DkB),!z.get(Ht,!0))return yn(oe)?z.get(k.o8S):(oe.allPlatformModules.push(oe.moduleRef),oe.moduleRef);if(yn(oe)){const Tr=z.get(k.o8S);return void 0!==oe.rootComponent&&Tr.bootstrap(oe.rootComponent),Tr}return In?.(oe.moduleRef,oe.allPlatformModules),oe.moduleRef}).finally(()=>{Jt.remove(_n)})})})}({moduleRef:or,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(ee,Re=[]){const Et=(0,k.lJT)({},Re);return yt(),function dn(oe,z,ee){const Re=new k.Co$(ee);return Promise.resolve(Re)}(0,0,ee).then(Jt=>this.bootstrapModuleFactory(Jt,Et))}onDestroy(ee){this._destroyListeners.push(ee)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new h.buA(404,!1);this._modules.slice().forEach(Re=>Re.destroy()),this._destroyListeners.forEach(Re=>Re());const ee=this._injector.get(Gt,null);ee&&(ee.forEach(Re=>Re()),ee.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(Re){return new(Re||oe)((0,h.KVO)(h.zZn))};static \u0275prov=(0,h.jDH)({token:oe,factory:oe.\u0275fac,providedIn:"platform"})}return oe})(),rt=null;function vn(oe,z,ee=[]){const Re=`Platform: ${z}`,Et=new h.nKC(Re);return(Jt=[])=>{let _n=Sr();if(!_n){const Nn=[...ee,...Jt,{provide:Et,useValue:!0}];_n=oe?.(Nn)??function Bt(oe){if(Sr())throw new h.buA(400,!1);(0,k.pl0)(),(0,k.ypd)(),rt=oe;const z=oe.get(Pt);return function cr(oe){const z=oe.get(k.PLl,null);(0,h.N4e)(oe,()=>{z?.forEach(ee=>ee())})}(oe),z}(function ar(oe=[],z){return h.zZn.create({name:z,providers:[{provide:h.GBX,useValue:"platform"},{provide:Gt,useValue:new Set([()=>rt=null])},...oe]})}(Nn,Re))}return function br(){const z=Sr();if(!z)throw new h.buA(-401,!1);return z}()}}function Sr(){return rt?.get(Pt)??null}function On(){return!1}let ai=(()=>class oe{static __NG_ELEMENT_ID__=Jr})();function Jr(oe){return function Ur(oe,z,ee){if((0,h.Qs1)(oe)&&!ee){const Re=(0,h.KdJ)(oe.index,z);return new k.NCX(Re,Re)}return 175&oe.type?new k.NCX(z[h.b5C],z):null}((0,h.Mx4)(),(0,h.OAn)(),!(16&~oe))}class Fn{constructor(){}supports(z){return(0,k.ozJ)(z)}create(z){return new jr(z)}}const ni=(oe,z)=>z;class jr{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(z){this._trackByFn=z||ni}forEachItem(z){let ee;for(ee=this._itHead;null!==ee;ee=ee._next)z(ee)}forEachOperation(z){let ee=this._itHead,Re=this._removalsHead,Et=0,Jt=null;for(;ee||Re;){const _n=!Re||ee&&ee.currentIndex<ii(Re,Et,Jt)?ee:Re,Nn=ii(_n,Et,Jt),or=_n.currentIndex;if(_n===Re)Et--,Re=Re._nextRemoved;else if(ee=ee._next,null==_n.previousIndex)Et++;else{Jt||(Jt=[]);const ur=Nn-Et,Tr=or-Et;if(ur!=Tr){for(let Fi=0;Fi<ur;Fi++){const mi=Fi<Jt.length?Jt[Fi]:Jt[Fi]=0,Qi=mi+Fi;Tr<=Qi&&Qi<ur&&(Jt[Fi]=mi+1)}Jt[_n.previousIndex]=Tr-ur}}Nn!==or&&z(_n,Nn,or)}}forEachPreviousItem(z){let ee;for(ee=this._previousItHead;null!==ee;ee=ee._nextPrevious)z(ee)}forEachAddedItem(z){let ee;for(ee=this._additionsHead;null!==ee;ee=ee._nextAdded)z(ee)}forEachMovedItem(z){let ee;for(ee=this._movesHead;null!==ee;ee=ee._nextMoved)z(ee)}forEachRemovedItem(z){let ee;for(ee=this._removalsHead;null!==ee;ee=ee._nextRemoved)z(ee)}forEachIdentityChange(z){let ee;for(ee=this._identityChangesHead;null!==ee;ee=ee._nextIdentityChange)z(ee)}diff(z){if(null==z&&(z=[]),!(0,k.ozJ)(z))throw new h.buA(900,!1);return this.check(z)?this:null}onDestroy(){}check(z){this._reset();let Et,Jt,_n,ee=this._itHead,Re=!1;if(Array.isArray(z)){this.length=z.length;for(let Nn=0;Nn<this.length;Nn++)Jt=z[Nn],_n=this._trackByFn(Nn,Jt),null!==ee&&Object.is(ee.trackById,_n)?(Re&&(ee=this._verifyReinsertion(ee,Jt,_n,Nn)),Object.is(ee.item,Jt)||this._addIdentityChange(ee,Jt)):(ee=this._mismatch(ee,Jt,_n,Nn),Re=!0),ee=ee._next}else Et=0,(0,k.utN)(z,Nn=>{_n=this._trackByFn(Et,Nn),null!==ee&&Object.is(ee.trackById,_n)?(Re&&(ee=this._verifyReinsertion(ee,Nn,_n,Et)),Object.is(ee.item,Nn)||this._addIdentityChange(ee,Nn)):(ee=this._mismatch(ee,Nn,_n,Et),Re=!0),ee=ee._next,Et++}),this.length=Et;return this._truncate(ee),this.collection=z,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let z;for(z=this._previousItHead=this._itHead;null!==z;z=z._next)z._nextPrevious=z._next;for(z=this._additionsHead;null!==z;z=z._nextAdded)z.previousIndex=z.currentIndex;for(this._additionsHead=this._additionsTail=null,z=this._movesHead;null!==z;z=z._nextMoved)z.previousIndex=z.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(z,ee,Re,Et){let Jt;return null===z?Jt=this._itTail:(Jt=z._prev,this._remove(z)),null!==(z=null===this._unlinkedRecords?null:this._unlinkedRecords.get(Re,null))?(Object.is(z.item,ee)||this._addIdentityChange(z,ee),this._reinsertAfter(z,Jt,Et)):null!==(z=null===this._linkedRecords?null:this._linkedRecords.get(Re,Et))?(Object.is(z.item,ee)||this._addIdentityChange(z,ee),this._moveAfter(z,Jt,Et)):z=this._addAfter(new ri(ee,Re),Jt,Et),z}_verifyReinsertion(z,ee,Re,Et){let Jt=null===this._unlinkedRecords?null:this._unlinkedRecords.get(Re,null);return null!==Jt?z=this._reinsertAfter(Jt,z._prev,Et):z.currentIndex!=Et&&(z.currentIndex=Et,this._addToMoves(z,Et)),z}_truncate(z){for(;null!==z;){const ee=z._next;this._addToRemovals(this._unlink(z)),z=ee}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(z,ee,Re){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(z);const Et=z._prevRemoved,Jt=z._nextRemoved;return null===Et?this._removalsHead=Jt:Et._nextRemoved=Jt,null===Jt?this._removalsTail=Et:Jt._prevRemoved=Et,this._insertAfter(z,ee,Re),this._addToMoves(z,Re),z}_moveAfter(z,ee,Re){return this._unlink(z),this._insertAfter(z,ee,Re),this._addToMoves(z,Re),z}_addAfter(z,ee,Re){return this._insertAfter(z,ee,Re),this._additionsTail=null===this._additionsTail?this._additionsHead=z:this._additionsTail._nextAdded=z,z}_insertAfter(z,ee,Re){const Et=null===ee?this._itHead:ee._next;return z._next=Et,z._prev=ee,null===Et?this._itTail=z:Et._prev=z,null===ee?this._itHead=z:ee._next=z,null===this._linkedRecords&&(this._linkedRecords=new si),this._linkedRecords.put(z),z.currentIndex=Re,z}_remove(z){return this._addToRemovals(this._unlink(z))}_unlink(z){null!==this._linkedRecords&&this._linkedRecords.remove(z);const ee=z._prev,Re=z._next;return null===ee?this._itHead=Re:ee._next=Re,null===Re?this._itTail=ee:Re._prev=ee,z}_addToMoves(z,ee){return z.previousIndex===ee||(this._movesTail=null===this._movesTail?this._movesHead=z:this._movesTail._nextMoved=z),z}_addToRemovals(z){return null===this._unlinkedRecords&&(this._unlinkedRecords=new si),this._unlinkedRecords.put(z),z.currentIndex=null,z._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=z,z._prevRemoved=null):(z._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=z),z}_addIdentityChange(z,ee){return z.item=ee,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=z:this._identityChangesTail._nextIdentityChange=z,z}}class ri{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(z,ee){this.item=z,this.trackById=ee}}class Pi{_head=null;_tail=null;add(z){null===this._head?(this._head=this._tail=z,z._nextDup=null,z._prevDup=null):(this._tail._nextDup=z,z._prevDup=this._tail,z._nextDup=null,this._tail=z)}get(z,ee){let Re;for(Re=this._head;null!==Re;Re=Re._nextDup)if((null===ee||ee<=Re.currentIndex)&&Object.is(Re.trackById,z))return Re;return null}remove(z){const ee=z._prevDup,Re=z._nextDup;return null===ee?this._head=Re:ee._nextDup=Re,null===Re?this._tail=ee:Re._prevDup=ee,null===this._head}}class si{map=new Map;put(z){const ee=z.trackById;let Re=this.map.get(ee);Re||(Re=new Pi,this.map.set(ee,Re)),Re.add(z)}get(z,ee){const Et=this.map.get(z);return Et?Et.get(z,ee):null}remove(z){const ee=z.trackById;return this.map.get(ee).remove(z)&&this.map.delete(ee),z}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ii(oe,z,ee){const Re=oe.previousIndex;if(null===Re)return Re;let Et=0;return ee&&Re<ee.length&&(Et=ee[Re]),Re+z+Et}class $i{constructor(){}supports(z){return z instanceof Map||(0,k.vDg)(z)}create(){return new Ti}}class Ti{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(z){let ee;for(ee=this._mapHead;null!==ee;ee=ee._next)z(ee)}forEachPreviousItem(z){let ee;for(ee=this._previousMapHead;null!==ee;ee=ee._nextPrevious)z(ee)}forEachChangedItem(z){let ee;for(ee=this._changesHead;null!==ee;ee=ee._nextChanged)z(ee)}forEachAddedItem(z){let ee;for(ee=this._additionsHead;null!==ee;ee=ee._nextAdded)z(ee)}forEachRemovedItem(z){let ee;for(ee=this._removalsHead;null!==ee;ee=ee._nextRemoved)z(ee)}diff(z){if(z){if(!(z instanceof Map||(0,k.vDg)(z)))throw new h.buA(900,!1)}else z=new Map;return this.check(z)?this:null}onDestroy(){}check(z){this._reset();let ee=this._mapHead;if(this._appendAfter=null,this._forEach(z,(Re,Et)=>{if(ee&&ee.key===Et)this._maybeAddToChanges(ee,Re),this._appendAfter=ee,ee=ee._next;else{const Jt=this._getOrCreateRecordForKey(Et,Re);ee=this._insertBeforeOrAppend(ee,Jt)}}),ee){ee._prev&&(ee._prev._next=null),this._removalsHead=ee;for(let Re=ee;null!==Re;Re=Re._nextRemoved)Re===this._mapHead&&(this._mapHead=null),this._records.delete(Re.key),Re._nextRemoved=Re._next,Re.previousValue=Re.currentValue,Re.currentValue=null,Re._prev=null,Re._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(z,ee){if(z){const Re=z._prev;return ee._next=z,ee._prev=Re,z._prev=ee,Re&&(Re._next=ee),z===this._mapHead&&(this._mapHead=ee),this._appendAfter=z,z}return this._appendAfter?(this._appendAfter._next=ee,ee._prev=this._appendAfter):this._mapHead=ee,this._appendAfter=ee,null}_getOrCreateRecordForKey(z,ee){if(this._records.has(z)){const Et=this._records.get(z);this._maybeAddToChanges(Et,ee);const Jt=Et._prev,_n=Et._next;return Jt&&(Jt._next=_n),_n&&(_n._prev=Jt),Et._next=null,Et._prev=null,Et}const Re=new Wr(z);return this._records.set(z,Re),Re.currentValue=ee,this._addToAdditions(Re),Re}_reset(){if(this.isDirty){let z;for(this._previousMapHead=this._mapHead,z=this._previousMapHead;null!==z;z=z._next)z._nextPrevious=z._next;for(z=this._changesHead;null!==z;z=z._nextChanged)z.previousValue=z.currentValue;for(z=this._additionsHead;null!=z;z=z._nextAdded)z.previousValue=z.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(z,ee){Object.is(ee,z.currentValue)||(z.previousValue=z.currentValue,z.currentValue=ee,this._addToChanges(z))}_addToAdditions(z){null===this._additionsHead?this._additionsHead=this._additionsTail=z:(this._additionsTail._nextAdded=z,this._additionsTail=z)}_addToChanges(z){null===this._changesHead?this._changesHead=this._changesTail=z:(this._changesTail._nextChanged=z,this._changesTail=z)}_forEach(z,ee){z instanceof Map?z.forEach(ee):Object.keys(z).forEach(Re=>ee(z[Re],Re))}}class Wr{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(z){this.key=z}}function Be(){return new $e([new Fn])}let $e=(()=>{class oe{factories;static \u0275prov=(0,h.jDH)({token:oe,providedIn:"root",factory:Be});constructor(ee){this.factories=ee}static create(ee,Re){if(null!=Re){const Et=Re.factories.slice();ee=ee.concat(Et)}return new oe(ee)}static extend(ee){return{provide:oe,useFactory:()=>{const Re=(0,h.WQX)(oe,{optional:!0,skipSelf:!0});return oe.create(ee,Re||Be())}}}find(ee){const Re=this.factories.find(Et=>Et.supports(ee));if(null!=Re)return Re;throw new h.buA(901,!1)}}return oe})();function Kt(){return new bt([new $i])}let bt=(()=>{class oe{static \u0275prov=(0,h.jDH)({token:oe,providedIn:"root",factory:Kt});factories;constructor(ee){this.factories=ee}static create(ee,Re){if(Re){const Et=Re.factories.slice();ee=ee.concat(Et)}return new oe(ee)}static extend(ee){return{provide:oe,useFactory:()=>{const Re=(0,h.WQX)(oe,{optional:!0,skipSelf:!0});return oe.create(ee,Re||Kt())}}}find(ee){const Re=this.factories.find(Et=>Et.supports(ee));if(Re)return Re;throw new h.buA(901,!1)}}return oe})();const Rr=vn(null,"core",[]);let Pr=(()=>{class oe{constructor(ee){}static \u0275fac=function(Re){return new(Re||oe)((0,h.KVO)(k.o8S))};static \u0275mod=(0,k.$C)({type:oe});static \u0275inj=(0,h.G2t)({})}return oe})();function F(oe){return"boolean"==typeof oe?oe:null!=oe&&"false"!==oe}function ss(oe,z){const ee=(0,h.xUg)(oe),Re=z.elementInjector||(0,h.WB9)();return new k.eHC(ee).create(Re,z.projectableNodes,z.hostElement,z.environmentInjector,z.directives,z.bindings)}function ao(oe){const z=(0,h.xUg)(oe);if(!z)return null;const ee=new k.eHC(z);return{get selector(){return ee.selector},get type(){return ee.componentType},get inputs(){return ee.inputs},get outputs(){return ee.outputs},get ngContentSelectors(){return ee.ngContentSelectors},get isStandalone(){return z.standalone},get isSignal(){return z.signals}}}},7707:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Ms:()=>st,vU:()=>Pe});var h=L(8071),u=L(8359),k=L(1026),$=L(5334),Te=L(5343);const fe=Se("C",void 0,void 0);function Se(Fe,dt,ke){return{kind:Fe,value:dt,error:ke}}var le=L(9270),pe=L(9786);class Pe extends u.yU{constructor(dt){super(),this.isStopped=!1,dt?(this.destination=dt,(0,u.Uv)(dt)&&dt.add(this)):this.destination=Rt}static create(dt,ke,Ve){return new st(dt,ke,Ve)}next(dt){this.isStopped?vt(function He(Fe){return Se("N",Fe,void 0)}(dt),this):this._next(dt)}error(dt){this.isStopped?vt(function Ce(Fe){return Se("E",void 0,Fe)}(dt),this):(this.isStopped=!0,this._error(dt))}complete(){this.isStopped?vt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(dt){this.destination.next(dt)}_error(dt){try{this.destination.error(dt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function Le(Fe,dt){return Me.call(Fe,dt)}class We{constructor(dt){this.partialObserver=dt}next(dt){const{partialObserver:ke}=this;if(ke.next)try{ke.next(dt)}catch(Ve){it(Ve)}}error(dt){const{partialObserver:ke}=this;if(ke.error)try{ke.error(dt)}catch(Ve){it(Ve)}else it(dt)}complete(){const{partialObserver:dt}=this;if(dt.complete)try{dt.complete()}catch(ke){it(ke)}}}class st extends Pe{constructor(dt,ke,Ve){let Ze;if(super(),(0,h.T)(dt)||!dt)Ze={next:dt??void 0,error:ke??void 0,complete:Ve??void 0};else{let _t;this&&k.$.useDeprecatedNextContext?(_t=Object.create(dt),_t.unsubscribe=()=>this.unsubscribe(),Ze={next:dt.next&&Le(dt.next,_t),error:dt.error&&Le(dt.error,_t),complete:dt.complete&&Le(dt.complete,_t)}):Ze=dt}this.destination=new We(Ze)}}function it(Fe){k.$.useDeprecatedSynchronousErrorHandling?(0,pe.l)(Fe):(0,$.m)(Fe)}function vt(Fe,dt){const{onStoppedNotification:ke}=k.$;ke&&le.f.setTimeout(()=>ke(Fe,dt))}const Rt={closed:!0,next:Te.l,error:function et(Fe){throw Fe},complete:Te.l}},7837:(Ln,Tt,L)=>{"use strict";L.d(Tt,{a:()=>pe,c:()=>u,p:()=>le});class h{constructor(){this.m=new Map}reset(Le){this.m=new Map(Object.entries(Le))}get(Le,We){const st=this.m.get(Le);return void 0!==st?st:We}getBoolean(Le,We=!1){const st=this.m.get(Le);return void 0===st?We:"string"==typeof st?"true"===st:!!st}getNumber(Le,We){const st=parseFloat(this.m.get(Le));return isNaN(st)?void 0!==We?We:NaN:st}set(Le,We){this.m.set(Le,We)}}const u=new h;var Se=function(Me){return Me.OFF="OFF",Me.ERROR="ERROR",Me.WARN="WARN",Me}(Se||{});const le=(Me,...Le)=>{const We=u.get("logLevel",Se.WARN);if([Se.WARN].includes(We))return console.warn(`[Ionic Warning]: ${Me}`,...Le)},pe=(Me,...Le)=>{const We=u.get("logLevel",Se.ERROR);if([Se.ERROR,Se.WARN].includes(We))return console.error(`[Ionic Error]: ${Me}`,...Le)}},7908:(Ln,Tt,L)=>{"use strict";function h(u,k){if(u){const $=u.indexOf(k);0<=$&&u.splice($,1)}}L.d(Tt,{o:()=>h})},7951:(Ln,Tt,L)=>{"use strict";L.d(Tt,{b:()=>fe,c:()=>Ce,d:()=>He,e:()=>ut,g:()=>kt,l:()=>Oe,s:()=>Mn,t:()=>st,w:()=>ln});var h=L(467),u=L(5705),k=L(4674);const fe="ionViewWillLeave",Ce="ionViewDidLeave",He="ionViewWillUnload",Se=ht=>{ht.tabIndex=-1,ht.focus()},le=ht=>null!==ht.offsetParent,Pe="ion-last-focus",We_saveViewFocus=tn=>{if(u.e.get("focusManagerPriority",!1)){const re=document.activeElement;null!==re&&tn?.contains(re)&&re.setAttribute(Pe,"true")}},We_setViewFocus=tn=>{const dn=u.e.get("focusManagerPriority",!1);if(Array.isArray(dn)&&!tn.contains(document.activeElement)){const re=tn.querySelector(`[${Pe}]`);if(re&&le(re))return void Se(re);for(const _e of dn)switch(_e){case"content":const Ue=tn.querySelector('main, [role="main"]');if(Ue&&le(Ue))return void Se(Ue);break;case"heading":const we=tn.querySelector('h1, [role="heading"][aria-level="1"]');if(we&&le(we))return void Se(we);break;case"banner":const tt=tn.querySelector('header, [role="banner"]');if(tt&&le(tt))return void Se(tt);break;default:(0,u.f)(`Unrecognized focus manager priority value ${_e}`)}Se(tn)}},st=ht=>new Promise((jt,tn)=>{(0,u.w)(()=>{it(ht),et(ht).then(dn=>{dn.animation&&dn.animation.destroy(),vt(ht),jt(dn)},dn=>{vt(ht),tn(dn)})})}),it=ht=>{const jt=ht.enteringEl,tn=ht.leavingEl;We_saveViewFocus(tn),zt(jt,tn,ht.direction),ht.showGoBack?jt.classList.add("can-go-back"):jt.classList.remove("can-go-back"),Mn(jt,!1),jt.style.setProperty("pointer-events","none"),tn&&(Mn(tn,!1),tn.style.setProperty("pointer-events","none"))},et=function(){var ht=(0,h.A)(function*(jt){const tn=yield Rt(jt);return tn&&u.B.isBrowser?Fe(tn,jt):dt(jt)});return function(tn){return ht.apply(this,arguments)}}(),vt=ht=>{const jt=ht.enteringEl,tn=ht.leavingEl;jt.classList.remove("ion-page-invisible"),jt.style.removeProperty("pointer-events"),void 0!==tn&&(tn.classList.remove("ion-page-invisible"),tn.style.removeProperty("pointer-events")),We_setViewFocus(jt)},Rt=function(){var ht=(0,h.A)(function*(jt){return jt.leavingEl&&jt.animated&&0!==jt.duration?jt.animationBuilder?jt.animationBuilder:"ios"===jt.mode?(yield Promise.resolve().then(L.bind(L,1580))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,3939))).mdTransitionAnimation:void 0});return function(tn){return ht.apply(this,arguments)}}(),Fe=function(){var ht=(0,h.A)(function*(jt,tn){yield ke(tn,!0);const dn=jt(tn.baseEl,tn);_t(tn.enteringEl,tn.leavingEl);const re=yield Ze(dn,tn);return tn.progressCallback&&tn.progressCallback(void 0),re&&ct(tn.enteringEl,tn.leavingEl),{hasCompleted:re,animation:dn}});return function(tn,dn){return ht.apply(this,arguments)}}(),dt=function(){var ht=(0,h.A)(function*(jt){const tn=jt.enteringEl,dn=jt.leavingEl,re=u.e.get("focusManagerPriority",!1);return yield ke(jt,re),_t(tn,dn),ct(tn,dn),{hasCompleted:!0}});return function(tn){return ht.apply(this,arguments)}}(),ke=function(){var ht=(0,h.A)(function*(jt,tn){(void 0!==jt.deepWait?jt.deepWait:tn)&&(yield Promise.all([ut(jt.enteringEl),ut(jt.leavingEl)])),yield Ve(jt.viewIsReady,jt.enteringEl)});return function(tn,dn){return ht.apply(this,arguments)}}(),Ve=function(){var ht=(0,h.A)(function*(jt,tn){jt&&(yield jt(tn))});return function(tn,dn){return ht.apply(this,arguments)}}(),Ze=(ht,jt)=>{const tn=jt.progressCallback,dn=new Promise(re=>{ht.onFinish(_e=>re(1===_e))});return tn?(ht.progressStart(!0),tn(ht)):ht.play(),dn},_t=(ht,jt)=>{Oe(jt,fe),Oe(ht,"ionViewWillEnter")},ct=(ht,jt)=>{Oe(ht,"ionViewDidEnter"),Oe(jt,Ce)},Oe=(ht,jt)=>{if(ht){const tn=new CustomEvent(jt,{bubbles:!1,cancelable:!1});ht.dispatchEvent(tn)}},ln=()=>new Promise(ht=>(0,k.r)(()=>(0,k.r)(()=>ht()))),ut=function(){var ht=(0,h.A)(function*(jt){const tn=jt;if(tn){if(null!=tn.componentOnReady){if(null!=(yield tn.componentOnReady()))return}else if(null!=tn.__registerHost)return void(yield new Promise(re=>(0,k.r)(re)));yield Promise.all(Array.from(tn.children).map(ut))}});return function(tn){return ht.apply(this,arguments)}}(),Mn=(ht,jt)=>{jt?(ht.setAttribute("aria-hidden","true"),ht.classList.add("ion-page-hidden")):(ht.hidden=!1,ht.removeAttribute("aria-hidden"),ht.classList.remove("ion-page-hidden"))},zt=(ht,jt,tn)=>{void 0!==ht&&(ht.style.zIndex="back"===tn?"99":"101"),void 0!==jt&&(jt.style.zIndex="100")},kt=ht=>ht.classList.contains("ion-page")?ht:ht.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ht},7953:(Ln,Tt,L)=>{"use strict";L.d(Tt,{T:()=>u});var h=L(8071);function u(k){return Symbol.asyncIterator&&(0,h.T)(k?.[Symbol.asyncIterator])}},8071:(Ln,Tt,L)=>{"use strict";function h(u){return"function"==typeof u}L.d(Tt,{T:()=>h})},8132:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Kp:()=>dt,Wk:()=>et,iI:()=>rt});var h=L(467),u=L(7303),k=L(2200),$=L(177),Te=L(2615),fe=L(3664),Ce=L(7705),He=L(9295),Se=L(4084),le=L(1413),pe=L(8455),Pe=L(7673),Me=L(9437),Le=L(274),We=L(5964),st=L(6365),it=L(1397);let et=(()=>{class cn{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,Te.vPA)(null);get href(){return(0,He.O8)(this.reactiveHref)}set href(Xt){this.reactiveHref.set(Xt)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new le.B;applicationErrorHandler=(0,Te.WQX)(Te.ZTf);options=(0,Te.WQX)(Se.J_,{optional:!0});constructor(Xt,on,On,gt,gr,Mr){this.router=Xt,this.route=on,this.tabIndexAttribute=On,this.renderer=gt,this.el=gr,this.locationStrategy=Mr,this.reactiveHref.set((0,Te.WQX)(new Ce.ES_("href"),{optional:!0}));const Er=gr.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Er||"area"===Er||!("object"!=typeof customElements||!customElements.get(Er)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let Xt=this.preserveFragment;const on=On=>"merge"===On||"preserve"===On;Xt||=on(this.queryParamsHandling),Xt||=!this.queryParamsHandling&&!on(this.options?.defaultQueryParamsHandling),Xt&&(this.subscription=this.router.events.subscribe(On=>{On instanceof Se.wF&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Xt){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Xt)}ngOnChanges(Xt){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Xt){null==Xt?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,Se.wO)(Xt)||Array.isArray(Xt)?Xt:[Xt],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Xt,on,On,gt,gr){const Mr=this.urlTree;if(null===Mr||this.isAnchorElement&&(0!==Xt||on||On||gt||gr||"string"==typeof this.target&&"_self"!=this.target))return!0;const Er={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(Mr,Er)?.catch(ai=>{this.applicationErrorHandler(ai)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Xt=this.urlTree;this.reactiveHref.set(null!==Xt&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Xt))??"":null)}applyAttributeValue(Xt,on){const On=this.renderer,gt=this.el.nativeElement;null!==on?On.setAttribute(gt,Xt,on):On.removeAttribute(gt,Xt)}get urlTree(){return null===this.routerLinkInput?null:(0,Se.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(on){return new(on||cn)(fe.rXU(Se.Ix),fe.rXU(Se.nX),fe.kS0("tabindex"),fe.rXU(fe.sFG),fe.rXU(fe.aKT),fe.rXU(u.hb))};static \u0275dir=fe.FsC({type:cn,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(on,On){1&on&&fe.bIt("click",function(gr){return On.onClick(gr.button,gr.ctrlKey,gr.shiftKey,gr.altKey,gr.metaKey)}),2&on&&fe.BMQ("href",On.reactiveHref(),fe.n$t)("target",On.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ce.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ce.L39],replaceUrl:[2,"replaceUrl","replaceUrl",Ce.L39],routerLink:"routerLink"},features:[fe.OA$]})}return cn})();class Fe{}let dt=(()=>{class cn{preload(Xt,on){return on().pipe((0,Me.W)(()=>(0,Pe.of)(null)))}static \u0275fac=function(on){return new(on||cn)};static \u0275prov=Te.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})(),Ve=(()=>{class cn{router;injector;preloadingStrategy;loader;subscription;constructor(Xt,on,On,gt){this.router=Xt,this.injector=on,this.preloadingStrategy=On,this.loader=gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,We.p)(Xt=>Xt instanceof Se.wF),(0,Le.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Xt,on){const On=[];for(const gt of on){gt.providers&&!gt._injector&&(gt._injector=(0,fe.Ol2)(gt.providers,Xt,`Route: ${gt.path}`));const gr=gt._injector??Xt,Mr=gt._loadedInjector??gr;(gt.loadChildren&&!gt._loadedRoutes&&void 0===gt.canLoad||gt.loadComponent&&!gt._loadedComponent)&&On.push(this.preloadConfig(gr,gt)),(gt.children||gt._loadedRoutes)&&On.push(this.processRoutes(Mr,gt.children??gt._loadedRoutes))}return(0,pe.H)(On).pipe((0,st.U)())}preloadConfig(Xt,on){return this.preloadingStrategy.preload(on,()=>{let On;On=on.loadChildren&&void 0===on.canLoad?this.loader.loadChildren(Xt,on):(0,Pe.of)(null);const gt=On.pipe((0,it.Z)(gr=>null===gr?(0,Pe.of)(void 0):(on._loadedRoutes=gr.routes,on._loadedInjector=gr.injector,this.processRoutes(gr.injector??Xt,gr.routes))));if(on.loadComponent&&!on._loadedComponent){const gr=this.loader.loadComponent(Xt,on);return(0,pe.H)([gt,gr]).pipe((0,st.U)())}return gt})}static \u0275fac=function(on){return new(on||cn)(Te.KVO(Se.Ix),Te.KVO(Te.uvJ),Te.KVO(Fe),Te.KVO(Se.D$))};static \u0275prov=Te.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();const Ze=new Te.nKC("");let _t=(()=>{class cn{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Se.wU;restoredId=0;store={};constructor(Xt,on,On,gt,gr={}){this.urlSerializer=Xt,this.transitions=on,this.viewportScroller=On,this.zone=gt,this.options=gr,gr.scrollPositionRestoration||="disabled",gr.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Xt=>{Xt instanceof Se.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Xt.navigationTrigger,this.restoredId=Xt.restoredState?Xt.restoredState.navigationId:0):Xt instanceof Se.wF?(this.lastId=Xt.id,this.scheduleScrollEvent(Xt,this.urlSerializer.parse(Xt.urlAfterRedirects).fragment)):Xt instanceof Se.lW&&Xt.code===Se.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Xt,this.urlSerializer.parse(Xt.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Xt=>{if(!(Xt instanceof Se.OY))return;const on={behavior:"instant"};Xt.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0],on):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Xt.position,on):Xt.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Xt.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(Xt,on){var On=this;this.zone.runOutsideAngular((0,h.A)(function*(){yield new Promise(gt=>{setTimeout(gt),typeof requestAnimationFrame<"u"&&requestAnimationFrame(gt)}),On.zone.run(()=>{On.transitions.events.next(new Se.OY(Xt,"popstate"===On.lastSource?On.store[On.restoredId]:null,on))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(on){fe.QTQ()};static \u0275prov=Te.jDH({token:cn,factory:cn.\u0275fac})}return cn})();function zt(cn,cr){return{\u0275kind:cn,\u0275providers:cr}}function dn(){const cn=(0,Te.WQX)(Te.zZn);return cr=>{const Xt=cn.get(fe.o8S);if(cr!==Xt.components[0])return;const on=cn.get(Se.Ix),On=cn.get(re);1===cn.get(_e)&&on.initialNavigation(),cn.get(wt,null,{optional:!0})?.setUpPreloading(),cn.get(Ze,null,{optional:!0})?.init(),on.resetRootComponentType(Xt.componentTypes[0]),On.closed||(On.next(),On.complete(),On.unsubscribe())}}const re=new Te.nKC("",{factory:()=>new le.B}),_e=new Te.nKC("",{providedIn:"root",factory:()=>1}),wt=new Te.nKC("");function Gt(cn){return zt(0,[{provide:wt,useExisting:Ve},{provide:Fe,useExisting:cn}])}function yt(cn){return(0,fe._jY)("NgRouterViewTransitions"),zt(9,[{provide:Se.Pu,useValue:Se.Lg},{provide:Se.bK,useValue:{skipNextTransition:!!cn?.skipInitialTransition,...cn}}])}const Pt=[u.aZ,{provide:Se.Sd,useClass:Se.nU},Se.Ix,Se.Zp,{provide:Se.nX,useFactory:function Mn(cn){return cn.routerState.root},deps:[Se.Ix]},Se.D$,[]];let rt=(()=>{class cn{constructor(){}static forRoot(Xt,on){return{ngModule:cn,providers:[Pt,[],{provide:Se.bw,multi:!0,useValue:Xt},[],on?.errorHandler?{provide:Se.XR,useValue:on.errorHandler}:[],{provide:Se.J_,useValue:on||{}},on?.useHash?{provide:u.hb,useClass:k.fw}:{provide:u.hb,useClass:u.Sm},{provide:Ze,useFactory:()=>{const cn=(0,Te.WQX)($.Xr),cr=(0,Te.WQX)(fe.SKi),Xt=(0,Te.WQX)(Se.J_),on=(0,Te.WQX)(Se.J2),On=(0,Te.WQX)(Se.Sd);return Xt.scrollOffset&&cn.setOffset(Xt.scrollOffset),new _t(On,on,cn,cr,Xt)}},on?.preloadingStrategy?Gt(on.preloadingStrategy).\u0275providers:[],on?.initialNavigation?Sr(on):[],on?.bindToComponentInputs?zt(8,[Se.tD,{provide:Se.c1,useExisting:Se.tD}]).\u0275providers:[],on?.enableViewTransitions?yt().\u0275providers:[],[{provide:fr,useFactory:dn},{provide:fe.iLQ,multi:!0,useExisting:fr}]]}}static forChild(Xt){return{ngModule:cn,providers:[{provide:Se.bw,multi:!0,useValue:Xt}]}}static \u0275fac=function(on){return new(on||cn)};static \u0275mod=fe.$C({type:cn});static \u0275inj=Te.G2t({})}return cn})();function Sr(cn){return["disabled"===cn.initialNavigation?zt(3,[(0,fe.phd)(()=>{(0,Te.WQX)(Se.Ix).setUpLocationChangeListener()}),{provide:_e,useValue:2}]).\u0275providers:[],"enabledBlocking"===cn.initialNavigation?zt(2,[{provide:fe.tvf,useValue:!0},{provide:_e,useValue:0},(0,fe.phd)(()=>{const cr=(0,Te.WQX)(Te.zZn);return cr.get(u.hj,Promise.resolve()).then(()=>new Promise(on=>{const On=cr.get(Se.Ix),gt=cr.get(re);(0,Se.gk)(On,()=>{on(!0)}),cr.get(Se.J2).afterPreactivation=()=>(on(!0),gt.closed?(0,Pe.of)(void 0):gt),On.initialNavigation()}))})]).\u0275providers:[]]}const fr=new Te.nKC("")},8141:(Ln,Tt,L)=>{"use strict";L.d(Tt,{M:()=>Te});var h=L(8071),u=L(9974),k=L(4360),$=L(3669);function Te(fe,Ce,He){const Se=(0,h.T)(fe)||Ce||He?{next:fe,error:Ce,complete:He}:fe;return Se?(0,u.N)((le,pe)=>{var Pe;null===(Pe=Se.subscribe)||void 0===Pe||Pe.call(Se);let Me=!0;le.subscribe((0,k._)(pe,Le=>{var We;null===(We=Se.next)||void 0===We||We.call(Se,Le),pe.next(Le)},()=>{var Le;Me=!1,null===(Le=Se.complete)||void 0===Le||Le.call(Se),pe.complete()},Le=>{var We;Me=!1,null===(We=Se.error)||void 0===We||We.call(Se,Le),pe.error(Le)},()=>{var Le,We;Me&&(null===(Le=Se.unsubscribe)||void 0===Le||Le.call(Se)),null===(We=Se.finalize)||void 0===We||We.call(Se)}))}):$.D}},8359:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Kn:()=>fe,yU:()=>Te,Uv:()=>Ce});var h=L(8071);const k=(0,L(1853).L)(Se=>function(pe){Se(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Pe,Me)=>`${Me+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var $=L(7908);class Te{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Le of pe)Le.remove(this);else pe.remove(this);const{initialTeardown:Pe}=this;if((0,h.T)(Pe))try{Pe()}catch(Le){le=Le instanceof k?Le.errors:[Le]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const Le of Me)try{He(Le)}catch(We){le=le??[],We instanceof k?le=[...le,...We.errors]:le.push(We)}}if(le)throw new k(le)}}add(le){var pe;if(le&&le!==this)if(this.closed)He(le);else{if(le instanceof Te){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(le)}}_hasParent(le){const{_parentage:pe}=this;return pe===le||Array.isArray(pe)&&pe.includes(le)}_addParent(le){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(le),pe):pe?[pe,le]:le}_removeParent(le){const{_parentage:pe}=this;pe===le?this._parentage=null:Array.isArray(pe)&&(0,$.o)(pe,le)}remove(le){const{_finalizers:pe}=this;pe&&(0,$.o)(pe,le),le instanceof Te&&le._removeParent(this)}}Te.EMPTY=(()=>{const Se=new Te;return Se.closed=!0,Se})();const fe=Te.EMPTY;function Ce(Se){return Se instanceof Te||Se&&"closed"in Se&&(0,h.T)(Se.remove)&&(0,h.T)(Se.add)&&(0,h.T)(Se.unsubscribe)}function He(Se){(0,h.T)(Se)?Se():Se.unsubscribe()}},8440:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Ag:()=>zt,Bg:()=>et,EF:()=>ht,H8:()=>ut,Ht:()=>fe,JC:()=>Me,KE:()=>He,KO:()=>_e,KZ:()=>Mn,Ny:()=>kt,TO:()=>it,Wu:()=>Rt,XR:()=>ke,a7:()=>ct,bh:()=>Te,j2:()=>Gt,mC:()=>Ht,mK:()=>pe,n5:()=>we,nR:()=>Ce,pL:()=>le,s0:()=>lt,si:()=>dt});let h=null,u=!1,k=1,$=null;const Te=Symbol("SIGNAL");function fe(yt){const Tn=h;return h=yt,Tn}function Ce(){return h}function He(){return u}const le={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pe(yt){if(u)throw new Error("");if(null===h)return;h.consumerOnSignalRead(yt);const Tn=h.producersTail;if(void 0!==Tn&&Tn.producer===yt)return;let an;const Pt=h.recomputing;if(Pt&&(an=void 0!==Tn?Tn.nextProducer:h.producers,void 0!==an&&an.producer===yt))return h.producersTail=an,void(an.lastReadVersion=yt.version);const rt=yt.consumersTail;if(void 0!==rt&&rt.consumer===h&&(!Pt||function ln(yt,Tn){const an=Tn.producersTail;if(void 0!==an){let Pt=Tn.producers;do{if(Pt===yt)return!0;if(Pt===an)break;Pt=Pt.nextProducer}while(void 0!==Pt)}return!1}(rt,h)))return;const Bt=_t(h),vn={producer:yt,consumer:h,nextProducer:an,prevConsumer:rt,lastReadVersion:yt.version,nextConsumer:void 0};h.producersTail=vn,void 0!==Tn?Tn.nextProducer=vn:h.producers=vn,Bt&&Ve(yt,vn)}function Me(yt){if((!_t(yt)||yt.dirty)&&(yt.dirty||yt.lastCleanEpoch!==k)){if(!yt.producerMustRecompute(yt)&&!dt(yt))return void it(yt);yt.producerRecomputeValue(yt),it(yt)}}function Le(yt){if(void 0===yt.consumers)return;const Tn=u;u=!0;try{for(let an=yt.consumers;void 0!==an;an=an.nextConsumer){const Pt=an.consumer;Pt.dirty||st(Pt)}}finally{u=Tn}}function We(){return!1!==h?.consumerAllowSignalWrites}function st(yt){yt.dirty=!0,Le(yt),yt.consumerMarkedDirty?.(yt)}function it(yt){yt.dirty=!1,yt.lastCleanEpoch=k}function et(yt){return yt&&function vt(yt){yt.producersTail=void 0,yt.recomputing=!0}(yt),fe(yt)}function Rt(yt,Tn){fe(Tn),yt&&function Fe(yt){yt.recomputing=!1;const Tn=yt.producersTail;let an=void 0!==Tn?Tn.nextProducer:yt.producers;if(void 0!==an){if(_t(yt))do{an=Ze(an)}while(void 0!==an);void 0!==Tn?Tn.nextProducer=void 0:yt.producers=void 0}}(yt)}function dt(yt){for(let Tn=yt.producers;void 0!==Tn;Tn=Tn.nextProducer){const an=Tn.producer,Pt=Tn.lastReadVersion;if(Pt!==an.version||(Me(an),Pt!==an.version))return!0}return!1}function ke(yt){if(_t(yt)){let Tn=yt.producers;for(;void 0!==Tn;)Tn=Ze(Tn)}yt.producers=void 0,yt.producersTail=void 0,yt.consumers=void 0,yt.consumersTail=void 0}function Ve(yt,Tn){const an=yt.consumersTail,Pt=_t(yt);if(void 0!==an?(Tn.nextConsumer=an.nextConsumer,an.nextConsumer=Tn):(Tn.nextConsumer=void 0,yt.consumers=Tn),Tn.prevConsumer=an,yt.consumersTail=Tn,!Pt)for(let rt=yt.producers;void 0!==rt;rt=rt.nextProducer)Ve(rt.producer,rt)}function Ze(yt){const Tn=yt.producer,an=yt.nextProducer,Pt=yt.nextConsumer,rt=yt.prevConsumer;if(yt.nextConsumer=void 0,yt.prevConsumer=void 0,void 0!==Pt?Pt.prevConsumer=rt:Tn.consumersTail=rt,void 0!==rt)rt.nextConsumer=Pt;else if(Tn.consumers=Pt,!_t(Tn)){let Bt=Tn.producers;for(;void 0!==Bt;)Bt=Ze(Bt)}return an}function _t(yt){return yt.consumerIsAlwaysLive||void 0!==yt.consumers}function ct(yt){$?.(yt)}function ut(yt,Tn){return Object.is(yt,Tn)}function Mn(yt,Tn){const an=Object.create(jt);an.computation=yt,void 0!==Tn&&(an.equal=Tn);const Pt=()=>{if(Me(an),pe(an),an.value===ht)throw an.error;return an.value};return Pt[Te]=an,ct(an),Pt}const zt=Symbol("UNSET"),kt=Symbol("COMPUTING"),ht=Symbol("ERRORED"),jt={...le,value:zt,dirty:!0,error:null,equal:ut,kind:"computed",producerMustRecompute:yt=>yt.value===zt||yt.value===kt,producerRecomputeValue(yt){if(yt.value===kt)throw new Error("");const Tn=yt.value;yt.value=kt;const an=et(yt);let Pt,rt=!1;try{Pt=yt.computation(),fe(null),rt=Tn!==zt&&Tn!==ht&&Pt!==ht&&yt.equal(Tn,Pt)}catch(Bt){Pt=ht,yt.error=Bt}finally{Rt(yt,an)}rt?yt.value=Tn:(yt.value=Pt,yt.version++)}};let dn=function tn(){throw new Error};function re(yt){dn(yt)}function _e(yt){dn=yt}let Ue=null;function we(yt,Tn){const an=Object.create(lt);an.value=yt,void 0!==Tn&&(an.equal=Tn);const Pt=()=>function wt(yt){return pe(yt),yt.value}(an);return Pt[Te]=an,ct(an),[Pt,vn=>Gt(an,vn),vn=>Ht(an,vn)]}function Gt(yt,Tn){We()||re(yt),yt.equal(yt.value,Tn)||(yt.value=Tn,function In(yt){yt.version++,function Pe(){k++}(),Le(yt),Ue?.(yt)}(yt))}function Ht(yt,Tn){We()||re(yt),Gt(yt,Tn(yt.value))}const lt={...le,equal:ut,value:void 0,kind:"signal"}},8455:(Ln,Tt,L)=>{"use strict";L.d(Tt,{H:()=>dt});var h=L(8750),u=L(941),k=L(6745),fe=L(1985),He=L(4761),Se=L(8071),le=L(5225);function Pe(ke,Ve){if(!ke)throw new Error("Iterable cannot be null");return new fe.c(Ze=>{(0,le.N)(Ze,Ve,()=>{const _t=ke[Symbol.asyncIterator]();(0,le.N)(Ze,Ve,()=>{_t.next().then(ct=>{ct.done?Ze.complete():Ze.next(ct.value)})},0,!0)})})}var Me=L(5055),Le=L(9858),We=L(7441),st=L(5397),it=L(7953),et=L(591),vt=L(5196);function dt(ke,Ve){return Ve?function Fe(ke,Ve){if(null!=ke){if((0,Me.l)(ke))return function $(ke,Ve){return(0,h.Tg)(ke).pipe((0,k._)(Ve),(0,u.Q)(Ve))}(ke,Ve);if((0,We.X)(ke))return function Ce(ke,Ve){return new fe.c(Ze=>{let _t=0;return Ve.schedule(function(){_t===ke.length?Ze.complete():(Ze.next(ke[_t++]),Ze.closed||this.schedule())})})}(ke,Ve);if((0,Le.y)(ke))return function Te(ke,Ve){return(0,h.Tg)(ke).pipe((0,k._)(Ve),(0,u.Q)(Ve))}(ke,Ve);if((0,it.T)(ke))return Pe(ke,Ve);if((0,st.x)(ke))return function pe(ke,Ve){return new fe.c(Ze=>{let _t;return(0,le.N)(Ze,Ve,()=>{_t=ke[He.l](),(0,le.N)(Ze,Ve,()=>{let ct,Oe;try{({value:ct,done:Oe}=_t.next())}catch(ln){return void Ze.error(ln)}Oe?Ze.complete():Ze.next(ct)},0,!0)}),()=>(0,Se.T)(_t?.return)&&_t.return()})}(ke,Ve);if((0,vt.U)(ke))return function Rt(ke,Ve){return Pe((0,vt.C)(ke),Ve)}(ke,Ve)}throw(0,et.L)(ke)}(ke,Ve):(0,h.Tg)(ke)}},8496:(Ln,Tt,L)=>{"use strict";function h(u,k){return u.reduce(($,Te,fe)=>($[Te]=k[fe],$),{})}L.d(Tt,{e:()=>h})},8607:(Ln,Tt,L)=>{"use strict";L.d(Tt,{B:()=>$,G:()=>Te});class u{constructor(Ce,He,Se,le,pe){this.id=He,this.name=Se,this.disableScroll=pe,this.priority=1e6*le+He,this.ctrl=Ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ce=this.ctrl.capture(this.name,this.id,this.priority);return Ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class k{constructor(Ce,He,Se,le){this.id=He,this.disable=Se,this.disableScroll=le,this.ctrl=Ce}block(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.disableGesture(Ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.enableGesture(Ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const $="backdrop-no-scroll",Te=new class h{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ce){var He;return new u(this,this.newID(),Ce.name,null!==(He=Ce.priority)&&void 0!==He?He:0,!!Ce.disableScroll)}createBlocker(Ce={}){return new k(this,this.newID(),Ce.disable,!!Ce.disableScroll)}start(Ce,He,Se){return this.canStart(Ce)?(this.requestedStart.set(He,Se),!0):(this.requestedStart.delete(He),!1)}capture(Ce,He,Se){if(!this.start(Ce,He,Se))return!1;const le=this.requestedStart;let pe=-1e4;if(le.forEach(Pe=>{pe=Math.max(pe,Pe)}),pe===Se){this.capturedId=He,le.clear();const Pe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ce}});return document.dispatchEvent(Pe),!0}return le.delete(He),!1}release(Ce){this.requestedStart.delete(Ce),this.capturedId===Ce&&(this.capturedId=void 0)}disableGesture(Ce,He){let Se=this.disabledGestures.get(Ce);void 0===Se&&(Se=new Set,this.disabledGestures.set(Ce,Se)),Se.add(He)}enableGesture(Ce,He){const Se=this.disabledGestures.get(Ce);void 0!==Se&&Se.delete(He)}disableScroll(Ce){this.disabledScroll.add(Ce),1===this.disabledScroll.size&&document.body.classList.add($)}enableScroll(Ce){this.disabledScroll.delete(Ce),0===this.disabledScroll.size&&document.body.classList.remove($)}canStart(Ce){return!(void 0!==this.capturedId||this.isDisabled(Ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ce){const He=this.disabledGestures.get(Ce);return!!(He&&He.size>0)}newID(){return this.gestureId++,this.gestureId}}},8750:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Tg:()=>Me});var h=L(1635),u=L(7441),k=L(9858),$=L(1985),Te=L(5055),fe=L(7953),Ce=L(591),He=L(5397),Se=L(5196),le=L(8071),pe=L(5334),Pe=L(3494);function Me(Fe){if(Fe instanceof $.c)return Fe;if(null!=Fe){if((0,Te.l)(Fe))return function Le(Fe){return new $.c(dt=>{const ke=Fe[Pe.s]();if((0,le.T)(ke.subscribe))return ke.subscribe(dt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,u.X)(Fe))return function We(Fe){return new $.c(dt=>{for(let ke=0;ke<Fe.length&&!dt.closed;ke++)dt.next(Fe[ke]);dt.complete()})}(Fe);if((0,k.y)(Fe))return function st(Fe){return new $.c(dt=>{Fe.then(ke=>{dt.closed||(dt.next(ke),dt.complete())},ke=>dt.error(ke)).then(null,pe.m)})}(Fe);if((0,fe.T)(Fe))return et(Fe);if((0,He.x)(Fe))return function it(Fe){return new $.c(dt=>{for(const ke of Fe)if(dt.next(ke),dt.closed)return;dt.complete()})}(Fe);if((0,Se.U)(Fe))return function vt(Fe){return et((0,Se.C)(Fe))}(Fe)}throw(0,Ce.L)(Fe)}function et(Fe){return new $.c(dt=>{(function Rt(Fe,dt){var ke,Ve,Ze,_t;return(0,h.sH)(this,void 0,void 0,function*(){try{for(ke=(0,h.xN)(Fe);!(Ve=yield ke.next()).done;)if(dt.next(Ve.value),dt.closed)return}catch(ct){Ze={error:ct}}finally{try{Ve&&!Ve.done&&(_t=ke.return)&&(yield _t.call(ke))}finally{if(Ze)throw Ze.error}}dt.complete()})})(Fe,dt).catch(ke=>dt.error(ke))})}},8779:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Kq:()=>Te,h1:()=>He,uA:()=>k});var h=L(467),u=L(1401);class k{constructor(le,pe,Pe){this.name=le,this.instanceFactory=pe,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const $="[DEFAULT]";class Te{constructor(le,pe){this.name=le,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const pe=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(pe)){const Pe=new u.cY;if(this.instancesDeferred.set(pe,Pe),this.isInitialized(pe)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:pe});Me&&Pe.resolve(Me)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(le){var pe;const Pe=this.normalizeInstanceIdentifier(le?.identifier),Me=null!==(pe=le?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(Le){if(Me)return null;throw Le}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Ce(Se){return"EAGER"===Se.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:$})}catch{}for(const[pe,Pe]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(pe);try{const Le=this.getOrInitializeService({instanceIdentifier:Me});Pe.resolve(Le)}catch{}}}}clearInstance(le=$){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,h.A)(function*(){const pe=Array.from(le.instances.values());yield Promise.all([...pe.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...pe.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=$){return this.instances.has(le)}getOptions(le=$){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:pe={}}=le,Pe=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:Pe,options:pe});for(const[Le,We]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(Le)&&We.resolve(Me);return Me}onInit(le,pe){var Pe;const Me=this.normalizeInstanceIdentifier(pe),Le=null!==(Pe=this.onInitCallbacks.get(Me))&&void 0!==Pe?Pe:new Set;Le.add(le),this.onInitCallbacks.set(Me,Le);const We=this.instances.get(Me);return We&&le(We,Me),()=>{Le.delete(le)}}invokeOnInitCallbacks(le,pe){const Pe=this.onInitCallbacks.get(pe);if(Pe)for(const Me of Pe)try{Me(le,pe)}catch{}}getOrInitializeService({instanceIdentifier:le,options:pe={}}){let Pe=this.instances.get(le);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=le,Se===$?void 0:Se),options:pe}),this.instances.set(le,Pe),this.instancesOptions.set(le,pe),this.invokeOnInitCallbacks(Pe,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Pe)}catch{}var Se;return Pe||null}normalizeInstanceIdentifier(le=$){return this.component?this.component.multipleInstances?le:$:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const pe=this.getProvider(le.name);if(pe.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);pe.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const pe=new Te(le,this);return this.providers.set(le,pe),pe}getProviders(){return Array.from(this.providers.values())}}},8793:(Ln,Tt,L)=>{"use strict";L.d(Tt,{x:()=>Te});var h=L(6365),k=L(3794),$=L(8455);function Te(...fe){return function u(){return(0,h.U)(1)}()((0,$.H)(fe,(0,k.lI)(fe)))}},8996:(Ln,Tt,L)=>{var h={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,944,7428],"./ion-datetime_3.entry.js":[2885,944,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-otp.entry.js":[7676,2076,7676],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,2076,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function u(k){if(!L.o(h,k))return Promise.resolve().then(()=>{var fe=new Error("Cannot find module '"+k+"'");throw fe.code="MODULE_NOT_FOUND",fe});var $=h[k],Te=$[0];return Promise.all($.slice(1).map(L.e)).then(()=>L(Te))}u.keys=()=>Object.keys(h),u.id=8996,Ln.exports=u},9081:(Ln,Tt,L)=>{"use strict";L.d(Tt,{m:()=>Me});var h=L(467),u=L(9596),k=L(9431),$=L(5705),Te=L(4674),fe=L(6855),Ce=L(2541);const He=Le=>(0,Ce.c)().duration(Le?400:300),Se=Le=>{let We,st;const it=Le.width+8,et=(0,Ce.c)(),vt=(0,Ce.c)();Le.isEndSide?(We=it+"px",st="0px"):(We=-it+"px",st="0px"),et.addElement(Le.menuInnerEl).fromTo("transform",`translateX(${We})`,`translateX(${st})`);const Fe="ios"===(0,fe.b)(Le),dt=Fe?.2:.25;return vt.addElement(Le.backdropEl).fromTo("opacity",.01,dt),He(Fe).addAnimation([et,vt])},le=Le=>{let We,st;const it=(0,fe.b)(Le),et=Le.width;Le.isEndSide?(We=-et+"px",st=et+"px"):(We=et+"px",st=-et+"px");const vt=(0,Ce.c)().addElement(Le.menuInnerEl).fromTo("transform",`translateX(${st})`,"translateX(0px)"),Rt=(0,Ce.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${We})`),Fe=(0,Ce.c)().addElement(Le.backdropEl).fromTo("opacity",.01,.32);return He("ios"===it).addAnimation([vt,Rt,Fe])},pe=Le=>{const We=(0,fe.b)(Le),st=Le.width*(Le.isEndSide?-1:1)+"px",it=(0,Ce.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${st})`);return He("ios"===We).addAnimation(it)},Me=(()=>{const Le=new Map,We=[],st=function(){var dn=(0,h.A)(function*(re){const _e=yield ke(re,!0);return!!_e&&_e.open()});return function(_e){return dn.apply(this,arguments)}}(),it=function(){var dn=(0,h.A)(function*(re){const _e=yield void 0!==re?ke(re,!0):Ve();return void 0!==_e&&_e.close()});return function(_e){return dn.apply(this,arguments)}}(),et=function(){var dn=(0,h.A)(function*(re){const _e=yield ke(re,!0);return!!_e&&_e.toggle()});return function(_e){return dn.apply(this,arguments)}}(),vt=function(){var dn=(0,h.A)(function*(re,_e){const Ue=yield ke(_e);return Ue&&(Ue.disabled=!re),Ue});return function(_e,Ue){return dn.apply(this,arguments)}}(),Rt=function(){var dn=(0,h.A)(function*(re,_e){const Ue=yield ke(_e);return Ue&&(Ue.swipeGesture=re),Ue});return function(_e,Ue){return dn.apply(this,arguments)}}(),Fe=function(){var dn=(0,h.A)(function*(re){if(null!=re){const _e=yield ke(re);return void 0!==_e&&_e.isOpen()}return void 0!==(yield Ve())});return function(_e){return dn.apply(this,arguments)}}(),dt=function(){var dn=(0,h.A)(function*(re){const _e=yield ke(re);return!!_e&&!_e.disabled});return function(_e){return dn.apply(this,arguments)}}(),ke=function(){var dn=(0,h.A)(function*(re,_e=!1){if(yield tn(),"start"===re||"end"===re){const we=We.filter(wt=>wt.side===re&&!wt.disabled);if(we.length>=1)return we.length>1&&_e&&(0,$.f)(`menuController queried for a menu on the "${re}" side, but ${we.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,we.map(wt=>wt.el)),we[0].el;const tt=We.filter(wt=>wt.side===re);if(tt.length>=1)return tt.length>1&&_e&&(0,$.f)(`menuController queried for a menu on the "${re}" side, but ${tt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,tt.map(wt=>wt.el)),tt[0].el}else if(null!=re)return jt(we=>we.menuId===re);return jt(we=>!we.disabled)||(We.length>0?We[0].el:void 0)});return function(_e){return dn.apply(this,arguments)}}(),Ve=function(){var dn=(0,h.A)(function*(){return yield tn(),zt()});return function(){return dn.apply(this,arguments)}}(),Ze=function(){var dn=(0,h.A)(function*(){return yield tn(),kt()});return function(){return dn.apply(this,arguments)}}(),_t=function(){var dn=(0,h.A)(function*(){return yield tn(),ht()});return function(){return dn.apply(this,arguments)}}(),ct=(dn,re)=>{Le.set(dn,re)},ut=function(){var dn=(0,h.A)(function*(re,_e,Ue,we){if(ht())return!1;if(_e){const tt=yield Ve();tt&&re.el!==tt&&(yield tt.setOpen(!1,!1))}return re._setOpen(_e,Ue,we)});return function(_e,Ue,we,tt){return dn.apply(this,arguments)}}(),zt=()=>jt(dn=>dn._isOpen),kt=()=>We.map(dn=>dn.el),ht=()=>We.some(dn=>dn.isAnimating),jt=dn=>{const re=We.find(dn);if(void 0!==re)return re.el},tn=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(dn=>new Promise(re=>(0,Te.c)(dn,re))));return ct("reveal",pe),ct("push",le),ct("overlay",Se),null==u.d||u.d.addEventListener("ionBackButton",dn=>{const re=zt();re&&dn.detail.register(k.MENU_BACK_BUTTON_PRIORITY,()=>re.close())}),{registerAnimation:ct,get:ke,getMenus:Ze,getOpen:Ve,isEnabled:dt,swipeGesture:Rt,isAnimating:_t,isOpen:Fe,enable:vt,toggle:et,close:it,open:st,_getOpenSync:zt,_createAnimation:(dn,re)=>{const _e=Le.get(dn);if(!_e)throw new Error("animation not registered");return _e(re)},_register:dn=>{We.indexOf(dn)<0&&We.push(dn)},_unregister:dn=>{const re=We.indexOf(dn);re>-1&&We.splice(re,1)},_setOpen:ut}})()},9147:(Ln,Tt,L)=>{"use strict";L.d(Tt,{E:()=>pe,a:()=>u,s:()=>Se});var h=L(5705);const u=Pe=>{try{if(Pe instanceof He)return Pe.value;if(!Te()||"string"!=typeof Pe||""===Pe)return Pe;if(Pe.includes("onload="))return"";const Me=document.createDocumentFragment(),Le=document.createElement("div");Me.appendChild(Le),Le.innerHTML=Pe,Ce.forEach(et=>{const vt=Me.querySelectorAll(et);for(let Rt=vt.length-1;Rt>=0;Rt--){const Fe=vt[Rt];Fe.parentNode?Fe.parentNode.removeChild(Fe):Me.removeChild(Fe);const dt=$(Fe);for(let ke=0;ke<dt.length;ke++)k(dt[ke])}});const We=$(Me);for(let et=0;et<We.length;et++)k(We[et]);const st=document.createElement("div");st.appendChild(Me);const it=st.querySelector("div");return null!==it?it.innerHTML:st.innerHTML}catch(Me){return(0,h.j)("sanitizeDOMString",Me),""}},k=Pe=>{if(Pe.nodeType&&1!==Pe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Pe.attributes instanceof NamedNodeMap))return void Pe.remove();for(let Le=Pe.attributes.length-1;Le>=0;Le--){const We=Pe.attributes.item(Le),st=We.name;if(!fe.includes(st.toLowerCase())){Pe.removeAttribute(st);continue}const it=We.value,et=Pe[st];(null!=it&&it.toLowerCase().includes("javascript:")||null!=et&&et.toLowerCase().includes("javascript:"))&&Pe.removeAttribute(st)}const Me=$(Pe);for(let Le=0;Le<Me.length;Le++)k(Me[Le])},$=Pe=>null!=Pe.children?Pe.children:Pe.childNodes,Te=()=>{var Pe;const Me=window,Le=null===(Pe=Me?.Ionic)||void 0===Pe?void 0:Pe.config;return!Le||(Le.get?Le.get("sanitizerEnabled",!0):!0===Le.sanitizerEnabled||void 0===Le.sanitizerEnabled)},fe=["class","id","href","src","name","slot"],Ce=["script","style","iframe","meta","link","object","embed"];class He{constructor(Me){this.value=Me}}const Se=Pe=>{const Me=window,Le=Me.Ionic;if(!Le||!Le.config||"Object"===Le.config.constructor.name)return Me.Ionic=Me.Ionic||{},Me.Ionic.config=Object.assign(Object.assign({},Me.Ionic.config),Pe),Me.Ionic.config},pe=!1},9172:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Z:()=>$});var h=L(8793),u=L(3794),k=L(9974);function $(...Te){const fe=(0,u.lI)(Te);return(0,k.N)((Ce,He)=>{(fe?(0,h.x)(Te,Ce,fe):(0,h.x)(Te,Ce)).subscribe(He)})}},9270:(Ln,Tt,L)=>{"use strict";L.d(Tt,{f:()=>h});const h={setTimeout(u,k,...$){const{delegate:Te}=h;return Te?.setTimeout?Te.setTimeout(u,k,...$):setTimeout(u,k,...$)},clearTimeout(u){const{delegate:k}=h;return(k?.clearTimeout||clearTimeout)(u)},delegate:void 0}},9295:(Ln,Tt,L)=>{"use strict";L.d(Tt,{EW:()=>Le,O8:()=>Me}),L(467);var u=L(2615),k=L(8440);function Me(re){return function He(re){const _e=(0,k.Ht)(null);try{return re()}finally{(0,k.Ht)(_e)}}(re)}function Le(re,_e){return(0,k.KZ)(re,_e?.equal)}Error,Error},9350:(Ln,Tt,L)=>{"use strict";L.d(Tt,{G:()=>u});const u=(0,L(1853).L)(k=>function(){k(this),this.name="EmptyError",this.message="no elements in sequence"})},9431:(Ln,Tt,L)=>{"use strict";L.r(Tt),L.d(Tt,{MENU_BACK_BUTTON_PRIORITY:()=>He,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ce,blockHardwareBackButton:()=>Te,shouldUseCloseWatcher:()=>$,startHardwareBackButton:()=>fe});var h=L(467),u=L(9596),k=L(5705);const $=()=>k.e.get("experimentalCloseWatcher",!1)&&void 0!==u.w&&"CloseWatcher"in u.w,Te=()=>{document.addEventListener("backbutton",()=>{})},fe=()=>{const Se=document;let le=!1;const pe=()=>{if(le)return;let Pe=0,Me=[];const Le=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(it,et){Me.push({priority:it,handler:et,id:Pe++})}}});Se.dispatchEvent(Le);const We=function(){var it=(0,h.A)(function*(et){try{if(et?.handler){const vt=et.handler(st);null!=vt&&(yield vt)}}catch(vt){(0,k.j)("[ion-app] - Exception in startHardwareBackButton:",vt)}});return function(vt){return it.apply(this,arguments)}}(),st=()=>{if(Me.length>0){let it={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Me.forEach(et=>{et.priority>=it.priority&&(it=et)}),le=!0,Me=Me.filter(et=>et.id!==it.id),We(it).then(()=>le=!1)}};st()};if($()){let Pe;const Me=()=>{Pe?.destroy(),Pe=new u.w.CloseWatcher,Pe.onclose=()=>{pe(),Me()}};Me()}else Se.addEventListener("backbutton",pe)},Ce=100,He=99},9437:(Ln,Tt,L)=>{"use strict";L.d(Tt,{W:()=>$});var h=L(8750),u=L(4360),k=L(9974);function $(Te){return(0,k.N)((fe,Ce)=>{let le,He=null,Se=!1;He=fe.subscribe((0,u._)(Ce,void 0,void 0,pe=>{le=(0,h.Tg)(Te(pe,$(Te)(fe))),He?(He.unsubscribe(),He=null,le.subscribe(Ce)):Se=!0})),Se&&(He.unsubscribe(),He=null,le.subscribe(Ce))})}},9574:(Ln,Tt,L)=>{"use strict";L.d(Tt,{A:()=>We});var h=L(1401),u=L(8779),k=L(2979),$=L(5398);class Te{constructor(it,et){this._delegate=it,this.firebase=et,(0,k._addComponent)(it,new u.uA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(it,et=k._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const Rt=this._delegate.container.getProvider(it);return!Rt.isInitialized()&&"EXPLICIT"===(null===(vt=Rt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&Rt.initialize(),Rt.getImmediate({identifier:et})}_removeServiceInstance(it,et=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(et)}_addComponent(it){(0,k._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,k._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new h.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function Se(){const st=function He(st){const it={},et={__esModule:!0,initializeApp:function Fe(Ze,_t={}){const ct=k.initializeApp(Ze,_t);if((0,h.gR)(it,ct.name))return it[ct.name];const Oe=new st(ct,et);return it[ct.name]=Oe,Oe},app:Rt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function ke(Ze){const _t=Ze.name,ct=_t.replace("-compat","");if(k._registerComponent(Ze)&&"PUBLIC"===Ze.type){const Oe=(ln=Rt())=>{if("function"!=typeof ln[ct])throw Ce.create("invalid-app-argument",{appName:_t});return ln[ct]()};void 0!==Ze.serviceProps&&(0,h.zw)(Oe,Ze.serviceProps),et[ct]=Oe,st.prototype[ct]=function(...ln){return this._getService.bind(this,_t).apply(this,Ze.multipleInstances?ln:[])}}return"PUBLIC"===Ze.type?et[ct]:null},removeApp:function vt(Ze){delete it[Ze]},useAsService:function Ve(Ze,_t){return"serverAuth"===_t?null:_t},modularAPIs:k}};function Rt(Ze){if(!(0,h.gR)(it,Ze=Ze||k._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Ze});return it[Ze]}return et.default=et,Object.defineProperty(et,"apps",{get:function dt(){return Object.keys(it).map(Ze=>it[Ze])}}),Rt.App=st,et}(Te);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function it(et){(0,h.zw)(st,et)},createSubscribe:h.tD,ErrorFactory:h.FA,deepExtend:h.zw}),st}(),pe=new $.Vy("@firebase/app-compat");try{const st=(0,h.mS)();if(void 0!==st.firebase){pe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const it=st.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&pe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const We=le;!function Le(st){(0,k.registerVersion)("@firebase/app-compat","0.2.43",st)}()},9596:(Ln,Tt,L)=>{"use strict";L.d(Tt,{d:()=>u,w:()=>h});const h=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},9786:(Ln,Tt,L)=>{"use strict";L.d(Tt,{Y:()=>k,l:()=>$});var h=L(1026);let u=null;function k(Te){if(h.$.useDeprecatedSynchronousErrorHandling){const fe=!u;if(fe&&(u={errorThrown:!1,error:null}),Te(),fe){const{errorThrown:Ce,error:He}=u;if(u=null,Ce)throw He}}else Te()}function $(Te){h.$.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=Te)}},9858:(Ln,Tt,L)=>{"use strict";L.d(Tt,{y:()=>u});var h=L(8071);function u(k){return(0,h.T)(k?.then)}},9901:(Ln,Tt,L)=>{"use strict";L.d(Tt,{U:()=>k});var h=L(9974),u=L(4360);function k($){return(0,h.N)((Te,fe)=>{let Ce=!1;Te.subscribe((0,u._)(fe,He=>{Ce=!0,fe.next(He)},()=>{Ce||fe.next($),fe.complete()}))})}},9974:(Ln,Tt,L)=>{"use strict";L.d(Tt,{N:()=>k,S:()=>u});var h=L(8071);function u($){return(0,h.T)($?.lift)}function k($){return Te=>{if(u(Te))return Te.lift(function(fe){try{return $(fe,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}}},Ln=>{Ln(Ln.s=7102)}]);