"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4536],{4536:(P,_,a)=>{a.r(_),a.d(_,{RegistroPage:()=>f});var m=a(467),r=a(7343),p=a(2200),g=a(4341),i=a(2615),n=a(3664),h=a(4796),C=a(4084),M=a(5035);let f=(()=>{var u;class d{constructor(o,s,e,l){this.auth=o,this.router=s,this.toastCtrl=e,this.navCtrl=l,this.usuario="",this.email="",this.contrasena="",this.confirmarcontrasena="",this.loading=!1}registrarUsuario(){var o=this;return(0,m.A)(function*(){if(o.contrasena===o.confirmarcontrasena){o.loading=!0;try{const s=yield o.auth.register(o.usuario,o.email,o.contrasena);o.loading=!1,s?(yield(yield o.toastCtrl.create({message:"\xa1Registro exitoso! Ahora puedes iniciar sesi\xf3n.",duration:3e3,color:"success"})).present(),o.navCtrl.navigateRoot(["/login"])):yield(yield o.toastCtrl.create({message:"Error al registrar. El usuario/email podr\xeda estar en uso.",duration:3e3,color:"danger"})).present()}catch(s){o.loading=!1,console.error("Error durante el registro:",s),yield(yield o.toastCtrl.create({message:"Error en el servidor. Intenta de nuevo m\xe1s tarde.",duration:3e3,color:"danger"})).present()}}else yield(yield o.toastCtrl.create({message:"Las contrase\xf1as no coinciden.",duration:3e3,color:"warning"})).present()})()}goToLogin(){this.navCtrl.navigateForward(["/login"])}static#n=u=()=>(this.\u0275fac=function(s){return new(s||d)(n.rXU(h.u),n.rXU(C.Ix),n.rXU(r.K_),n.rXU(M.q9))},this.\u0275cmp=n.VBU({type:d,selectors:[["app-registro"]],decls:38,vars:6,consts:[["registroForm","ngForm"],["color","primary"],["fullscreen","",1,"login-page"],[1,"login-wrapper"],[1,"login-card"],[1,"ion-text-center"],["novalidate","",3,"ngSubmit"],[1,"rounded-item"],["name","mail-outline","slot","start"],["position","floating"],["type","email","inputmode","email","name","email","required","","email","","clear-input","true",3,"ngModelChange","ngModel"],["name","person-outline","slot","start"],["type","text","name","usuario","required","",3,"ngModelChange","ngModel"],["name","lock-closed-outline","slot","start"],["type","password","name","contrasena","required","",3,"ngModelChange","ngModel"],["name","lock-open-outline","slot","start"],["type","password","name","confirmarcontrasena","required","",3,"ngModelChange","ngModel"],["expand","block","type","submit","color","primary",1,"ion-margin-top",3,"disabled"],[1,"register","ion-text-center","ion-padding-top"],["role","button",3,"click"]],template:function(s,e){if(1&s){const l=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),n.EFF(3,"Registro de Usuario"),n.k0s()()(),n.j41(4,"ion-content",2)(5,"div",3)(6,"div",4)(7,"h2",5),n.EFF(8,"Crear Cuenta"),n.k0s(),n.j41(9,"form",6,0),n.bIt("ngSubmit",function(){return i.eBV(l),i.Njj(e.registrarUsuario())}),n.j41(11,"ion-item",7),n.nrm(12,"ion-icon",8),n.j41(13,"ion-label",9),n.EFF(14,"Correo Electr\xf3nico"),n.k0s(),n.j41(15,"ion-input",10),n.mxI("ngModelChange",function(t){return i.eBV(l),n.DH7(e.email,t)||(e.email=t),i.Njj(t)}),n.k0s()(),n.j41(16,"ion-item",7),n.nrm(17,"ion-icon",11),n.j41(18,"ion-label",9),n.EFF(19,"Usuario"),n.k0s(),n.j41(20,"ion-input",12),n.mxI("ngModelChange",function(t){return i.eBV(l),n.DH7(e.usuario,t)||(e.usuario=t),i.Njj(t)}),n.k0s()(),n.j41(21,"ion-item",7),n.nrm(22,"ion-icon",13),n.j41(23,"ion-label",9),n.EFF(24,"Contrase\xf1a"),n.k0s(),n.j41(25,"ion-input",14),n.mxI("ngModelChange",function(t){return i.eBV(l),n.DH7(e.contrasena,t)||(e.contrasena=t),i.Njj(t)}),n.k0s()(),n.j41(26,"ion-item",7),n.nrm(27,"ion-icon",15),n.j41(28,"ion-label",9),n.EFF(29,"Confirmar contrase\xf1a"),n.k0s(),n.j41(30,"ion-input",16),n.mxI("ngModelChange",function(t){return i.eBV(l),n.DH7(e.confirmarcontrasena,t)||(e.confirmarcontrasena=t),i.Njj(t)}),n.k0s()(),n.j41(31,"ion-button",17),n.EFF(32),n.k0s(),n.j41(33,"div",18)(34,"p"),n.EFF(35," \xbfYa tienes cuenta? "),n.j41(36,"a",19),n.bIt("click",function(){return i.eBV(l),i.Njj(e.goToLogin())}),n.EFF(37,"Iniciar Sesi\xf3n"),n.k0s()()()()()()()}if(2&s){const l=n.sdS(10);n.R7$(15),n.R50("ngModel",e.email),n.R7$(5),n.R50("ngModel",e.usuario),n.R7$(5),n.R50("ngModel",e.contrasena),n.R7$(5),n.R50("ngModel",e.confirmarcontrasena),n.R7$(),n.Y8G("disabled",e.loading||l.invalid),n.R7$(),n.SpI(" ",e.loading?"Registrando...":"Registrarse"," ")}},dependencies:[p.MD,r.bv,r.Jm,r.W9,r.eU,r.iq,r.$w,r.uz,r.he,r.BC,r.ai,r.Gw,g.YN,g.qT,g.BC,g.cb,g.YS,g.Dg,g.vS,g.cV],styles:['@charset "UTF-8";.login-page[_ngcontent-%COMP%]{--background: #f4f6f8;display:flex;justify-content:center;align-items:flex-start;padding:0;overflow:auto}.login-wrapper[_ngcontent-%COMP%]{width:100%;max-width:100%;height:100%;display:flex;flex-direction:column}.login-card[_ngcontent-%COMP%]{background:#fff;padding:30px 25px;border-radius:0;box-shadow:none;flex-grow:1}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin-bottom:25px}ion-item[_ngcontent-%COMP%]{--border-radius: 0px;--highlight-height: 0px;--inner-border-width: 0 0 0px 0;margin-bottom:15px;box-shadow:none;border-bottom:1px solid #eee;--padding-start: 0;--inner-padding-end: 0}ion-item.item-has-focus[_ngcontent-%COMP%]{border-bottom:2px solid var(--ion-color-primary)}ion-button[color=success][_ngcontent-%COMP%]{height:50px;font-weight:600;letter-spacing:.5px;--background: var(--ion-color-success);--background-activated: var(--ion-color-success-shade);--box-shadow: 0 4px 10px rgba(45, 172, 85, .4);border-radius:8px}.register[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666}.register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-primary);text-decoration:none;transition:color .2s ease}.register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ion-color-primary-shade)}@media (max-width: 600px){.login-card[_ngcontent-%COMP%]{padding:20px 15px}}']}))}return u(),d})()}}]);