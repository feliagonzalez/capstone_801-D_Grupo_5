<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Registro de Usuario</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="login-page" fullscreen>
  <div class="login-wrapper">
    <div class="login-card">
      <h2 class="ion-text-center">Crear Cuenta</h2>

      <form (ngSubmit)="registrarUsuario()" #registroForm="ngForm" novalidate>

        <!-- Correo -->
        <ion-item class="rounded-item" [class.invalid]="emailField.invalid && emailField.touched">
          <ion-icon name="mail-outline" slot="start"></ion-icon>
          <ion-label position="floating">Correo ElectrÃ³nico</ion-label>
          <ion-input
            type="email"
            inputmode="email"
            [(ngModel)]="email"
            name="email"
            #emailField="ngModel"
            required
            email
            clear-input="true">
          </ion-input>
        </ion-item>
        <div *ngIf="emailField.invalid && emailField.touched" class="validation-errors">
          <p *ngIf="emailField.errors?.['required']">ğŸ“© El correo es obligatorio.</p>
          <p *ngIf="emailField.errors?.['email']">âŒ Ingresa un correo vÃ¡lido.</p>
        </div>

        <!-- Usuario -->
        <ion-item class="rounded-item" [class.invalid]="usuarioField.invalid && usuarioField.touched">
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-label position="floating">Usuario</ion-label>
          <ion-input
            type="text"
            [(ngModel)]="usuario"
            name="usuario"
            #usuarioField="ngModel"
            required
            minlength="6">
          </ion-input>
        </ion-item>
        <div *ngIf="usuarioField.invalid && usuarioField.touched" class="validation-errors">
          <p *ngIf="usuarioField.errors?.['required']">ğŸ‘¤ El nombre de usuario es obligatorio.</p>
          <p *ngIf="usuarioField.errors?.['minlength']">Debe tener al menos 6 caracteres.</p>
        </div>

        <!-- ContraseÃ±a -->
        <ion-item class="rounded-item" [class.invalid]="contrasenaField.invalid && contrasenaField.touched">
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-label position="floating">ContraseÃ±a</ion-label>
          <ion-input
            type="password"
            [(ngModel)]="contrasena"
            name="contrasena"
            #contrasenaField="ngModel"
            required
            minlength="8">
          </ion-input>
        </ion-item>
        <div *ngIf="contrasenaField.invalid && contrasenaField.touched" class="validation-errors">
          <p *ngIf="contrasenaField.errors?.['required']">ğŸ”’ La contraseÃ±a es obligatoria.</p>
          <p *ngIf="contrasenaField.errors?.['minlength']">Debe tener al menos 8 caracteres.</p>
        </div>

        <!-- Confirmar contraseÃ±a -->
        <ion-item class="rounded-item" [class.invalid]="confirmarField.invalid && confirmarField.touched">
          <ion-icon name="lock-open-outline" slot="start"></ion-icon>
          <ion-label position="floating">Confirmar contraseÃ±a</ion-label>
          <ion-input
            type="password"
            [(ngModel)]="confirmarcontrasena"
            name="confirmarcontrasena"
            #confirmarField="ngModel"
            required
            minlength="8">
          </ion-input>
        </ion-item>
        <div *ngIf="confirmarField.invalid && confirmarField.touched" class="validation-errors">
          <p *ngIf="confirmarField.errors?.['required']">ğŸ” Debes confirmar la contraseÃ±a.</p>
          <p *ngIf="confirmarField.errors?.['minlength']">Debe tener al menos 8 caracteres.</p>
        </div>

        <!-- BotÃ³n -->
        <ion-button
          expand="block"
          type="submit"
          [disabled]="loading || registroForm.invalid"
          class="ion-margin-top"
          color="primary">
          {{ loading ? 'Registrando...' : 'Registrarse' }}
        </ion-button>

        <div class="register ion-text-center ion-padding-top">
          <p>Â¿Ya tienes cuenta?
            <a role="button" (click)="goToLogin()">Iniciar SesiÃ³n</a>
          </p>
        </div>

      </form>
    </div>
  </div>
</ion-content>
